"use strict";(()=>{var Zc=Object.defineProperty;var L_=(i,e,t)=>e in i?Zc(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var V=(i,e)=>()=>(i&&(e=i(i=0)),e);var Rt=(i,e)=>{for(var t in e)Zc(i,t,{get:e[t],enumerable:!0})};var H=(i,e,t)=>L_(i,typeof e!="symbol"?e+"":e,t);function kn(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function au(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var xt,Qi,wa,nt,Fe,Vt,he,ca,R_,N_,lu,D_,O_,ze,xe,Pn,$s,gn,Ct,cu,Fs,uu,it,ua,Ea,yi,na,ba,hu,F_,we,zt,ha,Ta,Nt,zs,fu,du,js,Vs,pu,Yr,H_,Hs,B_,Sa,$n,fa,_u,Tt,ia,eu,Bs,Ca,xa,jn,Ia,pt,Ie,Xe,wi,W_,Us,mu,gu,vu,Yt,z_,vi,tu,qs,Vr,V_,yu,Xs,Xn,mi,U_,da,q_,nu,Ji,Ys,Ks,Qs,wu,mn,Eu,bu,Y_,pa,G_,$_,Zi,iu,j_,Wt,Ur,Kn,$r,Ke,X_,_a,Tu,K_,Ut,ma,Su,Cu,ga,xu,Iu,Q_,J_,Z_,ku,em,tm,ir,Mu,nm,ru,qt,Wr,Ki,im,ue,zr,ra,Pu,Au,su,Mn,rm,ka,Gr,St,er,Q,sm,om,am,lm,cm,Lu,Ru,gi,Ei,Nu,sa,oa,Ma,tr,tt,um,Pa,hm,Aa,Gn,va,La,fm,dm,pm,qr,Du,Ou,Oe,Ra,Fu,_m,mm,Js,Hu,gm,Na,Da,vm,ym,wm,Oa,_t,nr,Ws,Em,ou,aa,ya,Bu,bm,Gs,Tm,Sm,la,dt,Cm,xm,Im,km,Mm,Pm,Am,Lm,Rm,Nm,Dm,Om,Fm,Hm,Bm,Wm,zm,Vm,Fa=V(()=>{xt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Qi={duration:.5,overwrite:!1,delay:0},Vt=1e8,he=1/Vt,ca=Math.PI*2,R_=ca/4,N_=0,lu=Math.sqrt,D_=Math.cos,O_=Math.sin,ze=function(e){return typeof e=="string"},xe=function(e){return typeof e=="function"},Pn=function(e){return typeof e=="number"},$s=function(e){return typeof e=="undefined"},gn=function(e){return typeof e=="object"},Ct=function(e){return e!==!1},cu=function(){return typeof window!="undefined"},Fs=function(e){return xe(e)||ze(e)},uu=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},it=Array.isArray,ua=/(?:-?\.?\d|\.)+/gi,Ea=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,yi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,na=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ba=/[+-]=-?[.\d]+/,hu=/[^,'"\[\]\s]+/gi,F_=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Nt={},zs={},du=function(e){return(zs=vi(e,Nt))&&dt},js=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Vs=function(e,t){return!t&&console.warn(e)},pu=function(e,t){return e&&(Nt[e]=t)&&zs&&(zs[e]=t)||Nt},Yr=function(){return 0},H_={suppressEvents:!0,isStart:!0,kill:!1},Hs={suppressEvents:!0,kill:!1},B_={suppressEvents:!0},Sa={},$n=[],fa={},Tt={},ia={},eu=30,Bs=[],Ca="",xa=function(e){var t=e[0],n,r;if(gn(t)||xe(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=Bs.length;r--&&!Bs[r].targetTest(t););n=Bs[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new Ma(e[r],n)))||e.splice(r,1);return e},jn=function(e){return e._gsap||xa(Ut(e))[0]._gsap},Ia=function(e,t,n){return(n=e[t])&&xe(n)?e[t]():$s(n)&&e.getAttribute&&e.getAttribute(t)||n},pt=function(e,t){return(e=e.split(",")).forEach(t)||e},Ie=function(e){return Math.round(e*1e5)/1e5||0},Xe=function(e){return Math.round(e*1e7)/1e7||0},wi=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},W_=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Us=function(){var e=$n.length,t=$n.slice(0),n,r;for(fa={},$n.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},mu=function(e,t,n,r){$n.length&&!nt&&Us(),e.render(t,n,r||nt&&t<0&&(e._initted||e._startAt)),$n.length&&!nt&&Us()},gu=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(hu).length<2?t:ze(e)?e.trim():e},vu=function(e){return e},Yt=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},z_=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},vi=function(e,t){for(var n in t)e[n]=t[n];return e},tu=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=gn(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},qs=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},Vr=function(e){var t=e.parent||we,n=e.keyframes?z_(it(e.keyframes)):Yt;if(Ct(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},V_=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},yu=function(e,t,n,r,s){n===void 0&&(n="_first"),r===void 0&&(r="_last");var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},Xs=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Xn=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},mi=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},U_=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},da=function(e,t,n,r){return e._startAt&&(nt?e._startAt.revert(Hs):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},q_=function i(e){return!e||e._ts&&i(e.parent)},nu=function(e){return e._repeat?Ji(e._tTime,e=e.duration()+e._rDelay)*e:0},Ji=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Ys=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ks=function(e){return e._end=Xe(e._start+(e._tDur/Math.abs(e._ts||e._rts||he)||0))},Qs=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Xe(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ks(e),n._dirty||mi(n,e)),e},wu=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=Ys(e.rawTime(),t),(!t._dur||$r(0,t.totalDuration(),n)-t._tTime>he)&&t.render(n,!0)),mi(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-he}},mn=function(e,t,n,r){return t.parent&&Xn(t),t._start=Xe((Pn(n)?n:n||e!==we?Wt(e,n,t):e._time)+t._delay),t._end=Xe(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),yu(e,t,"_first","_last",e._sort?"_start":0),pa(t)||(e._recent=t),r||wu(e,t),e._ts<0&&Qs(e,e._tTime),e},Eu=function(e,t){return(Nt.ScrollTrigger||js("scrollTrigger",t))&&Nt.ScrollTrigger.create(t,e)},bu=function(e,t,n,r,s){if(La(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!nt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&_u!==St.frame)return $n.push(e),e._lazy=[s,r],1},Y_=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},pa=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},G_=function(e,t,n,r){var s=e.ratio,o=t<0||!t&&(!e._start&&Y_(e)&&!(!e._initted&&pa(e))||(e._ts<0||e._dp._ts<0)&&!pa(e))?0:1,a=e._rDelay,l=0,c,u,h;if(a&&e._repeat&&(l=$r(0,e._tDur,t),u=Ji(l,a),e._yoyo&&u&1&&(o=1-o),u!==Ji(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||nt||r||e._zTime===he||!t&&e._zTime){if(!e._initted&&bu(e,t,r,n,l))return;for(h=e._zTime,e._zTime=t||(n?he:0),n||(n=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&da(e,t,n,!0),e._onUpdate&&!n&&qt(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&qt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Xn(e,1),!n&&!nt&&(qt(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},$_=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Zi=function(e,t,n,r){var s=e._repeat,o=Xe(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Xe(o*(s+1)+e._rDelay*s):o,a>0&&!r&&Qs(e,e._tTime=e._tDur*a),e.parent&&Ks(e),n||mi(e.parent,e),e},iu=function(e){return e instanceof tt?mi(e):Zi(e,e._dur)},j_={_start:0,endTime:Yr,totalDuration:Yr},Wt=function i(e,t,n){var r=e.labels,s=e._recent||j_,o=e.duration()>=Vt?s.endTime(!1):e._dur,a,l,c;return ze(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:n).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&n&&(l=l/100*(it(n)?n[0]:n).totalDuration()),a>1?i(e,t.substr(0,a-1),n)+l:o+l)):t==null?o:+t},Ur=function(e,t,n){var r=Pn(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,l;if(r&&(o.duration=t[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ct(l.vars.inherit)&&l.parent;o.immediateRender=Ct(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Oe(t[0],o,t[s+1])},Kn=function(e,t){return e||e===0?t(e):t},$r=function(e,t,n){return n<e?e:n>t?t:n},Ke=function(e,t){return!ze(e)||!(t=F_.exec(e))?"":t[1]},X_=function(e,t,n){return Kn(n,function(r){return $r(e,t,r)})},_a=[].slice,Tu=function(e,t){return e&&gn(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&gn(e[0]))&&!e.nodeType&&e!==zt},K_=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return ze(r)&&!t||Tu(r,1)?(s=n).push.apply(s,Ut(r)):n.push(r)})||n},Ut=function(e,t,n){return Fe&&!t&&Fe.selector?Fe.selector(e):ze(e)&&!n&&(ha||!er())?_a.call((t||Ta).querySelectorAll(e),0):it(e)?K_(e,n):Tu(e)?_a.call(e,0):e?[e]:[]},ma=function(e){return e=Ut(e)[0]||Vs("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Ut(t,n.querySelectorAll?n:n===e?Vs("Invalid scope")||Ta.createElement("div"):e)}},Su=function(e){return e.sort(function(){return .5-Math.random()})},Cu=function(e){if(xe(e))return e;var t=gn(e)?e:{each:e},n=gi(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,u=r,h=r;return ze(r)?u=h={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],h=r[1]),function(f,d,_){var p=(_||t).length,m=o[p],g,v,y,E,b,C,S,I,x;if(!m){if(x=t.grid==="auto"?0:(t.grid||[1,Vt])[1],!x){for(S=-Vt;S<(S=_[x++].getBoundingClientRect().left)&&x<p;);x--}for(m=o[p]=[],g=l?Math.min(x,p)*u-.5:r%x,v=x===Vt?0:l?p*h/x-.5:r/x|0,S=0,I=Vt,C=0;C<p;C++)y=C%x-g,E=v-(C/x|0),m[C]=b=c?Math.abs(c==="y"?E:y):lu(y*y+E*E),b>S&&(S=b),b<I&&(I=b);r==="random"&&Su(m),m.max=S-I,m.min=I,m.v=p=(parseFloat(t.amount)||parseFloat(t.each)*(x>p?p-1:c?c==="y"?p/x:x:Math.max(x,p/x))||0)*(r==="edges"?-1:1),m.b=p<0?s-p:s,m.u=Ke(t.amount||t.each)||0,n=n&&p<0?Lu(n):n}return p=(m[f]-m.min)/m.max||0,Xe(m.b+(n?n(p):p)*m.v)+m.u}},ga=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Xe(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Pn(n)?0:Ke(n))}},xu=function(e,t){var n=it(e),r,s;return!n&&gn(e)&&(r=n=e.radius||Vt,e.values?(e=Ut(e.values),(s=!Pn(e[0]))&&(r*=r)):e=ga(e.increment)),Kn(t,n?xe(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Vt,u=0,h=e.length,f,d;h--;)s?(f=e[h].x-a,d=e[h].y-l,f=f*f+d*d):f=Math.abs(e[h]-a),f<c&&(c=f,u=h);return u=!r||c<=r?e[u]:o,s||u===o||Pn(o)?u:u+Ke(o)}:ga(e))},Iu=function(e,t,n,r){return Kn(it(e)?!t:n===!0?!!(n=0):!r,function(){return it(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},Q_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,o){return o(s)},r)}},J_=function(e,t){return function(n){return e(parseFloat(n))+(t||Ke(n))}},Z_=function(e,t,n){return Mu(e,t,0,1,n)},ku=function(e,t,n){return Kn(n,function(r){return e[~~t(r)]})},em=function i(e,t,n){var r=t-e;return it(e)?ku(e,i(0,e.length),t):Kn(n,function(s){return(r+(s-e)%r)%r+e})},tm=function i(e,t,n){var r=t-e,s=r*2;return it(e)?ku(e,i(0,e.length-1),t):Kn(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},ir=function(e){for(var t=0,n="",r,s,o,a;~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?hu:ua),n+=e.substr(t,r-t)+Iu(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},Mu=function(e,t,n,r,s){var o=t-e,a=r-n;return Kn(s,function(l){return n+((l-e)/o*a||0)})},nm=function i(e,t,n,r){var s=isNaN(e+t)?0:function(d){return(1-d)*e+d*t};if(!s){var o=ze(e),a={},l,c,u,h,f;if(n===!0&&(r=1)&&(n=null),o)e={p:e},t={p:t};else if(it(e)&&!it(t)){for(u=[],h=e.length,f=h-2,c=1;c<h;c++)u.push(i(e[c-1],e[c]));h--,s=function(_){_*=h;var p=Math.min(f,~~_);return u[p](_-p)},n=t}else r||(e=vi(it(e)?[]:{},e));if(!u){for(l in t)Pa.call(a,e,l,"get",t[l]);s=function(_){return Da(_,a)||(o?e.p:e)}}}return Kn(n,s)},ru=function(e,t,n){var r=e.labels,s=Vt,o,a,l;for(o in r)a=r[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},qt=function(e,t,n){var r=e.vars,s=r[t],o=Fe,a=e._ctx,l,c,u;if(s)return l=r[t+"Params"],c=r.callbackScope||e,n&&$n.length&&Us(),a&&(Fe=a),u=l?s.apply(c,l):s.call(c),Fe=o,u},Wr=function(e){return Xn(e),e.scrollTrigger&&e.scrollTrigger.kill(!!nt),e.progress()<1&&qt(e,"onInterrupt"),e},im=function(e){e=!e.name&&e.default||e;var t=e.name,n=xe(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:Yr,render:Da,add:Pa,kill:ym,modifier:vm,rawVars:0},o={targetTest:0,get:0,getSetter:Js,aliases:{},register:0};if(er(),e!==r){if(Tt[t])return;Yt(r,Yt(qs(e,s),o)),vi(r.prototype,vi(s,qs(e,o))),Tt[r.prop=t]=r,e.targetTest&&(Bs.push(r),Sa[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}pu(t,r),e.register&&e.register(dt,r,_t)},ue=255,zr={aqua:[0,ue,ue],lime:[0,ue,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ue],navy:[0,0,128],white:[ue,ue,ue],olive:[128,128,0],yellow:[ue,ue,0],orange:[ue,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ue,0,0],pink:[ue,192,203],cyan:[0,ue,ue],transparent:[ue,ue,ue,0]},ra=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*ue+.5|0},Pu=function(e,t,n){var r=e?Pn(e)?[e>>16,e>>8&ue,e&ue]:0:zr.black,s,o,a,l,c,u,h,f,d,_;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),zr[e])r=zr[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&ue,r&ue,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&ue,e&ue]}else if(e.substr(0,3)==="hsl"){if(r=_=e.match(ua),!t)l=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,r.length>3&&(r[3]*=1),r[0]=ra(l+1/3,s,o),r[1]=ra(l,s,o),r[2]=ra(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(Ea),n&&r.length<4&&(r[3]=1),r}else r=e.match(ua)||zr.transparent;r=r.map(Number)}return t&&!_&&(s=r[0]/ue,o=r[1]/ue,a=r[2]/ue,h=Math.max(s,o,a),f=Math.min(s,o,a),u=(h+f)/2,h===f?l=c=0:(d=h-f,c=u>.5?d/(2-h-f):d/(h+f),l=h===s?(o-a)/d+(o<a?6:0):h===o?(a-s)/d+2:(s-o)/d+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),n&&r.length<4&&(r[3]=1),r},Au=function(e){var t=[],n=[],r=-1;return e.split(Mn).forEach(function(s){var o=s.match(yi)||[];t.push.apply(t,o),n.push(r+=o.length+1)}),t.c=n,t},su=function(e,t,n){var r="",s=(e+r).match(Mn),o=t?"hsla(":"rgba(",a=0,l,c,u,h;if(!s)return e;if(s=s.map(function(f){return(f=Pu(f,t,1))&&o+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),n&&(u=Au(e),l=n.c,l.join(r)!==u.c.join(r)))for(c=e.replace(Mn,"1").split(yi),h=c.length-1;a<h;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:n).shift());if(!c)for(c=e.split(Mn),h=c.length-1;a<h;a++)r+=c[a]+s[a];return r+c[h]},Mn=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in zr)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),rm=/hsl[a]?\(/,ka=function(e){var t=e.join(" "),n;if(Mn.lastIndex=0,Mn.test(t))return n=rm.test(t),e[1]=su(e[1],n),e[0]=su(e[0],n,Au(e[1])),!0},St=function(){var i=Date.now,e=500,t=33,n=i(),r=n,s=1e3/240,o=s,a=[],l,c,u,h,f,d,_=function p(m){var g=i()-r,v=m===!0,y,E,b,C;if(g>e&&(n+=g-t),r+=g,b=r-n,y=b-o,(y>0||v)&&(C=++h.frame,f=b-h.time*1e3,h.time=b=b/1e3,o+=y+(y>=s?4:s-y),E=1),v||(l=c(p)),E)for(d=0;d<a.length;d++)a[d](b,f,C,m)};return h={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(m){return f/(1e3/(m||60))},wake:function(){fu&&(!ha&&cu()&&(zt=ha=window,Ta=zt.document||{},Nt.gsap=dt,(zt.gsapVersions||(zt.gsapVersions=[])).push(dt.version),du(zs||zt.GreenSockGlobals||!zt.gsap&&zt||{}),u=zt.requestAnimationFrame),l&&h.sleep(),c=u||function(m){return setTimeout(m,o-h.time*1e3+1|0)},Gr=1,_(2))},sleep:function(){(u?zt.cancelAnimationFrame:clearTimeout)(l),Gr=0,c=Yr},lagSmoothing:function(m,g){e=m||1/0,t=Math.min(g||33,e)},fps:function(m){s=1e3/(m||240),o=h.time*1e3+s},add:function(m,g,v){var y=g?function(E,b,C,S){m(E,b,C,S),h.remove(y)}:m;return h.remove(m),a[v?"unshift":"push"](y),er(),y},remove:function(m,g){~(g=a.indexOf(m))&&a.splice(g,1)&&d>=g&&d--},_listeners:a},h}(),er=function(){return!Gr&&St.wake()},Q={},sm=/^[\d.\-M][\d.\-,\s]/,om=/["']/g,am=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,o=n.length,a,l,c;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(om,"").trim():+c,r=l.substr(a+1).trim();return t},lm=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},cm=function(e){var t=(e+"").split("("),n=Q[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[am(t[1])]:lm(e).split(",").map(gu)):Q._CE&&sm.test(e)?Q._CE("",e):n},Lu=function(e){return function(t){return 1-e(1-t)}},Ru=function i(e,t){for(var n=e._first,r;n;)n instanceof tt?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},gi=function(e,t){return e&&(xe(e)?e:Q[e]||cm(e))||t},Ei=function(e,t,n,r){n===void 0&&(n=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},o;return pt(e,function(a){Q[a]=Nt[a]=s,Q[o=a.toLowerCase()]=n;for(var l in s)Q[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Q[a+"."+l]=s[l]}),s},Nu=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},sa=function i(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/ca*(Math.asin(1/r)||0),a=function(u){return u===1?1:r*Math.pow(2,-10*u)*O_((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:Nu(a);return s=ca/s,l.config=function(c,u){return i(e,c,u)},l},oa=function i(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:Nu(n);return r.config=function(s){return i(e,s)},r};pt("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;Ei(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Q.Linear.easeNone=Q.none=Q.Linear.easeIn;Ei("Elastic",sa("in"),sa("out"),sa());(function(i,e){var t=1/e,n=2*t,r=2.5*t,s=function(a){return a<t?i*a*a:a<n?i*Math.pow(a-1.5/e,2)+.75:a<r?i*(a-=2.25/e)*a+.9375:i*Math.pow(a-2.625/e,2)+.984375};Ei("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Ei("Expo",function(i){return i?Math.pow(2,10*(i-1)):0});Ei("Circ",function(i){return-(lu(1-i*i)-1)});Ei("Sine",function(i){return i===1?1:-D_(i*R_)+1});Ei("Back",oa("in"),oa("out"),oa());Q.SteppedEase=Q.steps=Nt.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,o=1-he;return function(a){return((r*$r(0,o,a)|0)+s)*n}}};Qi.ease=Q["quad.out"];pt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return Ca+=i+","+i+"Params,"});Ma=function(e,t){this.id=N_++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Ia,this.set=t?t.getSetter:Js},tr=function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Zi(this,+t.duration,1,1),this.data=t.data,Fe&&(this._ctx=Fe,Fe.data.push(this)),Gr||St.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Zi(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(er(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Qs(this,n),!s._dp||s.parent||wu(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&mn(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===he||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),mu(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+nu(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+nu(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,r):this._repeat?Ji(this._tTime,s)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-he?0:this._rts;if(this._rts===n)return this;var r=this.parent&&this._ts?Ys(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-he?0:this._rts,this.totalTime($r(-this._delay,this._tDur,r),!0),Ks(this),U_(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(er(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==he&&(this._tTime-=he)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&mn(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Ct(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ys(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=B_);var r=nt;return nt=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),nt=r,this},e.globalTime=function(n){for(var r=this,s=arguments.length?n:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,iu(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,iu(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(Wt(this,n),Ct(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,Ct(r))},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-he:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-he,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=r&&s<this.endTime(!0)-he)},e.eventCallback=function(n,r,s){var o=this.vars;return arguments.length>1?(r?(o[n]=r,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=r)):delete o[n],this):o[n]},e.then=function(n){var r=this;return new Promise(function(s){var o=xe(n)?n:vu,a=function(){var c=r.then;r.then=null,xe(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){Wr(this)},i}();Yt(tr.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-he,_prom:0,_ps:!1,_rts:1});tt=function(i){au(e,i);function e(n,r){var s;return n===void 0&&(n={}),s=i.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Ct(n.sortChildren),we&&mn(n.parent||we,kn(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&Eu(kn(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return Ur(0,arguments,this),this},t.from=function(r,s,o){return Ur(1,arguments,this),this},t.fromTo=function(r,s,o,a){return Ur(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,Vr(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Oe(r,s,Wt(this,o),1),this},t.call=function(r,s,o){return mn(this,Oe.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Oe(r,o,Wt(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,Vr(o).immediateRender=Ct(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},t.staggerFromTo=function(r,s,o,a,l,c,u,h){return a.startAt=o,Vr(a).immediateRender=Ct(a.immediateRender),this.staggerTo(r,s,a,l,c,u,h)},t.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:Xe(r),h=this._zTime<0!=r<0&&(this._initted||!c),f,d,_,p,m,g,v,y,E,b,C,S;if(this!==we&&u>l&&r>=0&&(u=l),u!==this._tTime||o||h){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),f=u,E=this._start,y=this._ts,g=!y,h&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(C=this._yoyo,m=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(m*100+r,s,o);if(f=Xe(u%m),u===l?(p=this._repeat,f=c):(p=~~(u/m),p&&p===u/m&&(f=c,p--),f>c&&(f=c)),b=Ji(this._tTime,m),!a&&this._tTime&&b!==p&&(b=p),C&&p&1&&(f=c-f,S=1),p!==b&&!this._lock){var I=C&&b&1,x=I===(C&&p&1);if(p<b&&(I=!I),a=I?0:c,this._lock=1,this.render(a||(S?0:Xe(p*m)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&qt(this,"onRepeat"),this.vars.repeatRefresh&&!S&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,x&&(this._lock=2,a=I?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!S&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;Ru(this,S)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=$_(this,Xe(a),Xe(f)),v&&(u-=f-(f=v._start))),this._tTime=u,this._time=f,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&f&&!s&&(qt(this,"onStart"),this._tTime!==u))return this;if(f>=a&&r>=0)for(d=this._first;d;){if(_=d._next,(d._act||f>=d._start)&&d._ts&&v!==d){if(d.parent!==this)return this.render(r,s,o);if(d.render(d._ts>0?(f-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(f-d._start)*d._ts,s,o),f!==this._time||!this._ts&&!g){v=0,_&&(u+=this._zTime=-he);break}}d=_}else{d=this._last;for(var k=r<0?r:f;d;){if(_=d._prev,(d._act||k<=d._end)&&d._ts&&v!==d){if(d.parent!==this)return this.render(r,s,o);if(d.render(d._ts>0?(k-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(k-d._start)*d._ts,s,o||nt&&(d._initted||d._startAt)),f!==this._time||!this._ts&&!g){v=0,_&&(u+=this._zTime=k?-he:he);break}}d=_}}if(v&&!s&&(this.pause(),v.render(f>=a?0:-he)._zTime=f>=a?1:-1,this._ts))return this._start=E,Ks(this),this.render(r,s,o);this._onUpdate&&!s&&qt(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(E===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Xn(this,1),!s&&!(r<0&&!a)&&(u||a||!l)&&(qt(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Pn(s)||(s=Wt(this,s,r)),!(r instanceof tr)){if(it(r))return r.forEach(function(a){return o.add(a,s)}),this;if(ze(r))return this.addLabel(r,s);if(xe(r))r=Oe.delayedCall(0,r);else return this}return this!==r?mn(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Vt);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Oe?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return ze(r)?this.removeLabel(r):xe(r)?this.killTweensOf(r):(Xs(this,r),r===this._recent&&(this._recent=this._last),mi(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Xe(St.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Wt(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=Oe.delayedCall(0,s||Yr,o);return a.data="isPause",this._hasPause=1,mn(this,a,Wt(this,r))},t.removePause=function(r){var s=this._first;for(r=Wt(this,r);s;)s._start===r&&s.data==="isPause"&&Xn(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)Gn!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=Ut(r),l=this._first,c=Pn(s),u;l;)l instanceof Oe?W_(l._targets,a)&&(c?(!Gn||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=Wt(o,r),l=s,c=l.startAt,u=l.onStart,h=l.onStartParams,f=l.immediateRender,d,_=Oe.to(o,Yt({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||he,onStart:function(){if(o.pause(),!d){var m=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());_._dur!==m&&Zi(_,m,0,1).render(_._time,!0,!0),d=1}u&&u.apply(_,h||[])}},s));return f?_.render(0):_},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Yt({startAt:{time:Wt(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),ru(this,Wt(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),ru(this,Wt(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+he)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return mi(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),mi(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,l=Vt,c,u,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,mn(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Zi(o,o===we&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(we._ts&&(mu(we,Ys(r,we)),_u=St.frame),St.frame>=eu){eu+=xt.autoSleep||120;var s=we._first;if((!s||!s._ts)&&xt.autoSleep&&St._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||St.sleep()}}},e}(tr);Yt(tt.prototype,{_lock:0,_hasPause:0,_forcing:0});um=function(e,t,n,r,s,o,a){var l=new _t(this._pt,e,t,0,1,Na,null,s),c=0,u=0,h,f,d,_,p,m,g,v;for(l.b=n,l.e=r,n+="",r+="",(g=~r.indexOf("random("))&&(r=ir(r)),o&&(v=[n,r],o(v,e,t),n=v[0],r=v[1]),f=n.match(na)||[];h=na.exec(r);)_=h[0],p=r.substring(c,h.index),d?d=(d+1)%5:p.substr(-5)==="rgba("&&(d=1),_!==f[u++]&&(m=parseFloat(f[u-1])||0,l._pt={_next:l._pt,p:p||u===1?p:",",s:m,c:_.charAt(1)==="="?wi(m,_)-m:parseFloat(_)-m,m:d&&d<4?Math.round:0},c=na.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(ba.test(r)||g)&&(l.e=0),this._pt=l,l},Pa=function(e,t,n,r,s,o,a,l,c,u){xe(r)&&(r=r(s||0,e,o));var h=e[t],f=n!=="get"?n:xe(h)?c?e[t.indexOf("set")||!xe(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,d=xe(h)?c?_m:Fu:Ra,_;if(ze(r)&&(~r.indexOf("random(")&&(r=ir(r)),r.charAt(1)==="="&&(_=wi(f,r)+(Ke(f)||0),(_||_===0)&&(r=_))),!u||f!==r||va)return!isNaN(f*r)&&r!==""?(_=new _t(this._pt,e,t,+f||0,r-(f||0),typeof h=="boolean"?gm:Hu,0,d),c&&(_.fp=c),a&&_.modifier(a,this,e),this._pt=_):(!h&&!(t in e)&&js(t,r),um.call(this,e,t,f,r,d,l||xt.stringFilter,c))},hm=function(e,t,n,r,s){if(xe(e)&&(e=qr(e,s,t,n,r)),!gn(e)||e.style&&e.nodeType||it(e)||uu(e))return ze(e)?qr(e,s,t,n,r):e;var o={},a;for(a in e)o[a]=qr(e[a],s,t,n,r);return o},Aa=function(e,t,n,r,s,o){var a,l,c,u;if(Tt[e]&&(a=new Tt[e]).init(s,a.rawVars?t[e]:hm(t[e],r,s,o,n),n,r,o)!==!1&&(n._pt=l=new _t(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Ki))for(c=n._ptLookup[n._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},La=function i(e,t,n){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.onUpdateParams,h=r.callbackScope,f=r.runBackwards,d=r.yoyoEase,_=r.keyframes,p=r.autoRevert,m=e._dur,g=e._startAt,v=e._targets,y=e.parent,E=y&&y.data==="nested"?y.vars.targets:v,b=e._overwrite==="auto"&&!wa,C=e.timeline,S,I,x,k,L,R,X,G,F,N,q,z,se;if(C&&(!_||!s)&&(s="none"),e._ease=gi(s,Qi.ease),e._yEase=d?Lu(gi(d===!0?s:d,Qi.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!C&&!!r.runBackwards,!C||_&&!r.stagger){if(G=v[0]?jn(v[0]).harness:0,z=G&&r[G.prop],S=qs(r,Sa),g&&(g._zTime<0&&g.progress(1),t<0&&f&&a&&!p?g.render(-1,!0):g.revert(f&&m?Hs:H_),g._lazy=0),o){if(Xn(e._startAt=Oe.set(v,Yt({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!g&&Ct(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:h,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(nt||!a&&!p)&&e._startAt.revert(Hs),a&&m&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(f&&m&&!g){if(t&&(a=!1),x=Yt({overwrite:!1,data:"isFromStart",lazy:a&&!g&&Ct(l),immediateRender:a,stagger:0,parent:y},S),z&&(x[G.prop]=z),Xn(e._startAt=Oe.set(v,x)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(nt?e._startAt.revert(Hs):e._startAt.render(-1,!0)),e._zTime=t,!a)i(e._startAt,he,he);else if(!t)return}for(e._pt=e._ptCache=0,l=m&&Ct(l)||l&&!m,I=0;I<v.length;I++){if(L=v[I],X=L._gsap||xa(v)[I]._gsap,e._ptLookup[I]=N={},fa[X.id]&&$n.length&&Us(),q=E===v?I:E.indexOf(L),G&&(F=new G).init(L,z||S,e,q,E)!==!1&&(e._pt=k=new _t(e._pt,L,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(w){N[w]=k}),F.priority&&(R=1)),!G||z)for(x in S)Tt[x]&&(F=Aa(x,S,e,q,L,E))?F.priority&&(R=1):N[x]=k=Pa.call(e,L,x,"get",S[x],q,E,0,r.stringFilter);e._op&&e._op[I]&&e.kill(L,e._op[I]),b&&e._pt&&(Gn=e,we.killTweensOf(L,N,e.globalTime(t)),se=!e.parent,Gn=0),e._pt&&l&&(fa[X.id]=1)}R&&Oa(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!se,_&&t<=0&&C.render(Vt,!0,!0)},fm=function(e,t,n,r,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,h,f;if(!l)for(l=e._ptCache[t]=[],h=e._ptLookup,f=e._targets.length;f--;){if(c=h[f][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return va=1,e.vars[t]="+=0",La(e,a),va=0,1;l.push(c)}for(f=l.length;f--;)u=l[f],c=u._pt||u,c.s=(r||r===0)&&!s?r:c.s+(r||0)+o*c.c,c.c=n-c.s,u.e&&(u.e=Ie(n)+Ke(u.e)),u.b&&(u.b=c.s+Ke(u.b))},dm=function(e,t){var n=e[0]?jn(e[0]).harness:0,r=n&&n.aliases,s,o,a,l;if(!r)return t;s=vi({},t);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},pm=function(e,t,n,r){var s=t.ease||r||"power1.inOut",o,a;if(it(t))a=n[e]||(n[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},qr=function(e,t,n,r,s){return xe(e)?e.call(t,n,r,s):ze(e)&&~e.indexOf("random(")?ir(e):e},Du=Ca+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Ou={};pt(Du+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return Ou[i]=1});Oe=function(i){au(e,i);function e(n,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=i.call(this,o?r:Vr(r))||this;var l=a.vars,c=l.duration,u=l.delay,h=l.immediateRender,f=l.stagger,d=l.overwrite,_=l.keyframes,p=l.defaults,m=l.scrollTrigger,g=l.yoyoEase,v=r.parent||we,y=(it(n)||uu(n)?Pn(n[0]):"length"in r)?[n]:Ut(n),E,b,C,S,I,x,k,L;if(a._targets=y.length?xa(y):Vs("GSAP target "+n+" not found. https://greensock.com",!xt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,_||f||Fs(c)||Fs(u)){if(r=a.vars,E=a.timeline=new tt({data:"nested",defaults:p||{},targets:v&&v.data==="nested"?v.vars.targets:y}),E.kill(),E.parent=E._dp=kn(a),E._start=0,f||Fs(c)||Fs(u)){if(S=y.length,k=f&&Cu(f),gn(f))for(I in f)~Du.indexOf(I)&&(L||(L={}),L[I]=f[I]);for(b=0;b<S;b++)C=qs(r,Ou),C.stagger=0,g&&(C.yoyoEase=g),L&&vi(C,L),x=y[b],C.duration=+qr(c,kn(a),b,x,y),C.delay=(+qr(u,kn(a),b,x,y)||0)-a._delay,!f&&S===1&&C.delay&&(a._delay=u=C.delay,a._start+=u,C.delay=0),E.to(x,C,k?k(b,x,y):0),E._ease=Q.none;E.duration()?c=u=0:a.timeline=0}else if(_){Vr(Yt(E.vars.defaults,{ease:"none"})),E._ease=gi(_.ease||r.ease||"none");var R=0,X,G,F;if(it(_))_.forEach(function(N){return E.to(y,N,">")}),E.duration();else{C={};for(I in _)I==="ease"||I==="easeEach"||pm(I,_[I],C,_.easeEach);for(I in C)for(X=C[I].sort(function(N,q){return N.t-q.t}),R=0,b=0;b<X.length;b++)G=X[b],F={ease:G.e,duration:(G.t-(b?X[b-1].t:0))/100*c},F[I]=G.v,E.to(y,F,R),R+=F.duration;E.duration()<c&&E.to({},{duration:c-E.duration()})}}c||a.duration(c=E.duration())}else a.timeline=0;return d===!0&&!wa&&(Gn=kn(a),we.killTweensOf(y),Gn=0),mn(v,kn(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(h||!c&&!_&&a._start===Xe(v._time)&&Ct(h)&&q_(kn(a))&&v.data!=="nested")&&(a._tTime=-he,a.render(Math.max(0,-u)||0)),m&&Eu(kn(a),m),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,u=r<0,h=r>l-he&&!u?l:r<he?0:r,f,d,_,p,m,g,v,y,E;if(!c)G_(this,r,s,o);else if(h!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(f=h,y=this.timeline,this._repeat){if(p=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(p*100+r,s,o);if(f=Xe(h%p),h===l?(_=this._repeat,f=c):(_=~~(h/p),_&&_===h/p&&(f=c,_--),f>c&&(f=c)),g=this._yoyo&&_&1,g&&(E=this._yEase,f=c-f),m=Ji(this._tTime,p),f===a&&!o&&this._initted)return this._tTime=h,this;_!==m&&(y&&this._yEase&&Ru(y,g),this.vars.repeatRefresh&&!g&&!this._lock&&(this._lock=o=1,this.render(Xe(p*_),!0).invalidate()._lock=0))}if(!this._initted){if(bu(this,u?r:f,o,s,h))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=h,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(E||this._ease)(f/c),this._from&&(this.ratio=v=1-v),f&&!a&&!s&&(qt(this,"onStart"),this._tTime!==h))return this;for(d=this._pt;d;)d.r(v,d.d),d=d._next;y&&y.render(r<0?r:!f&&g?-he:y._dur*y._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&da(this,r,s,o),qt(this,"onUpdate")),this._repeat&&_!==m&&this.vars.onRepeat&&!s&&this.parent&&qt(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&da(this,r,!0,!0),(r||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Xn(this,1),!s&&!(u&&!a)&&(h||a||g)&&(qt(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a){Gr||St.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||La(this,l),c=this._ease(l/this._dur),fm(this,r,s,o,a,c,l)?this.resetTo(r,s,o,a):(Qs(this,0),this.parent||yu(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Wr(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Gn&&Gn.vars.overwrite!==!0)._first||Wr(this),this.parent&&o!==this.timeline.totalDuration()&&Zi(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?Ut(r):a,c=this._ptLookup,u=this._pt,h,f,d,_,p,m,g;if((!s||s==="all")&&V_(a,l))return s==="all"&&(this._pt=0),Wr(this);for(h=this._op=this._op||[],s!=="all"&&(ze(s)&&(p={},pt(s,function(v){return p[v]=1}),s=p),s=dm(a,s)),g=a.length;g--;)if(~l.indexOf(a[g])){f=c[g],s==="all"?(h[g]=s,_=f,d={}):(d=h[g]=h[g]||{},_=s);for(p in _)m=f&&f[p],m&&((!("kill"in m.d)||m.d.kill(p)===!0)&&Xs(this,m,"_pt"),delete f[p]),d!=="all"&&(d[p]=1)}return this._initted&&!this._pt&&u&&Wr(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Ur(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return Ur(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return we.killTweensOf(r,s,o)},e}(tr);Yt(Oe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});pt("staggerTo,staggerFrom,staggerFromTo",function(i){Oe[i]=function(){var e=new tt,t=_a.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});Ra=function(e,t,n){return e[t]=n},Fu=function(e,t,n){return e[t](n)},_m=function(e,t,n,r){return e[t](r.fp,n)},mm=function(e,t,n){return e.setAttribute(t,n)},Js=function(e,t){return xe(e[t])?Fu:$s(e[t])&&e.setAttribute?mm:Ra},Hu=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},gm=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Na=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Da=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},vm=function(e,t,n,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,n),s=o},ym=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?Xs(this,t,"_pt"):t.dep||(n=1),t=r;return!n},wm=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},Oa=function(e){for(var t=e._pt,n,r,s,o;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=n}e._pt=s},_t=function(){function i(t,n,r,s,o,a,l,c,u){this.t=n,this.s=s,this.c=o,this.p=r,this.r=a||Hu,this.d=l||this,this.set=c||Ra,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,s){this.mSet=this.mSet||this.set,this.set=wm,this.m=n,this.mt=s,this.tween=r},i}();pt(Ca+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return Sa[i]=1});Nt.TweenMax=Nt.TweenLite=Oe;Nt.TimelineLite=Nt.TimelineMax=tt;we=new tt({sortChildren:!1,defaults:Qi,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});xt.stringFilter=ka;nr=[],Ws={},Em=[],ou=0,aa=function(e){return(Ws[e]||Em).map(function(t){return t()})},ya=function(){var e=Date.now(),t=[];e-ou>2&&(aa("matchMediaInit"),nr.forEach(function(n){var r=n.queries,s=n.conditions,o,a,l,c;for(a in r)o=zt.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(n.revert(),l&&t.push(n))}),aa("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n)}),ou=e,aa("matchMedia"))},Bu=function(){function i(t,n){this.selector=n&&ma(n),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,s){xe(n)&&(s=r,r=n,n=xe);var o=this,a=function(){var c=Fe,u=o.selector,h;return c&&c!==o&&c.data.push(o),s&&(o.selector=ma(s)),Fe=o,h=r.apply(o,arguments),xe(h)&&o._r.push(h),Fe=c,o.selector=u,o.isReverted=!1,h};return o.last=a,n===xe?a(o):n?o[n]=a:a},e.ignore=function(n){var r=Fe;Fe=null,n(this),Fe=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof Oe&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var s=this;if(n){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1}).forEach(function(l){return l.t.revert(n)}),this.data.forEach(function(l){return!(l instanceof tr)&&l.revert&&l.revert(n)}),this._r.forEach(function(l){return l(n,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),r){var a=nr.indexOf(this);~a&&nr.splice(a,1)}},e.revert=function(n){this.kill(n||{})},i}(),bm=function(){function i(t){this.contexts=[],this.scope=t}var e=i.prototype;return e.add=function(n,r,s){gn(n)||(n={matches:n});var o=new Bu(0,s||this.scope),a=o.conditions={},l,c,u;this.contexts.push(o),r=o.add("onMatch",r),o.queries=n;for(c in n)c==="all"?u=1:(l=zt.matchMedia(n[c]),l&&(nr.indexOf(o)<0&&nr.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(ya):l.addEventListener("change",ya)));return u&&r(o),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i}(),Gs={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return im(r)})},timeline:function(e){return new tt(e)},getTweensOf:function(e,t){return we.getTweensOf(e,t)},getProperty:function(e,t,n,r){ze(e)&&(e=Ut(e)[0]);var s=jn(e||{}).get,o=n?vu:gu;return n==="native"&&(n=""),e&&(t?o((Tt[t]&&Tt[t].get||s)(e,t,n,r)):function(a,l,c){return o((Tt[a]&&Tt[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,n){if(e=Ut(e),e.length>1){var r=e.map(function(u){return dt.quickSetter(u,t,n)}),s=r.length;return function(u){for(var h=s;h--;)r[h](u)}}e=e[0]||{};var o=Tt[t],a=jn(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var h=new o;Ki._pt=0,h.init(e,n?u+n:u,Ki,0,[e]),h.render(1,h),Ki._pt&&Da(1,Ki)}:a.set(e,l);return o?c:function(u){return c(e,l,n?u+n:u,a,1)}},quickTo:function(e,t,n){var r,s=dt.to(e,vi((r={},r[t]="+=0.1",r.paused=!0,r),n||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return we.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=gi(e.ease,Qi.ease)),tu(Qi,e||{})},config:function(e){return tu(xt,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!Tt[a]&&!Nt[a]&&Vs(t+" effect requires "+a+" plugin.")}),ia[t]=function(a,l,c){return n(Ut(a),Yt(l||{},s),c)},o&&(tt.prototype[t]=function(a,l,c){return this.add(ia[t](a,gn(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Q[e]=gi(t)},parseEase:function(e,t){return arguments.length?gi(e,t):Q},getById:function(e){return we.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new tt(e),r,s;for(n.smoothChildTiming=Ct(e.smoothChildTiming),we.remove(n),n._dp=0,n._time=n._tTime=we._time,r=we._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Oe&&r.vars.onComplete===r._targets[0]))&&mn(n,r,r._start-r._delay),r=s;return mn(we,n,0),n},context:function(e,t){return e?new Bu(e,t):Fe},matchMedia:function(e){return new bm(e)},matchMediaRefresh:function(){return nr.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||ya()},addEventListener:function(e,t){var n=Ws[e]||(Ws[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Ws[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:em,wrapYoyo:tm,distribute:Cu,random:Iu,snap:xu,normalize:Z_,getUnit:Ke,clamp:X_,splitColor:Pu,toArray:Ut,selector:ma,mapRange:Mu,pipe:Q_,unitize:J_,interpolate:nm,shuffle:Su},install:du,effects:ia,ticker:St,updateRoot:tt.updateRoot,plugins:Tt,globalTimeline:we,core:{PropTween:_t,globals:pu,Tween:Oe,Timeline:tt,Animation:tr,getCache:jn,_removeLinkedListItem:Xs,reverting:function(){return nt},context:function(e){return e&&Fe&&(Fe.data.push(e),e._ctx=Fe),Fe},suppressOverwrites:function(e){return wa=e}}};pt("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return Gs[i]=Oe[i]});St.add(tt.updateRoot);Ki=Gs.to({},{duration:0});Tm=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Sm=function(e,t){var n=e._targets,r,s,o;for(r in t)for(s=n.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=Tm(o,r)),o&&o.modifier&&o.modifier(t[r],e,n[s],r))},la=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(ze(s)&&(l={},pt(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}Sm(a,s)}}}},dt=Gs.registerPlugin({name:"attr",init:function(e,t,n,r,s){var o,a,l;this.tween=n;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)nt?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},la("roundProps",ga),la("modifiers"),la("snap",xu))||Gs;Oe.version=tt.version=dt.version="3.11.4";fu=1;cu()&&er();Cm=Q.Power0,xm=Q.Power1,Im=Q.Power2,km=Q.Power3,Mm=Q.Power4,Pm=Q.Linear,Am=Q.Quad,Lm=Q.Cubic,Rm=Q.Quart,Nm=Q.Quint,Dm=Q.Strong,Om=Q.Elastic,Fm=Q.Back,Hm=Q.SteppedEase,Bm=Q.Bounce,Wm=Q.Sine,zm=Q.Expo,Vm=Q.Circ});var Wu,Qn,sr,qa,Ci,Um,zu,Ya,qm,Rn,Si,or,rr,Vu,Ga,Ym,Gm,Ln,Wa,$m,jm,Xm,Xu,Ku,Km,Qm,Jm,Zm,eg,tg,Ee,en,ng,Qu,ig,Ju,Zu,za,vn,Uu,ar,Va,Ha,qu,eh,th,Xr,Jn,Yu,rg,Zn,An,sg,Gu,og,ag,Zs,Kr,nh,ih,$u,$a,Ua,Qr,eo,Ba,lg,bi,jr,Ti,rh,cg,ug,ju,hg,ja,sh=V(()=>{Fa();qm=function(){return typeof window!="undefined"},Rn={},Si=180/Math.PI,or=Math.PI/180,rr=Math.atan2,Vu=1e8,Ga=/([A-Z])/g,Ym=/(left|right|width|margin|padding|x)/i,Gm=/[\s,\(]\S/,Ln={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Wa=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},$m=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},jm=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Xm=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Xu=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Ku=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Km=function(e,t,n){return e.style[t]=n},Qm=function(e,t,n){return e.style.setProperty(t,n)},Jm=function(e,t,n){return e._gsap[t]=n},Zm=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},eg=function(e,t,n,r,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},tg=function(e,t,n,r,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},Ee="transform",en=Ee+"Origin",ng=function(e,t){var n=this,r=this.target,s=r.style;if(e in Rn){if(this.tfm=this.tfm||{},e!=="transform"&&(e=Ln[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=An(r,o)}):this.tfm[e]=r._gsap.x?r._gsap[e]:An(r,e)),this.props.indexOf(Ee)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(en,t,"")),e=Ee}(s||t)&&this.props.push(e,t,s[e])},Qu=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},ig=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].replace(Ga,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=Ya(),s&&!s.isStart&&!n[Ee]&&(Qu(n),r.uncache=1)}},Ju=function(e,t){var n={target:e,props:[],revert:ig,save:ng};return t&&t.split(",").forEach(function(r){return n.save(r)}),n},za=function(e,t){var n=Qn.createElementNS?Qn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Qn.createElement(e);return n.style?n:Qn.createElement(e)},vn=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(Ga,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,ar(t)||t,1)||""},Uu="O,Moz,ms,Ms,Webkit".split(","),ar=function(e,t,n){var r=t||Ci,s=r.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Uu[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Uu[o]:"")+e},Va=function(){qm()&&window.document&&(Wu=window,Qn=Wu.document,sr=Qn.documentElement,Ci=za("div")||{style:{}},Um=za("div"),Ee=ar(Ee),en=Ee+"Origin",Ci.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Zu=!!ar("perspective"),Ya=dt.core.reverting,qa=1)},Ha=function i(e){var t=za("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText,o;if(sr.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=i}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(r?n.insertBefore(this,r):n.appendChild(this)),sr.removeChild(t),this.style.cssText=s,o},qu=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},eh=function(e){var t;try{t=e.getBBox()}catch{t=Ha.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Ha||(t=Ha.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+qu(e,["x","cx","x1"])||0,y:+qu(e,["y","cy","y1"])||0,width:0,height:0}:t},th=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&eh(e))},Xr=function(e,t){if(t){var n=e.style;t in Rn&&t!==en&&(t=Ee),n.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(t.replace(Ga,"-$1").toLowerCase())):n.removeAttribute(t)}},Jn=function(e,t,n,r,s,o){var a=new _t(e._pt,t,n,0,1,o?Ku:Xu);return e._pt=a,a.b=r,a.e=s,e._props.push(n),a},Yu={deg:1,rad:1,turn:1},rg={grid:1,flex:1},Zn=function i(e,t,n,r){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Ci.style,l=Ym.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,f=r==="px",d=r==="%",_,p,m,g;return r===o||!s||Yu[r]||Yu[o]?s:(o!=="px"&&!f&&(s=i(e,t,n,"px")),g=e.getCTM&&th(e),(d||o==="%")&&(Rn[t]||~t.indexOf("adius"))?(_=g?e.getBBox()[l?"width":"height"]:e[u],Ie(d?s/_*h:s/100*_)):(a[l?"width":"height"]=h+(f?o:r),p=~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,g&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===Qn||!p.appendChild)&&(p=Qn.body),m=p._gsap,m&&d&&m.width&&l&&m.time===St.time&&!m.uncache?Ie(s/m.width*h):((d||o==="%")&&!rg[vn(p,"display")]&&(a.position=vn(e,"position")),p===e&&(a.position="static"),p.appendChild(Ci),_=Ci[u],p.removeChild(Ci),a.position="absolute",l&&d&&(m=jn(p),m.time=St.time,m.width=p[u]),Ie(f?_*s/h:_&&s?h/_*s:0))))},An=function(e,t,n,r){var s;return qa||Va(),t in Ln&&t!=="transform"&&(t=Ln[t],~t.indexOf(",")&&(t=t.split(",")[0])),Rn[t]&&t!=="transform"?(s=Qr(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:eo(vn(e,en))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Zs[t]&&Zs[t](e,t,n)||vn(e,t)||Ia(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Zn(e,t,s,n)+n:s},sg=function(e,t,n,r){if(!n||n==="none"){var s=ar(t,e,1),o=s&&vn(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=vn(e,"borderTopColor"))}var a=new _t(this._pt,e.style,t,0,1,Na),l=0,c=0,u,h,f,d,_,p,m,g,v,y,E,b;if(a.b=n,a.e=r,n+="",r+="",r==="auto"&&(e.style[t]=r,r=vn(e,t)||r,e.style[t]=n),u=[n,r],ka(u),n=u[0],r=u[1],f=n.match(yi)||[],b=r.match(yi)||[],b.length){for(;h=yi.exec(r);)m=h[0],v=r.substring(l,h.index),_?_=(_+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(_=1),m!==(p=f[c++]||"")&&(d=parseFloat(p)||0,E=p.substr((d+"").length),m.charAt(1)==="="&&(m=wi(d,m)+E),g=parseFloat(m),y=m.substr((g+"").length),l=yi.lastIndex-y.length,y||(y=y||xt.units[t]||E,l===r.length&&(r+=y,a.e+=y)),E!==y&&(d=Zn(e,t,p,y)||0),a._pt={_next:a._pt,p:v||c===1?v:",",s:d,c:g-d,m:_&&_<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?Ku:Xu;return ba.test(r)&&(a.e=0),this._pt=a,a},Gu={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},og=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=Gu[n]||n,t[1]=Gu[r]||r,t.join(" ")},ag=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,o=n._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Rn[a]&&(l=1,a=a==="transformOrigin"?en:Ee),Xr(n,a);l&&(Xr(n,Ee),o&&(o.svg&&n.removeAttribute("transform"),Qr(n,1),o.uncache=1,Qu(r)))}},Zs={clearProps:function(e,t,n,r,s){if(s.data!=="isFromStart"){var o=e._pt=new _t(e._pt,t,n,0,0,ag);return o.u=r,o.pr=-10,o.tween=s,e._props.push(n),1}}},Kr=[1,0,0,1,0,0],nh={},ih=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},$u=function(e){var t=vn(e,Ee);return ih(t)?Kr:t.substr(7).match(Ea).map(Ie)},$a=function(e,t){var n=e._gsap||jn(e),r=e.style,s=$u(e),o,a,l,c;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Kr:s):(s===Kr&&!e.offsetParent&&e!==sr&&!n.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,sr.appendChild(e)),s=$u(e),l?r.display=l:Xr(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):sr.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Ua=function(e,t,n,r,s,o){var a=e._gsap,l=s||$a(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,h=a.xOffset||0,f=a.yOffset||0,d=l[0],_=l[1],p=l[2],m=l[3],g=l[4],v=l[5],y=t.split(" "),E=parseFloat(y[0])||0,b=parseFloat(y[1])||0,C,S,I,x;n?l!==Kr&&(S=d*m-_*p)&&(I=E*(m/S)+b*(-p/S)+(p*v-m*g)/S,x=E*(-_/S)+b*(d/S)-(d*v-_*g)/S,E=I,b=x):(C=eh(e),E=C.x+(~y[0].indexOf("%")?E/100*C.width:E),b=C.y+(~(y[1]||y[0]).indexOf("%")?b/100*C.height:b)),r||r!==!1&&a.smooth?(g=E-c,v=b-u,a.xOffset=h+(g*d+v*p)-g,a.yOffset=f+(g*_+v*m)-v):a.xOffset=a.yOffset=0,a.xOrigin=E,a.yOrigin=b,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!n,e.style[en]="0px 0px",o&&(Jn(o,a,"xOrigin",c,E),Jn(o,a,"yOrigin",u,b),Jn(o,a,"xOffset",h,a.xOffset),Jn(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",E+" "+b)},Qr=function(e,t){var n=e._gsap||new Ma(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=vn(e,en)||"0",u,h,f,d,_,p,m,g,v,y,E,b,C,S,I,x,k,L,R,X,G,F,N,q,z,se,w,oe,Be,Me,ve,Pe;return u=h=f=p=m=g=v=y=E=0,d=_=1,n.svg=!!(e.getCTM&&th(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Ee]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Ee]!=="none"?l[Ee]:"")),r.scale=r.rotate=r.translate="none"),S=$a(e,n.svg),n.svg&&(n.uncache?(z=e.getBBox(),c=n.xOrigin-z.x+"px "+(n.yOrigin-z.y)+"px",q=""):q=!t&&e.getAttribute("data-svg-origin"),Ua(e,q||c,!!q||n.originIsAbsolute,n.smooth!==!1,S)),b=n.xOrigin||0,C=n.yOrigin||0,S!==Kr&&(L=S[0],R=S[1],X=S[2],G=S[3],u=F=S[4],h=N=S[5],S.length===6?(d=Math.sqrt(L*L+R*R),_=Math.sqrt(G*G+X*X),p=L||R?rr(R,L)*Si:0,v=X||G?rr(X,G)*Si+p:0,v&&(_*=Math.abs(Math.cos(v*or))),n.svg&&(u-=b-(b*L+C*X),h-=C-(b*R+C*G))):(Pe=S[6],Me=S[7],w=S[8],oe=S[9],Be=S[10],ve=S[11],u=S[12],h=S[13],f=S[14],I=rr(Pe,Be),m=I*Si,I&&(x=Math.cos(-I),k=Math.sin(-I),q=F*x+w*k,z=N*x+oe*k,se=Pe*x+Be*k,w=F*-k+w*x,oe=N*-k+oe*x,Be=Pe*-k+Be*x,ve=Me*-k+ve*x,F=q,N=z,Pe=se),I=rr(-X,Be),g=I*Si,I&&(x=Math.cos(-I),k=Math.sin(-I),q=L*x-w*k,z=R*x-oe*k,se=X*x-Be*k,ve=G*k+ve*x,L=q,R=z,X=se),I=rr(R,L),p=I*Si,I&&(x=Math.cos(I),k=Math.sin(I),q=L*x+R*k,z=F*x+N*k,R=R*x-L*k,N=N*x-F*k,L=q,F=z),m&&Math.abs(m)+Math.abs(p)>359.9&&(m=p=0,g=180-g),d=Ie(Math.sqrt(L*L+R*R+X*X)),_=Ie(Math.sqrt(N*N+Pe*Pe)),I=rr(F,N),v=Math.abs(I)>2e-4?I*Si:0,E=ve?1/(ve<0?-ve:ve):0),n.svg&&(q=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!ih(vn(e,Ee)),q&&e.setAttribute("transform",q))),Math.abs(v)>90&&Math.abs(v)<270&&(s?(d*=-1,v+=p<=0?180:-180,p+=p<=0?180:-180):(_*=-1,v+=v<=0?180:-180)),t=t||n.uncache,n.x=u-((n.xPercent=u&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=h-((n.yPercent=h&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=f+o,n.scaleX=Ie(d),n.scaleY=Ie(_),n.rotation=Ie(p)+a,n.rotationX=Ie(m)+a,n.rotationY=Ie(g)+a,n.skewX=v+a,n.skewY=y+a,n.transformPerspective=E+o,(n.zOrigin=parseFloat(c.split(" ")[2])||0)&&(r[en]=eo(c)),n.xOffset=n.yOffset=0,n.force3D=xt.force3D,n.renderTransform=n.svg?cg:Zu?rh:lg,n.uncache=0,n},eo=function(e){return(e=e.split(" "))[0]+" "+e[1]},Ba=function(e,t,n){var r=Ke(t);return Ie(parseFloat(t)+parseFloat(Zn(e,"x",n+"px",r)))+r},lg=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,rh(e,t)},bi="0deg",jr="0px",Ti=") ",rh=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,c=n.rotation,u=n.rotationY,h=n.rotationX,f=n.skewX,d=n.skewY,_=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,E="",b=g==="auto"&&e&&e!==1||g===!0;if(y&&(h!==bi||u!==bi)){var C=parseFloat(u)*or,S=Math.sin(C),I=Math.cos(C),x;C=parseFloat(h)*or,x=Math.cos(C),o=Ba(v,o,S*x*-y),a=Ba(v,a,-Math.sin(C)*-y),l=Ba(v,l,I*x*-y+y)}m!==jr&&(E+="perspective("+m+Ti),(r||s)&&(E+="translate("+r+"%, "+s+"%) "),(b||o!==jr||a!==jr||l!==jr)&&(E+=l!==jr||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Ti),c!==bi&&(E+="rotate("+c+Ti),u!==bi&&(E+="rotateY("+u+Ti),h!==bi&&(E+="rotateX("+h+Ti),(f!==bi||d!==bi)&&(E+="skew("+f+", "+d+Ti),(_!==1||p!==1)&&(E+="scale("+_+", "+p+Ti),v.style[Ee]=E||"translate(0, 0)"},cg=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,c=n.skewX,u=n.skewY,h=n.scaleX,f=n.scaleY,d=n.target,_=n.xOrigin,p=n.yOrigin,m=n.xOffset,g=n.yOffset,v=n.forceCSS,y=parseFloat(o),E=parseFloat(a),b,C,S,I,x;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=or,c*=or,b=Math.cos(l)*h,C=Math.sin(l)*h,S=Math.sin(l-c)*-f,I=Math.cos(l-c)*f,c&&(u*=or,x=Math.tan(c-u),x=Math.sqrt(1+x*x),S*=x,I*=x,u&&(x=Math.tan(u),x=Math.sqrt(1+x*x),b*=x,C*=x)),b=Ie(b),C=Ie(C),S=Ie(S),I=Ie(I)):(b=h,I=f,C=S=0),(y&&!~(o+"").indexOf("px")||E&&!~(a+"").indexOf("px"))&&(y=Zn(d,"x",o,"px"),E=Zn(d,"y",a,"px")),(_||p||m||g)&&(y=Ie(y+_-(_*b+p*S)+m),E=Ie(E+p-(_*C+p*I)+g)),(r||s)&&(x=d.getBBox(),y=Ie(y+r/100*x.width),E=Ie(E+s/100*x.height)),x="matrix("+b+","+C+","+S+","+I+","+y+","+E+")",d.setAttribute("transform",x),v&&(d.style[Ee]=x)},ug=function(e,t,n,r,s){var o=360,a=ze(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Si:1),c=l-r,u=r+c+"deg",h,f;return a&&(h=s.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),h==="cw"&&c<0?c=(c+o*Vu)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*Vu)%o-~~(c/o)*o)),e._pt=f=new _t(e._pt,t,n,r,c,$m),f.e=u,f.u="deg",e._props.push(n),f},ju=function(e,t){for(var n in t)e[n]=t[n];return e},hg=function(e,t,n){var r=ju({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,c,u,h,f,d,_;r.svg?(c=n.getAttribute("transform"),n.setAttribute("transform",""),o[Ee]=t,a=Qr(n,1),Xr(n,Ee),n.setAttribute("transform",c)):(c=getComputedStyle(n)[Ee],o[Ee]=t,a=Qr(n,1),o[Ee]=c);for(l in Rn)c=r[l],u=a[l],c!==u&&s.indexOf(l)<0&&(d=Ke(c),_=Ke(u),h=d!==_?Zn(n,l,c,_):parseFloat(c),f=parseFloat(u),e._pt=new _t(e._pt,a,l,h,f-h,Wa),e._pt.u=_||0,e._props.push(l));ju(a,r)};pt("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",s="Left",o=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(a){return e<2?i+a:"border"+a+i});Zs[e>1?"border"+i:i]=function(a,l,c,u,h){var f,d;if(arguments.length<4)return f=o.map(function(_){return An(a,_,c)}),d=f.join(" "),d.split(f[0]).length===5?f[0]:d;f=(u+"").split(" "),d={},o.forEach(function(_,p){return d[_]=f[p]=f[p]||f[(p-1)/2|0]}),a.init(l,d,h)}});ja={name:"css",register:Va,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,s){var o=this._props,a=e.style,l=n.vars.startAt,c,u,h,f,d,_,p,m,g,v,y,E,b,C,S,I;qa||Va(),this.styles=this.styles||Ju(e),I=this.styles.props,this.tween=n;for(p in t)if(p!=="autoRound"&&(u=t[p],!(Tt[p]&&Aa(p,t,n,r,e,s)))){if(d=typeof u,_=Zs[p],d==="function"&&(u=u.call(n,r,e,s),d=typeof u),d==="string"&&~u.indexOf("random(")&&(u=ir(u)),_)_(this,e,p,u,n)&&(S=1);else if(p.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(p)+"").trim(),u+="",Mn.lastIndex=0,Mn.test(c)||(m=Ke(c),g=Ke(u)),g?m!==g&&(c=Zn(e,p,c,g)+g):m&&(u+=m),this.add(a,"setProperty",c,u,r,s,0,0,p),o.push(p),I.push(p,0,a[p]);else if(d!=="undefined"){if(l&&p in l?(c=typeof l[p]=="function"?l[p].call(n,r,e,s):l[p],ze(c)&&~c.indexOf("random(")&&(c=ir(c)),Ke(c+"")||(c+=xt.units[p]||Ke(An(e,p))||""),(c+"").charAt(1)==="="&&(c=An(e,p))):c=An(e,p),f=parseFloat(c),v=d==="string"&&u.charAt(1)==="="&&u.substr(0,2),v&&(u=u.substr(2)),h=parseFloat(u),p in Ln&&(p==="autoAlpha"&&(f===1&&An(e,"visibility")==="hidden"&&h&&(f=0),I.push("visibility",0,a.visibility),Jn(this,a,"visibility",f?"inherit":"hidden",h?"inherit":"hidden",!h)),p!=="scale"&&p!=="transform"&&(p=Ln[p],~p.indexOf(",")&&(p=p.split(",")[0]))),y=p in Rn,y){if(this.styles.save(p),E||(b=e._gsap,b.renderTransform&&!t.parseTransform||Qr(e,t.parseTransform),C=t.smoothOrigin!==!1&&b.smooth,E=this._pt=new _t(this._pt,a,Ee,0,1,b.renderTransform,b,0,-1),E.dep=1),p==="scale")this._pt=new _t(this._pt,b,"scaleY",b.scaleY,(v?wi(b.scaleY,v+h):h)-b.scaleY||0,Wa),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){I.push(en,0,a[en]),u=og(u),b.svg?Ua(e,u,0,C,0,this):(g=parseFloat(u.split(" ")[2])||0,g!==b.zOrigin&&Jn(this,b,"zOrigin",b.zOrigin,g),Jn(this,a,p,eo(c),eo(u)));continue}else if(p==="svgOrigin"){Ua(e,u,1,C,0,this);continue}else if(p in nh){ug(this,b,p,f,v?wi(f,v+u):u);continue}else if(p==="smoothOrigin"){Jn(this,b,"smooth",b.smooth,u);continue}else if(p==="force3D"){b[p]=u;continue}else if(p==="transform"){hg(this,u,e);continue}}else p in a||(p=ar(p)||p);if(y||(h||h===0)&&(f||f===0)&&!Gm.test(u)&&p in a)m=(c+"").substr((f+"").length),h||(h=0),g=Ke(u)||(p in xt.units?xt.units[p]:m),m!==g&&(f=Zn(e,p,c,g)),this._pt=new _t(this._pt,y?b:a,p,f,(v?wi(f,v+h):h)-f,!y&&(g==="px"||p==="zIndex")&&t.autoRound!==!1?Xm:Wa),this._pt.u=g||0,m!==g&&g!=="%"&&(this._pt.b=c,this._pt.r=jm);else if(p in a)sg.call(this,e,p,c,v?v+u:u);else if(p in e)this.add(e,p,c||e[p],v?v+u:u,r,s);else if(p!=="parseTransform"){js(p,u);continue}y||(p in a?I.push(p,0,a[p]):I.push(p,1,c||e[p])),o.push(p)}}S&&Oa(this)},render:function(e,t){if(t.tween._time||!Ya())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:An,aliases:Ln,getSetter:function(e,t,n){var r=Ln[t];return r&&r.indexOf(",")<0&&(t=r),t in Rn&&t!==en&&(e._gsap.x||An(e,"x"))?n&&zu===n?t==="scale"?Zm:Jm:(zu=n||{})&&(t==="scale"?eg:tg):e.style&&!$s(e.style[t])?Km:~t.indexOf("-")?Qm:Js(e,t)},core:{_removeProperty:Xr,_getMatrix:$a}};dt.utils.checkPrefix=ar;dt.core.getStyleSaver=Ju;(function(i,e,t,n){var r=pt(i+","+e+","+t,function(s){Rn[s]=1});pt(e,function(s){xt.units[s]="deg",nh[s]=1}),Ln[r[13]]=i+","+e,pt(n,function(s){var o=s.split(":");Ln[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");pt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){xt.units[i]="px"});dt.registerPlugin(ja)});var A,Hw,mt=V(()=>{Fa();sh();A=dt.registerPlugin(ja)||dt,Hw=A.core.Tween});function oh(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function fg(i,e,t){return e&&oh(i.prototype,e),t&&oh(i,t),i}var Qe,Xa,dg,Dt,ei,ti,cr,lh,xi,Zr,ch,Nn,tn,uh,hh,fh,lr,$,nn,es,Ka,pg,On,ts,It,gt,to,no,Qa,io,rt,He,vt,Dn,ro,Jr,ah,dh,ph,Le,_h=V(()=>{hh=function(){return Qe||typeof window!="undefined"&&(Qe=window.gsap)&&Qe.registerPlugin&&Qe},fh=1,lr=[],$=[],nn=[],es=Date.now,Ka=function(e,t){return t},pg=function(){var e=Zr.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,$),r.push.apply(r,nn),$=n,nn=r,Ka=function(o,a){return t[o](a)}},On=function(e,t){return~nn.indexOf(e)&&nn[nn.indexOf(e)+1][t]},ts=function(e){return!!~ch.indexOf(e)},It=function(e,t,n,r,s){return e.addEventListener(t,n,{passive:!r,capture:!!s})},gt=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},to="scrollLeft",no="scrollTop",Qa=function(){return Nn&&Nn.isPressed||$.cache++},io=function(e,t){var n=function r(s){if(s||s===0){fh&&(Dt.history.scrollRestoration="manual");var o=Nn&&Nn.isPressed;s=r.v=Math.round(s)||(Nn&&Nn.iOS?1:0),e(s),r.cacheID=$.cache,o&&Ka("ss",s)}else(t||$.cache!==r.cacheID||Ka("ref"))&&(r.cacheID=$.cache,r.v=e());return r.v+r.offset};return n.offset=0,e&&n},rt={s:to,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:io(function(i){return arguments.length?Dt.scrollTo(i,He.sc()):Dt.pageXOffset||ei[to]||ti[to]||cr[to]||0})},He={s:no,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:rt,sc:io(function(i){return arguments.length?Dt.scrollTo(rt.sc(),i):Dt.pageYOffset||ei[no]||ti[no]||cr[no]||0})},vt=function(e){return Qe.utils.toArray(e)[0]||(typeof e=="string"&&Qe.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Dn=function(e,t){var n=t.s,r=t.sc;ts(e)&&(e=ei.scrollingElement||ti);var s=$.indexOf(e),o=r===He.sc?1:2;!~s&&(s=$.push(e)-1),$[s+o]||e.addEventListener("scroll",Qa);var a=$[s+o],l=a||($[s+o]=io(On(e,n),!0)||(ts(e)?r:io(function(c){return arguments.length?e[n]=c:e[n]})));return l.target=e,a||(l.smooth=Qe.getProperty(e,"scrollBehavior")==="smooth"),l},ro=function(e,t,n){var r=e,s=e,o=es(),a=o,l=t||50,c=Math.max(500,l*3),u=function(_,p){var m=es();p||m-o>l?(s=r,r=_,a=o,o=m):n?r+=_:r=s+(_-s)/(m-a)*(o-a)},h=function(){s=r=n?0:r,a=o=0},f=function(_){var p=a,m=s,g=es();return(_||_===0)&&_!==r&&u(_),o===a||g-a>c?0:(r+(n?m:-m))/((n?g:o)-p)*1e3};return{update:u,reset:h,getVelocity:f}},Jr=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},ah=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},dh=function(){Zr=Qe.core.globals().ScrollTrigger,Zr&&Zr.core&&pg()},ph=function(e){return Qe=e||hh(),Qe&&typeof document!="undefined"&&document.body&&(Dt=window,ei=document,ti=ei.documentElement,cr=ei.body,ch=[Dt,ei,ti,cr],dg=Qe.utils.clamp,uh=Qe.core.context||function(){},xi="onpointerenter"in cr?"pointer":"mouse",lh=Le.isTouch=Dt.matchMedia&&Dt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Dt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,tn=Le.eventTypes=("ontouchstart"in ti?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in ti?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return fh=0},500),dh(),Xa=1),Xa};rt.op=He;$.cache=0;Le=function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(n){Xa||ph(Qe)||console.warn("Please gsap.registerPlugin(Observer)"),Zr||dh();var r=n.tolerance,s=n.dragMinimum,o=n.type,a=n.target,l=n.lineHeight,c=n.debounce,u=n.preventDefault,h=n.onStop,f=n.onStopDelay,d=n.ignore,_=n.wheelSpeed,p=n.event,m=n.onDragStart,g=n.onDragEnd,v=n.onDrag,y=n.onPress,E=n.onRelease,b=n.onRight,C=n.onLeft,S=n.onUp,I=n.onDown,x=n.onChangeX,k=n.onChangeY,L=n.onChange,R=n.onToggleX,X=n.onToggleY,G=n.onHover,F=n.onHoverEnd,N=n.onMove,q=n.ignoreCheck,z=n.isNormalizer,se=n.onGestureStart,w=n.onGestureEnd,oe=n.onWheel,Be=n.onEnable,Me=n.onDisable,ve=n.onClick,Pe=n.scrollSpeed,le=n.capture,Ve=n.allowClicks,je=n.lockAxis,hi=n.onLockAxis;this.target=a=vt(a)||ti,this.vars=n,d&&(d=Qe.utils.toArray(d)),r=r||1e-9,s=s||0,_=_||1,Pe=Pe||1,o=o||"wheel,touch,pointer",c=c!==!1,l||(l=parseFloat(Dt.getComputedStyle(cr).lineHeight)||22);var ce,Bt,ie,et,At,un,ct,T=this,Sn=0,ye=0,Vn=Dn(a,rt),Un=Dn(a,He),Gi=Vn(),ut=Un(),Nr=~o.indexOf("touch")&&!~o.indexOf("pointer")&&tn[0]==="pointerdown",qn=ts(a),Ae=a.ownerDocument||ei,Lt=[0,0,0],ht=[0,0,0],Dr=0,ft=function(){return Dr=es()},hn=function(O,M){return(T.event=O)&&d&&~d.indexOf(O.target)||M&&Nr&&O.pointerType!=="touch"||q&&q(O,M)},Or=function(){T._vx.reset(),T._vy.reset(),Bt.pause(),h&&h(T)},Yn=function(){var O=T.deltaX=ah(Lt),M=T.deltaY=ah(ht),B=Math.abs(O)>=r,W=Math.abs(M)>=r;L&&(B||W)&&L(T,O,M,Lt,ht),B&&(b&&T.deltaX>0&&b(T),C&&T.deltaX<0&&C(T),x&&x(T),R&&T.deltaX<0!=Sn<0&&R(T),Sn=T.deltaX,Lt[0]=Lt[1]=Lt[2]=0),W&&(I&&T.deltaY>0&&I(T),S&&T.deltaY<0&&S(T),k&&k(T),X&&T.deltaY<0!=ye<0&&X(T),ye=T.deltaY,ht[0]=ht[1]=ht[2]=0),(et||ie)&&(N&&N(T),ie&&(v(T),ie=!1),et=!1),un&&!(un=!1)&&hi&&hi(T),At&&(oe(T),At=!1),ce=0},$i=function(O,M,B){Lt[B]+=O,ht[B]+=M,T._vx.update(O),T._vy.update(M),c?ce||(ce=requestAnimationFrame(Yn)):Yn()},fi=function(O,M){je&&!ct&&(T.axis=ct=Math.abs(O)>Math.abs(M)?"x":"y",un=!0),ct!=="y"&&(Lt[2]+=O,T._vx.update(O,!0)),ct!=="x"&&(ht[2]+=M,T._vy.update(M,!0)),c?ce||(ce=requestAnimationFrame(Yn)):Yn()},di=function(O){if(!hn(O,1)){O=Jr(O,u);var M=O.clientX,B=O.clientY,W=M-T.x,U=B-T.y,Ue=T.isDragging;T.x=M,T.y=B,(Ue||Math.abs(T.startX-M)>=s||Math.abs(T.startY-B)>=s)&&(v&&(ie=!0),Ue||(T.isDragging=!0),fi(W,U),Ue||m&&m(T))}},re=T.onPress=function(ee){hn(ee,1)||(T.axis=ct=null,Bt.pause(),T.isPressed=!0,ee=Jr(ee),Sn=ye=0,T.startX=T.x=ee.clientX,T.startY=T.y=ee.clientY,T._vx.reset(),T._vy.reset(),It(z?a:Ae,tn[1],di,u,!0),T.deltaX=T.deltaY=0,y&&y(T))},Cn=function(O){if(!hn(O,1)){gt(z?a:Ae,tn[1],di,!0);var M=!isNaN(T.y-T.startY),B=T.isDragging&&(Math.abs(T.x-T.startX)>3||Math.abs(T.y-T.startY)>3),W=Jr(O);!B&&M&&(T._vx.reset(),T._vy.reset(),u&&Ve&&Qe.delayedCall(.08,function(){if(es()-Dr>300&&!O.defaultPrevented){if(O.target.click)O.target.click();else if(Ae.createEvent){var U=Ae.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,Dt,1,W.screenX,W.screenY,W.clientX,W.clientY,!1,!1,!1,!1,0,null),O.target.dispatchEvent(U)}}})),T.isDragging=T.isGesturing=T.isPressed=!1,h&&!z&&Bt.restart(!0),g&&B&&g(T),E&&E(T,B)}},Qt=function(O){return O.touches&&O.touches.length>1&&(T.isGesturing=!0)&&se(O,T.isDragging)},Jt=function(){return(T.isGesturing=!1)||w(T)},fn=function(O){if(!hn(O)){var M=Vn(),B=Un();$i((M-Gi)*Pe,(B-ut)*Pe,1),Gi=M,ut=B,h&&Bt.restart(!0)}},dn=function(O){if(!hn(O)){O=Jr(O,u),oe&&(At=!0);var M=(O.deltaMode===1?l:O.deltaMode===2?Dt.innerHeight:1)*_;$i(O.deltaX*M,O.deltaY*M,0),h&&!z&&Bt.restart(!0)}},pi=function(O){if(!hn(O)){var M=O.clientX,B=O.clientY,W=M-T.x,U=B-T.y;T.x=M,T.y=B,et=!0,(W||U)&&fi(W,U)}},ji=function(O){T.event=O,G(T)},xn=function(O){T.event=O,F(T)},Fr=function(O){return hn(O)||Jr(O,u)&&ve(T)};Bt=T._dc=Qe.delayedCall(f||.25,Or).pause(),T.deltaX=T.deltaY=0,T._vx=ro(0,50,!0),T._vy=ro(0,50,!0),T.scrollX=Vn,T.scrollY=Un,T.isDragging=T.isGesturing=T.isPressed=!1,uh(this),T.enable=function(ee){return T.isEnabled||(It(qn?Ae:a,"scroll",Qa),o.indexOf("scroll")>=0&&It(qn?Ae:a,"scroll",fn,u,le),o.indexOf("wheel")>=0&&It(a,"wheel",dn,u,le),(o.indexOf("touch")>=0&&lh||o.indexOf("pointer")>=0)&&(It(a,tn[0],re,u,le),It(Ae,tn[2],Cn),It(Ae,tn[3],Cn),Ve&&It(a,"click",ft,!1,!0),ve&&It(a,"click",Fr),se&&It(Ae,"gesturestart",Qt),w&&It(Ae,"gestureend",Jt),G&&It(a,xi+"enter",ji),F&&It(a,xi+"leave",xn),N&&It(a,xi+"move",pi)),T.isEnabled=!0,ee&&ee.type&&re(ee),Be&&Be(T)),T},T.disable=function(){T.isEnabled&&(lr.filter(function(ee){return ee!==T&&ts(ee.target)}).length||gt(qn?Ae:a,"scroll",Qa),T.isPressed&&(T._vx.reset(),T._vy.reset(),gt(z?a:Ae,tn[1],di,!0)),gt(qn?Ae:a,"scroll",fn,le),gt(a,"wheel",dn,le),gt(a,tn[0],re,le),gt(Ae,tn[2],Cn),gt(Ae,tn[3],Cn),gt(a,"click",ft,!0),gt(a,"click",Fr),gt(Ae,"gesturestart",Qt),gt(Ae,"gestureend",Jt),gt(a,xi+"enter",ji),gt(a,xi+"leave",xn),gt(a,xi+"move",pi),T.isEnabled=T.isPressed=T.isDragging=!1,Me&&Me(T))},T.kill=T.revert=function(){T.disable();var ee=lr.indexOf(T);ee>=0&&lr.splice(ee,1),Nn===T&&(Nn=0)},lr.push(T),z&&ts(a)&&(Nn=T),T.enable(p)},fg(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i}();Le.version="3.11.4";Le.create=function(i){return new Le(i)};Le.register=ph;Le.getAll=function(){return lr.slice()};Le.getById=function(i){return lr.filter(function(e){return e.vars.id===i})[0]};hh()&&Qe.registerPlugin(Le)});var D,fr,J,ge,on,ke,Ah,To,So,pr,mo,so,st,xo,sl,yt,mh,gh,dr,Lh,Ja,Rh,Ot,Nh,Dh,Oh,ni,ol,ul,Za,oo,wt,el,$t,ao,vh,yh,yn,is,Fh,Hh,Ai,Bh,_g,mg,ii,lo,rn,Et,rs,go,ns,tl,ur,Wh,zh,hl,fl,ki,Mi,os,as,ls,cs,Re,Gt,mr,dl,Je,an,gg,wh,Fn,al,Vh,vg,pl,yg,co,Ze,Ye,uo,Eh,ho,Co,vo,fo,yo,j,ll,hs,bh,hr,nl,ss,Li,wg,Uh,Ri,Ft,qh,_l,Yh,sn,Pi,Th,Eg,Ii,Sh,wo,us,ri,cl,Eo,bg,il,Tg,_r,po,Sg,bo,Ch,Cg,xh,Ih,Y,kh,rl,_o,xg,Gh,Ig,Mh,Ph,kg,Io=V(()=>{_h();oo=1,wt=Date.now,el=wt(),$t=0,ao=0,vh=function(){return xo=1},yh=function(){return xo=0},yn=function(e){return e},is=function(e){return Math.round(e*1e5)/1e5||0},Fh=function(){return typeof window!="undefined"},Hh=function(){return D||Fh()&&(D=window.gsap)&&D.registerPlugin&&D},Ai=function(e){return!!~Ah.indexOf(e)},Bh=function(e){return On(e,"getBoundingClientRect")||(Ai(e)?function(){return bo.width=J.innerWidth,bo.height=J.innerHeight,bo}:function(){return Fn(e)})},_g=function(e,t,n){var r=n.d,s=n.d2,o=n.a;return(o=On(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?J["inner"+s]:e["client"+s])||0}},mg=function(e,t){return!t||~nn.indexOf(e)?Bh(e):function(){return bo}},ii=function(e,t){var n=t.s,r=t.d2,s=t.d,o=t.a;return(n="scroll"+r)&&(o=On(e,n))?o()-Bh(e)()[s]:Ai(e)?(on[n]||ke[n])-(J["inner"+r]||on["client"+r]||ke["client"+r]):e[n]-e["offset"+r]},lo=function(e,t){for(var n=0;n<dr.length;n+=3)(!t||~t.indexOf(dr[n+1]))&&e(dr[n],dr[n+1],dr[n+2])},rn=function(e){return typeof e=="string"},Et=function(e){return typeof e=="function"},rs=function(e){return typeof e=="number"},go=function(e){return typeof e=="object"},ns=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},tl=function(e,t){if(e.enabled){var n=t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},ur=Math.abs,Wh="left",zh="top",hl="right",fl="bottom",ki="width",Mi="height",os="Right",as="Left",ls="Top",cs="Bottom",Re="padding",Gt="margin",mr="Width",dl="Height",Je="px",an=function(e){return J.getComputedStyle(e)},gg=function(e){var t=an(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},wh=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Fn=function(e,t){var n=t&&an(e)[sl]!=="matrix(1, 0, 0, 1, 0, 0)"&&D.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},al=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},Vh=function(e){var t=[],n=e.labels,r=e.duration(),s;for(s in n)t.push(n[s]/r);return t},vg=function(e){return function(t){return D.utils.snap(Vh(e),t)}},pl=function(e){var t=D.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return n?function(r,s,o){o===void 0&&(o=.001);var a;if(!s)return t(r);if(s>0){for(r-=o,a=0;a<n.length;a++)if(n[a]>=r)return n[a];return n[a-1]}else for(a=n.length,r+=o;a--;)if(n[a]<=r)return n[a];return n[0]}:function(r,s,o){o===void 0&&(o=.001);var a=t(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:t(s<0?r-e:r+e)}},yg=function(e){return function(t,n){return pl(Vh(e))(t,n.direction)}},co=function(e,t,n,r){return n.split(",").forEach(function(s){return e(t,s,r)})},Ze=function(e,t,n,r,s){return e.addEventListener(t,n,{passive:!r,capture:!!s})},Ye=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},uo=function(e,t,n){return n&&n.wheelHandler&&e(t,"wheel",n)},Eh={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ho={toggleActions:"play",anticipatePin:0},Co={top:0,left:0,center:.5,bottom:1,right:1},vo=function(e,t){if(rn(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in Co?Co[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},fo=function(e,t,n,r,s,o,a,l){var c=s.startColor,u=s.endColor,h=s.fontSize,f=s.indent,d=s.fontWeight,_=ge.createElement("div"),p=Ai(n)||On(n,"pinType")==="fixed",m=e.indexOf("scroller")!==-1,g=p?ke:n,v=e.indexOf("start")!==-1,y=v?c:u,E="border-color:"+y+";font-size:"+h+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((m||l)&&p?"fixed;":"absolute;"),(m||l||!p)&&(E+=(r===He?hl:fl)+":"+(o+parseFloat(f))+"px;"),a&&(E+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),_._isStart=v,_.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),_.style.cssText=E,_.innerText=t||t===0?e+"-"+t:e,g.children[0]?g.insertBefore(_,g.children[0]):g.appendChild(_),_._offset=_["offset"+r.op.d2],yo(_,0,r,v),_},yo=function(e,t,n,r){var s={display:"block"},o=n[r?"os2":"p2"],a=n[r?"p2":"os2"];e._isFlipped=r,s[n.a+"Percent"]=r?-100:0,s[n.a]=r?"1px":0,s["border"+o+mr]=1,s["border"+a+mr]=0,s[n.p]=t+"px",D.set(e,s)},j=[],ll={},bh=function(){return wt()-$t>34&&(hs||(hs=requestAnimationFrame(ri)))},hr=function(){(!Ot||!Ot.isPressed||Ot.startX>ke.clientWidth)&&($.cache++,Ot?hs||(hs=requestAnimationFrame(ri)):ri(),$t||Ri("scrollStart"),$t=wt())},nl=function(){Oh=J.innerWidth,Dh=J.innerHeight},ss=function(){$.cache++,!st&&!Rh&&!ge.fullscreenElement&&!ge.webkitFullscreenElement&&(!Nh||Oh!==J.innerWidth||Math.abs(J.innerHeight-Dh)>J.innerHeight*.25)&&To.restart(!0)},Li={},wg=[],Uh=function i(){return Ye(Y,"scrollEnd",i)||Ii(!0)},Ri=function(e){return Li[e]&&Li[e].map(function(t){return t()})||wg},Ft=[],qh=function(e){for(var t=0;t<Ft.length;t+=5)(!e||Ft[t+4]&&Ft[t+4].query===e)&&(Ft[t].style.cssText=Ft[t+1],Ft[t].getBBox&&Ft[t].setAttribute("transform",Ft[t+2]||""),Ft[t+3].uncache=1)},_l=function(e,t){var n;for(yt=0;yt<j.length;yt++)n=j[yt],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));t&&qh(t),t||Ri("revert")},Yh=function(e,t){$.cache++,(t||!sn)&&$.forEach(function(n){return Et(n)&&n.cacheID++&&(n.rec=0)}),rn(e)&&(J.history.scrollRestoration=ul=e)},Pi=0,Eg=function(){if(Th!==Pi){var e=Th=Pi;requestAnimationFrame(function(){return e===Pi&&Ii(!0)})}},Ii=function(e,t){if($t&&!e){Ze(Y,"scrollEnd",Uh);return}sn=Y.isRefreshing=!0,$.forEach(function(r){return Et(r)&&r.cacheID++&&(r.rec=r())});var n=Ri("refreshInit");Lh&&Y.sort(),t||_l(),$.forEach(function(r){Et(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),j.slice(0).forEach(function(r){return r.refresh()}),j.forEach(function(r,s){if(r._subPinOffset&&r.pin){var o=r.vars.horizontal?"offsetWidth":"offsetHeight",a=r.pin[o];r.revert(!0,1),r.adjustPinSpacing(r.pin[o]-a),r.revert(!1,1)}}),j.forEach(function(r){return r.vars.end==="max"&&r.setPositions(r.start,Math.max(r.start+1,ii(r.scroller,r._dir)))}),n.forEach(function(r){return r&&r.render&&r.render(-1)}),$.forEach(function(r){Et(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),Yh(ul,1),To.pause(),Pi++,ri(2),j.forEach(function(r){return Et(r.vars.onRefresh)&&r.vars.onRefresh(r)}),sn=Y.isRefreshing=!1,Ri("refresh")},Sh=0,wo=1,ri=function(e){if(!sn||e===2){Y.isUpdating=!0,us&&us.update(0);var t=j.length,n=wt(),r=n-el>=50,s=t&&j[0].scroll();if(wo=Sh>s?-1:1,Sh=s,r&&($t&&!xo&&n-$t>200&&($t=0,Ri("scrollEnd")),mo=el,el=n),wo<0){for(yt=t;yt-- >0;)j[yt]&&j[yt].update(0,r);wo=1}else for(yt=0;yt<t;yt++)j[yt]&&j[yt].update(0,r);Y.isUpdating=!1}hs=0},cl=[Wh,zh,fl,hl,Gt+cs,Gt+os,Gt+ls,Gt+as,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Eo=cl.concat([ki,Mi,"boxSizing","max"+mr,"max"+dl,"position",Gt,Re,Re+ls,Re+os,Re+cs,Re+as]),bg=function(e,t,n){_r(n);var r=e._gsap;if(r.spacerIsNative)_r(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},il=function(e,t,n,r){if(!e._gsap.swappedIn){for(var s=cl.length,o=t.style,a=e.style,l;s--;)l=cl[s],o[l]=n[l];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),a[fl]=a[hl]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[ki]=al(e,rt)+Je,o[Mi]=al(e,He)+Je,o[Re]=a[Gt]=a[zh]=a[Wh]="0",_r(r),a[ki]=a["max"+mr]=n[ki],a[Mi]=a["max"+dl]=n[Mi],a[Re]=n[Re],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Tg=/([A-Z])/g,_r=function(e){if(e){var t=e.t.style,n=e.length,r=0,s,o;for((e.t._gsap||D.core.getCache(e.t)).uncache=1;r<n;r+=2)o=e[r+1],s=e[r],o?t[s]=o:t[s]&&t.removeProperty(s.replace(Tg,"-$1").toLowerCase())}},po=function(e){for(var t=Eo.length,n=e.style,r=[],s=0;s<t;s++)r.push(Eo[s],n[Eo[s]]);return r.t=e,r},Sg=function(e,t,n){for(var r=[],s=e.length,o=n?8:0,a;o<s;o+=2)a=e[o],r.push(a,a in t?t[a]:e[o+1]);return r.t=e.t,r},bo={left:0,top:0},Ch=function(e,t,n,r,s,o,a,l,c,u,h,f,d){Et(e)&&(e=e(l)),rn(e)&&e.substr(0,3)==="max"&&(e=f+(e.charAt(4)==="="?vo("0"+e.substr(3),n):0));var _=d?d.time():0,p,m,g;if(d&&d.seek(0),rs(e))a&&yo(a,n,r,!0);else{Et(t)&&(t=t(l));var v=(e||"0").split(" "),y,E,b,C;g=vt(t)||ke,y=Fn(g)||{},(!y||!y.left&&!y.top)&&an(g).display==="none"&&(C=g.style.display,g.style.display="block",y=Fn(g),C?g.style.display=C:g.style.removeProperty("display")),E=vo(v[0],y[r.d]),b=vo(v[1]||"0",n),e=y[r.p]-c[r.p]-u+E+s-b,a&&yo(a,b,r,n-b<20||a._isStart&&b>20),n-=n-b}if(o){var S=e+n,I=o._isStart;p="scroll"+r.d2,yo(o,S,r,I&&S>20||!I&&(h?Math.max(ke[p],on[p]):o.parentNode[p])<=S+1),h&&(c=Fn(a),h&&(o.style[r.op.p]=c[r.op.p]-r.op.m-o._offset+Je))}return d&&g&&(p=Fn(g),d.seek(f),m=Fn(g),d._caScrollDist=p[r.p]-m[r.p],e=e/d._caScrollDist*f),d&&d.seek(_),d?e:Math.round(e)},Cg=/(webkit|moz|length|cssText|inset)/i,xh=function(e,t,n,r){if(e.parentNode!==t){var s=e.style,o,a;if(t===ke){e._stOrig=s.cssText,a=an(e);for(o in a)!+o&&!Cg.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=n,s.left=r}else s.cssText=e._stOrig;D.core.getCache(e).uncache=1,t.appendChild(e)}},Ih=function(e,t){var n=Dn(e,t),r="_scroll"+t.p2,s,o,a=function l(c,u,h,f,d){var _=l.tween,p=u.onComplete,m={};return h=h||n(),d=f&&d||0,f=f||c-h,_&&_.kill(),s=Math.round(h),u[r]=c,u.modifiers=m,m[r]=function(g){return g=Math.round(n()),g!==s&&g!==o&&Math.abs(g-s)>3&&Math.abs(g-o)>3?(_.kill(),l.tween=0):g=h+f*_.ratio+d*_.ratio*_.ratio,o=s,s=Math.round(g)},u.onUpdate=function(){$.cache++,ri()},u.onComplete=function(){l.tween=0,p&&p.call(_)},_=l.tween=D.to(e,u),_};return e[r]=n,n.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},Ze(e,"wheel",n.wheelHandler),a},Y=function(){function i(t,n){fr||i.register(D)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(t,n)}var e=i.prototype;return e.init=function(n,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!ao){this.update=this.refresh=this.kill=yn;return}n=wh(rn(n)||rs(n)||n.nodeType?{trigger:n}:n,ho);var s=n,o=s.onUpdate,a=s.toggleClass,l=s.id,c=s.onToggle,u=s.onRefresh,h=s.scrub,f=s.trigger,d=s.pin,_=s.pinSpacing,p=s.invalidateOnRefresh,m=s.anticipatePin,g=s.onScrubComplete,v=s.onSnapComplete,y=s.once,E=s.snap,b=s.pinReparent,C=s.pinSpacer,S=s.containerAnimation,I=s.fastScrollEnd,x=s.preventOverlaps,k=n.horizontal||n.containerAnimation&&n.horizontal!==!1?rt:He,L=!h&&h!==0,R=vt(n.scroller||J),X=D.core.getCache(R),G=Ai(R),F=("pinType"in n?n.pinType:On(R,"pinType")||G&&"fixed")==="fixed",N=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],q=L&&n.toggleActions.split(" "),z="markers"in n?n.markers:ho.markers,se=G?0:parseFloat(an(R)["border"+k.p2+mr])||0,w=this,oe=n.onRefreshInit&&function(){return n.onRefreshInit(w)},Be=_g(R,G,k),Me=mg(R,G),ve=0,Pe=0,le=Dn(R,k),Ve,je,hi,ce,Bt,ie,et,At,un,ct,T,Sn,ye,Vn,Un,Gi,ut,Nr,qn,Ae,Lt,ht,Dr,ft,hn,Or,Yn,$i,fi,di,re,Cn,Qt,Jt,fn,dn,pi,ji,xn;if(ol(w),w._dir=k,m*=45,w.scroller=R,w.scroll=S?S.time.bind(S):le,ce=le(),w.vars=n,r=r||n.animation,"refreshPriority"in n&&(Lh=1,n.refreshPriority===-9999&&(us=w)),X.tweenScroll=X.tweenScroll||{top:Ih(R,He),left:Ih(R,rt)},w.tweenTo=Ve=X.tweenScroll[k.p],w.scrubDuration=function(M){Cn=rs(M)&&M,Cn?re?re.duration(M):re=D.to(r,{ease:"expo",totalProgress:"+=0.001",duration:Cn,paused:!0,onComplete:function(){return g&&g(w)}}):(re&&re.progress(1).kill(),re=0)},r&&(r.vars.lazy=!1,r._initted||r.vars.immediateRender!==!1&&n.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),w.animation=r.pause(),r.scrollTrigger=w,w.scrubDuration(h),fi=0,l||(l=r.vars.id)),j.push(w),E&&((!go(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in ke.style&&D.set(G?[ke,on]:R,{scrollBehavior:"auto"}),$.forEach(function(M){return Et(M)&&M.target===(G?ge.scrollingElement||on:R)&&(M.smooth=!1)}),hi=Et(E.snapTo)?E.snapTo:E.snapTo==="labels"?vg(r):E.snapTo==="labelsDirectional"?yg(r):E.directional!==!1?function(M,B){return pl(E.snapTo)(M,wt()-Pe<500?0:B.direction)}:D.utils.snap(E.snapTo),Qt=E.duration||{min:.1,max:2},Qt=go(Qt)?pr(Qt.min,Qt.max):pr(Qt,Qt),Jt=D.delayedCall(E.delay||Cn/2||.1,function(){var M=le(),B=wt()-Pe<500,W=Ve.tween;if((B||Math.abs(w.getVelocity())<10)&&!W&&!xo&&ve!==M){var U=(M-ie)/ye,Ue=r&&!L?r.totalProgress():U,K=B?0:(Ue-di)/(wt()-mo)*1e3||0,Ne=D.utils.clamp(-U,1-U,ur(K/2)*K/.185),be=U+(E.inertia===!1?0:Ne),pn=pr(0,1,hi(be,w)),pe=Math.round(ie+pn*ye),qe=E,Zt=qe.onStart,Te=qe.onInterrupt,Se=qe.onComplete;if(M<=et&&M>=ie&&pe!==M){if(W&&!W._initted&&W.data<=ur(pe-M))return;E.inertia===!1&&(Ne=pn-U),Ve(pe,{duration:Qt(ur(Math.max(ur(be-Ue),ur(pn-Ue))*.185/K/.05||0)),ease:E.ease||"power3",data:ur(pe-M),onInterrupt:function(){return Jt.restart(!0)&&Te&&Te(w)},onComplete:function(){w.update(),ve=le(),fi=di=r&&!L?r.totalProgress():w.progress,v&&v(w),Se&&Se(w)}},M,Ne*ye,pe-M-Ne*ye),Zt&&Zt(w,Ve.tween)}}else w.isActive&&ve!==M&&Jt.restart(!0)}).pause()),l&&(ll[l]=w),f=w.trigger=vt(f||d),xn=f&&f._gsap&&f._gsap.stRevert,xn&&(xn=xn(w)),d=d===!0?f:vt(d),rn(a)&&(a={targets:f,className:a}),d&&(_===!1||_===Gt||(_=!_&&d.parentNode&&d.parentNode.style&&an(d.parentNode).display==="flex"?!1:Re),w.pin=d,je=D.core.getCache(d),je.spacer?Vn=je.pinState:(C&&(C=vt(C),C&&!C.nodeType&&(C=C.current||C.nativeElement),je.spacerIsNative=!!C,C&&(je.spacerState=po(C))),je.spacer=ut=C||ge.createElement("div"),ut.classList.add("pin-spacer"),l&&ut.classList.add("pin-spacer-"+l),je.pinState=Vn=po(d)),n.force3D!==!1&&D.set(d,{force3D:!0}),w.spacer=ut=je.spacer,$i=an(d),Dr=$i[_+k.os2],qn=D.getProperty(d),Ae=D.quickSetter(d,k.a,Je),il(d,ut,$i),Gi=po(d)),z){Sn=go(z)?wh(z,Eh):Eh,ct=fo("scroller-start",l,R,k,Sn,0),T=fo("scroller-end",l,R,k,Sn,0,ct),Nr=ct["offset"+k.op.d2];var Fr=vt(On(R,"content")||R);At=this.markerStart=fo("start",l,Fr,k,Sn,Nr,0,S),un=this.markerEnd=fo("end",l,Fr,k,Sn,Nr,0,S),S&&(ji=D.quickSetter([At,un],k.a,Je)),!F&&!(nn.length&&On(R,"fixedMarkers")===!0)&&(gg(G?ke:R),D.set([ct,T],{force3D:!0}),hn=D.quickSetter(ct,k.a,Je),Yn=D.quickSetter(T,k.a,Je))}if(S){var ee=S.vars.onUpdate,O=S.vars.onUpdateParams;S.eventCallback("onUpdate",function(){w.update(0,0,1),ee&&ee.apply(O||[])})}w.previous=function(){return j[j.indexOf(w)-1]},w.next=function(){return j[j.indexOf(w)+1]},w.revert=function(M,B){if(!B)return w.kill(!0);var W=M!==!1||!w.enabled,U=st;W!==w.isReverted&&(W&&(dn=Math.max(le(),w.scroll.rec||0),fn=w.progress,pi=r&&r.progress()),At&&[At,un,ct,T].forEach(function(Ue){return Ue.style.display=W?"none":"block"}),W&&(st=1,w.update(W)),d&&(!b||!w.isActive)&&(W?bg(d,ut,Vn):il(d,ut,an(d),ft)),W||w.update(W),st=U,w.isReverted=W)},w.refresh=function(M,B){if(!((st||!w.enabled)&&!B)){if(d&&M&&$t){Ze(i,"scrollEnd",Uh);return}!sn&&oe&&oe(w),st=1,Pe=wt(),Ve.tween&&(Ve.tween.kill(),Ve.tween=0),re&&re.pause(),p&&r&&r.revert({kill:!1}).invalidate(),w.isReverted||w.revert(!0,!0),w._subPinOffset=!1;for(var W=Be(),U=Me(),Ue=S?S.duration():ii(R,k),K=0,Ne=0,be=n.end,pn=n.endTrigger||f,pe=n.start||(n.start===0||!f?0:d?"0 0":"0 100%"),qe=w.pinnedContainer=n.pinnedContainer&&vt(n.pinnedContainer),Zt=f&&Math.max(0,j.indexOf(w))||0,Te=Zt,Se,De,Xi,_i,We,Ce,In,ta,Jc,Hr,_n;Te--;)Ce=j[Te],Ce.end||Ce.refresh(0,1)||(st=1),In=Ce.pin,In&&(In===f||In===d)&&!Ce.isReverted&&(Hr||(Hr=[]),Hr.unshift(Ce),Ce.revert(!0,!0)),Ce!==j[Te]&&(Zt--,Te--);for(Et(pe)&&(pe=pe(w)),ie=Ch(pe,f,W,k,le(),At,ct,w,U,se,F,Ue,S)||(d?-.001:0),Et(be)&&(be=be(w)),rn(be)&&!be.indexOf("+=")&&(~be.indexOf(" ")?be=(rn(pe)?pe.split(" ")[0]:"")+be:(K=vo(be.substr(2),W),be=rn(pe)?pe:ie+K,pn=f)),et=Math.max(ie,Ch(be||(pn?"100% 0":Ue),pn,W,k,le()+K,un,T,w,U,se,F,Ue,S))||-.001,ye=et-ie||(ie-=.01)&&.001,K=0,Te=Zt;Te--;)Ce=j[Te],In=Ce.pin,In&&Ce.start-Ce._pinPush<=ie&&!S&&Ce.end>0&&(Se=Ce.end-Ce.start,(In===f&&Ce.start-Ce._pinPush<ie||In===qe)&&!rs(pe)&&(K+=Se*(1-Ce.progress)),In===d&&(Ne+=Se));if(ie+=K,et+=K,w._pinPush=Ne,At&&K&&(Se={},Se[k.a]="+="+K,qe&&(Se[k.p]="-="+le()),D.set([At,un],Se)),d)Se=an(d),_i=k===He,Xi=le(),Lt=parseFloat(qn(k.a))+Ne,!Ue&&et>1&&(_n=(G?ge.scrollingElement||on:R).style,_n={style:_n,value:_n["overflow"+k.a.toUpperCase()]},_n["overflow"+k.a.toUpperCase()]="scroll"),il(d,ut,Se),Gi=po(d),De=Fn(d,!0),ta=F&&Dn(R,_i?rt:He)(),_&&(ft=[_+k.os2,ye+Ne+Je],ft.t=ut,Te=_===Re?al(d,k)+ye+Ne:0,Te&&ft.push(k.d,Te+Je),_r(ft),qe&&j.forEach(function(Br){Br.pin===qe&&Br.vars.pinSpacing!==!1&&(Br._subPinOffset=!0)}),F&&le(dn)),F&&(We={top:De.top+(_i?Xi-ie:ta)+Je,left:De.left+(_i?ta:Xi-ie)+Je,boxSizing:"border-box",position:"fixed"},We[ki]=We["max"+mr]=Math.ceil(De.width)+Je,We[Mi]=We["max"+dl]=Math.ceil(De.height)+Je,We[Gt]=We[Gt+ls]=We[Gt+os]=We[Gt+cs]=We[Gt+as]="0",We[Re]=Se[Re],We[Re+ls]=Se[Re+ls],We[Re+os]=Se[Re+os],We[Re+cs]=Se[Re+cs],We[Re+as]=Se[Re+as],Un=Sg(Vn,We,b),sn&&le(0)),r?(Jc=r._initted,Ja(1),r.render(r.duration(),!0,!0),ht=qn(k.a)-Lt+ye+Ne,Or=Math.abs(ye-ht)>1,F&&Or&&Un.splice(Un.length-2,2),r.render(0,!0,!0),Jc||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Ja(0)):ht=ye,_n&&(_n.value?_n.style["overflow"+k.a.toUpperCase()]=_n.value:_n.style.removeProperty("overflow-"+k.a));else if(f&&le()&&!S)for(De=f.parentNode;De&&De!==ke;)De._pinOffset&&(ie-=De._pinOffset,et-=De._pinOffset),De=De.parentNode;Hr&&Hr.forEach(function(Br){return Br.revert(!1,!0)}),w.start=ie,w.end=et,ce=Bt=sn?dn:le(),!S&&!sn&&(ce<dn&&le(dn),w.scroll.rec=0),w.revert(!1,!0),Jt&&(ve=-1,w.isActive&&le(ie+ye*fn),Jt.restart(!0)),st=0,r&&L&&(r._initted||pi)&&r.progress()!==pi&&r.progress(pi,!0).render(r.time(),!0,!0),(fn!==w.progress||S)&&(r&&!L&&r.totalProgress(fn,!0),w.progress=(ce-ie)/ye===fn?0:fn),d&&_&&(ut._pinOffset=Math.round(w.progress*ht)),u&&!sn&&u(w)}},w.getVelocity=function(){return(le()-Bt)/(wt()-mo)*1e3||0},w.endAnimation=function(){ns(w.callbackAnimation),r&&(re?re.progress(1):r.paused()?L||ns(r,w.direction<0,1):ns(r,r.reversed()))},w.labelToScroll=function(M){return r&&r.labels&&(ie||w.refresh()||ie)+r.labels[M]/r.duration()*ye||0},w.getTrailing=function(M){var B=j.indexOf(w),W=w.direction>0?j.slice(0,B).reverse():j.slice(B+1);return(rn(M)?W.filter(function(U){return U.vars.preventOverlaps===M}):W).filter(function(U){return w.direction>0?U.end<=ie:U.start>=et})},w.update=function(M,B,W){if(!(S&&!W&&!M)){var U=sn?dn:w.scroll(),Ue=M?0:(U-ie)/ye,K=Ue<0?0:Ue>1?1:Ue||0,Ne=w.progress,be,pn,pe,qe,Zt,Te,Se,De;if(B&&(Bt=ce,ce=S?le():U,E&&(di=fi,fi=r&&!L?r.totalProgress():K)),m&&!K&&d&&!st&&!oo&&$t&&ie<U+(U-Bt)/(wt()-mo)*m&&(K=1e-4),K!==Ne&&w.enabled){if(be=w.isActive=!!K&&K<1,pn=!!Ne&&Ne<1,Te=be!==pn,Zt=Te||!!K!=!!Ne,w.direction=K>Ne?1:-1,w.progress=K,Zt&&!st&&(pe=K&&!Ne?0:K===1?1:Ne===1?2:3,L&&(qe=!Te&&q[pe+1]!=="none"&&q[pe+1]||q[pe],De=r&&(qe==="complete"||qe==="reset"||qe in r))),x&&(Te||De)&&(De||h||!r)&&(Et(x)?x(w):w.getTrailing(x).forEach(function(Ce){return Ce.endAnimation()})),L||(re&&!st&&!oo?(re._dp._time-re._start!==re._time&&re.render(re._dp._time-re._start),re.resetTo?re.resetTo("totalProgress",K,r._tTime/r._tDur):(re.vars.totalProgress=K,re.invalidate().restart())):r&&r.totalProgress(K,!!st)),d){if(M&&_&&(ut.style[_+k.os2]=Dr),!F)Ae(is(Lt+ht*K));else if(Zt){if(Se=!M&&K>Ne&&et+1>U&&U+1>=ii(R,k),b)if(!M&&(be||Se)){var Xi=Fn(d,!0),_i=U-ie;xh(d,ke,Xi.top+(k===He?_i:0)+Je,Xi.left+(k===He?0:_i)+Je)}else xh(d,ut);_r(be||Se?Un:Gi),Or&&K<1&&be||Ae(Lt+(K===1&&!Se?ht:0))}}E&&!Ve.tween&&!st&&!oo&&Jt.restart(!0),a&&(Te||y&&K&&(K<1||!Za))&&So(a.targets).forEach(function(Ce){return Ce.classList[be||y?"add":"remove"](a.className)}),o&&!L&&!M&&o(w),Zt&&!st?(L&&(De&&(qe==="complete"?r.pause().totalProgress(1):qe==="reset"?r.restart(!0).pause():qe==="restart"?r.restart(!0):r[qe]()),o&&o(w)),(Te||!Za)&&(c&&Te&&tl(w,c),N[pe]&&tl(w,N[pe]),y&&(K===1?w.kill(!1,1):N[pe]=0),Te||(pe=K===1?1:3,N[pe]&&tl(w,N[pe]))),I&&!be&&Math.abs(w.getVelocity())>(rs(I)?I:2500)&&(ns(w.callbackAnimation),re?re.progress(1):ns(r,qe==="reverse"?1:!K,1))):L&&o&&!st&&o(w)}if(Yn){var We=S?U/S.duration()*(S._caScrollDist||0):U;hn(We+(ct._isFlipped?1:0)),Yn(We)}ji&&ji(-U/S.duration()*(S._caScrollDist||0))}},w.enable=function(M,B){w.enabled||(w.enabled=!0,Ze(R,"resize",ss),Ze(G?ge:R,"scroll",hr),oe&&Ze(i,"refreshInit",oe),M!==!1&&(w.progress=fn=0,ce=Bt=ve=le()),B!==!1&&w.refresh())},w.getTween=function(M){return M&&Ve?Ve.tween:re},w.setPositions=function(M,B){d&&(Lt+=M-ie,ht+=B-M-ye,_===Re&&w.adjustPinSpacing(B-M-ye)),w.start=ie=M,w.end=et=B,ye=B-M,w.update()},w.adjustPinSpacing=function(M){if(ft){var B=ft.indexOf(k.d)+1;ft[B]=parseFloat(ft[B])+M+Je,ft[1]=parseFloat(ft[1])+M+Je,_r(ft)}},w.disable=function(M,B){if(w.enabled&&(M!==!1&&w.revert(!0,!0),w.enabled=w.isActive=!1,B||re&&re.pause(),dn=0,je&&(je.uncache=1),oe&&Ye(i,"refreshInit",oe),Jt&&(Jt.pause(),Ve.tween&&Ve.tween.kill()&&(Ve.tween=0)),!G)){for(var W=j.length;W--;)if(j[W].scroller===R&&j[W]!==w)return;Ye(R,"resize",ss),Ye(R,"scroll",hr)}},w.kill=function(M,B){w.disable(M,B),re&&!B&&re.kill(),l&&delete ll[l];var W=j.indexOf(w);W>=0&&j.splice(W,1),W===yt&&wo>0&&yt--,W=0,j.forEach(function(U){return U.scroller===w.scroller&&(W=1)}),W||sn||(w.scroll.rec=0),r&&(r.scrollTrigger=null,M&&r.revert({kill:!1}),B||r.kill()),At&&[At,un,ct,T].forEach(function(U){return U.parentNode&&U.parentNode.removeChild(U)}),us===w&&(us=0),d&&(je&&(je.uncache=1),W=0,j.forEach(function(U){return U.pin===d&&W++}),W||(je.spacer=0)),n.onKill&&n.onKill(w)},w.enable(!1,!1),xn&&xn(w),!r||!r.add||ye?w.refresh():D.delayedCall(.01,function(){return ie||et||w.refresh()})&&(ye=.01)&&(ie=et=0),d&&Eg()},i.register=function(n){return fr||(D=n||Hh(),Fh()&&window.document&&i.enable(),fr=ao),fr},i.defaults=function(n){if(n)for(var r in n)ho[r]=n[r];return ho},i.disable=function(n,r){ao=0,j.forEach(function(o){return o[r?"kill":"disable"](n)}),Ye(J,"wheel",hr),Ye(ge,"scroll",hr),clearInterval(so),Ye(ge,"touchcancel",yn),Ye(ke,"touchstart",yn),co(Ye,ge,"pointerdown,touchstart,mousedown",vh),co(Ye,ge,"pointerup,touchend,mouseup",yh),To.kill(),lo(Ye);for(var s=0;s<$.length;s+=3)uo(Ye,$[s],$[s+1]),uo(Ye,$[s],$[s+2])},i.enable=function(){if(J=window,ge=document,on=ge.documentElement,ke=ge.body,D&&(So=D.utils.toArray,pr=D.utils.clamp,ol=D.core.context||yn,Ja=D.core.suppressOverwrites||yn,ul=J.history.scrollRestoration||"auto",D.core.globals("ScrollTrigger",i),ke)){ao=1,Le.register(D),i.isTouch=Le.isTouch,ni=Le.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Ze(J,"wheel",hr),Ah=[J,ge,on,ke],D.matchMedia?(i.matchMedia=function(l){var c=D.matchMedia(),u;for(u in l)c.add(u,l[u]);return c},D.addEventListener("matchMediaInit",function(){return _l()}),D.addEventListener("matchMediaRevert",function(){return qh()}),D.addEventListener("matchMedia",function(){Ii(0,1),Ri("matchMedia")}),D.matchMedia("(orientation: portrait)",function(){return nl(),nl})):console.warn("Requires GSAP 3.11.0 or later"),nl(),Ze(ge,"scroll",hr);var n=ke.style,r=n.borderTopStyle,s=D.core.Animation.prototype,o,a;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",o=Fn(ke),He.m=Math.round(o.top+He.sc())||0,rt.m=Math.round(o.left+rt.sc())||0,r?n.borderTopStyle=r:n.removeProperty("border-top-style"),so=setInterval(bh,250),D.delayedCall(.5,function(){return oo=0}),Ze(ge,"touchcancel",yn),Ze(ke,"touchstart",yn),co(Ze,ge,"pointerdown,touchstart,mousedown",vh),co(Ze,ge,"pointerup,touchend,mouseup",yh),sl=D.utils.checkPrefix("transform"),Eo.push(sl),fr=wt(),To=D.delayedCall(.2,Ii).pause(),dr=[ge,"visibilitychange",function(){var l=J.innerWidth,c=J.innerHeight;ge.hidden?(mh=l,gh=c):(mh!==l||gh!==c)&&ss()},ge,"DOMContentLoaded",Ii,J,"load",Ii,J,"resize",ss],lo(Ze),j.forEach(function(l){return l.enable(0,1)}),a=0;a<$.length;a+=3)uo(Ye,$[a],$[a+1]),uo(Ye,$[a],$[a+2])}},i.config=function(n){"limitCallbacks"in n&&(Za=!!n.limitCallbacks);var r=n.syncInterval;r&&clearInterval(so)||(so=r)&&setInterval(bh,r),"ignoreMobileResize"in n&&(Nh=i.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(lo(Ye)||lo(Ze,n.autoRefreshEvents||"none"),Rh=(n.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(n,r){var s=vt(n),o=$.indexOf(s),a=Ai(s);~o&&$.splice(o,a?6:2),r&&(a?nn.unshift(J,r,ke,r,on,r):nn.unshift(s,r))},i.clearMatchMedia=function(n){j.forEach(function(r){return r._ctx&&r._ctx.query===n&&r._ctx.kill(!0,!0)})},i.isInViewport=function(n,r,s){var o=(rn(n)?vt(n):n).getBoundingClientRect(),a=o[s?ki:Mi]*r||0;return s?o.right-a>0&&o.left+a<J.innerWidth:o.bottom-a>0&&o.top+a<J.innerHeight},i.positionInViewport=function(n,r,s){rn(n)&&(n=vt(n));var o=n.getBoundingClientRect(),a=o[s?ki:Mi],l=r==null?a/2:r in Co?Co[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+l)/J.innerWidth:(o.top+l)/J.innerHeight},i.killAll=function(n){if(j.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var r=Li.killAll||[];Li={},r.forEach(function(s){return s()})}},i}();Y.version="3.11.4";Y.saveStyles=function(i){return i?So(i).forEach(function(e){if(e&&e.style){var t=Ft.indexOf(e);t>=0&&Ft.splice(t,5),Ft.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),D.core.getCache(e),ol())}}):Ft};Y.revert=function(i,e){return _l(!i,e)};Y.create=function(i,e){return new Y(i,e)};Y.refresh=function(i){return i?ss():(fr||Y.register())&&Ii(!0)};Y.update=function(i){return++$.cache&&ri(i===!0?2:0)};Y.clearScrollMemory=Yh;Y.maxScroll=function(i,e){return ii(i,e?rt:He)};Y.getScrollFunc=function(i,e){return Dn(vt(i),e?rt:He)};Y.getById=function(i){return ll[i]};Y.getAll=function(){return j.filter(function(i){return i.vars.id!=="ScrollSmoother"})};Y.isScrolling=function(){return!!$t};Y.snapDirectional=pl;Y.addEventListener=function(i,e){var t=Li[i]||(Li[i]=[]);~t.indexOf(e)||t.push(e)};Y.removeEventListener=function(i,e){var t=Li[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};Y.batch=function(i,e){var t=[],n={},r=e.interval||.016,s=e.batchMax||1e9,o=function(c,u){var h=[],f=[],d=D.delayedCall(r,function(){u(h,f),h=[],f=[]}).pause();return function(_){h.length||d.restart(!0),h.push(_.trigger),f.push(_),s<=h.length&&d.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&Et(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return Et(s)&&(s=s(),Ze(Y,"refresh",function(){return s=e.batchMax()})),So(i).forEach(function(l){var c={};for(a in n)c[a]=n[a];c.trigger=l,t.push(Y.create(c))}),t};kh=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},rl=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Le.isTouch?" pinch-zoom":""):"none",e===on&&i(ke,t)},_o={auto:1,scroll:1},xg=function(e){var t=e.event,n=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||D.core.getCache(s),a=wt(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==ke&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(_o[(l=an(s)).overflowY]||_o[l.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==n&&!Ai(s)&&(_o[(l=an(s)).overflowY]||_o[l.overflowX]),o._isScrollT=a}(o._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},Gh=function(e,t,n,r){return Le.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&xg,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&Ze(ge,Le.eventTypes[0],Ph,!1,!0)},onDisable:function(){return Ye(ge,Le.eventTypes[0],Ph,!0)}})},Ig=/(input|label|select|textarea)/i,Ph=function(e){var t=Ig.test(e.target.tagName);(t||Mh)&&(e._gsapAllow=!0,Mh=t)},kg=function(e){go(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,r=t.momentum,s=t.allowNestedScroll,o,a,l=vt(e.target)||on,c=D.core.globals().ScrollSmoother,u=c&&c.get(),h=ni&&(e.content&&vt(e.content)||u&&e.content!==!1&&!u.smooth()&&u.content()),f=Dn(l,He),d=Dn(l,rt),_=1,p=(Le.isTouch&&J.visualViewport?J.visualViewport.scale*J.visualViewport.width:J.outerWidth)/J.innerWidth,m=0,g=Et(r)?function(){return r(o)}:function(){return r||2.8},v,y,E=Gh(l,e.type,!0,s),b=function(){return y=!1},C=yn,S=yn,I=function(){a=ii(l,He),S=pr(ni?1:0,a),n&&(C=pr(0,ii(l,rt))),v=Pi},x=function(){h._gsap.y=is(parseFloat(h._gsap.y)+f.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},k=function(){if(y){requestAnimationFrame(b);var q=is(o.deltaY/2),z=S(f.v-q);if(h&&z!==f.v+f.offset){f.offset=z-f.v;var se=is((parseFloat(h&&h._gsap.y)||0)-f.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+se+", 0, 1)",h._gsap.y=se+"px",f.cacheID=$.cache,ri()}return!0}f.offset&&x(),y=!0},L,R,X,G,F=function(){I(),L.isActive()&&L.vars.scrollY>a&&(f()>a?L.progress(1)&&f(a):L.resetTo("scrollY",a))};return h&&D.set(h,{y:"+=0"}),e.ignoreCheck=function(N){return ni&&N.type==="touchmove"&&k(N)||_>1.05&&N.type!=="touchstart"||o.isGesturing||N.touches&&N.touches.length>1},e.onPress=function(){var N=_;_=is((J.visualViewport&&J.visualViewport.scale||1)/p),L.pause(),N!==_&&rl(l,_>1.01?!0:n?!1:"x"),R=d(),X=f(),I(),v=Pi},e.onRelease=e.onGestureStart=function(N,q){if(f.offset&&x(),!q)G.restart(!0);else{$.cache++;var z=g(),se,w;n&&(se=d(),w=se+z*.05*-N.velocityX/.227,z*=kh(d,se,w,ii(l,rt)),L.vars.scrollX=C(w)),se=f(),w=se+z*.05*-N.velocityY/.227,z*=kh(f,se,w,ii(l,He)),L.vars.scrollY=S(w),L.invalidate().duration(z).play(.01),(ni&&L.vars.scrollY>=a||se>=a-1)&&D.to({},{onUpdate:F,duration:z})}},e.onWheel=function(){L._ts&&L.pause(),wt()-m>1e3&&(v=0,m=wt())},e.onChange=function(N,q,z,se,w){if(Pi!==v&&I(),q&&n&&d(C(se[2]===q?R+(N.startX-N.x):d()+q-se[1])),z){f.offset&&x();var oe=w[2]===z,Be=oe?X+N.startY-N.y:f()+z-w[1],Me=S(Be);oe&&Be!==Me&&(X+=Me-Be),f(Me)}(z||q)&&ri()},e.onEnable=function(){rl(l,n?!1:"x"),Y.addEventListener("refresh",F),Ze(J,"resize",F),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=d.smooth=!1),E.enable()},e.onDisable=function(){rl(l,!0),Ye(J,"resize",F),Y.removeEventListener("refresh",F),E.kill()},e.lockAxis=e.lockAxis!==!1,o=new Le(e),o.iOS=ni,ni&&!f()&&f(1),ni&&D.ticker.add(yn),G=o._dc,L=D.to(o,{ease:"power4",paused:!0,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:G.vars.onComplete}),o};Y.sort=function(i){return j.sort(i||function(e,t){return(e.vars.refreshPriority||0)*-1e6+e.start-(t.start+(t.vars.refreshPriority||0)*-1e6)})};Y.observe=function(i){return new Le(i)};Y.normalizeScroll=function(i){if(typeof i=="undefined")return Ot;if(i===!0&&Ot)return Ot.enable();if(i===!1)return Ot&&Ot.kill();var e=i instanceof Le?i:kg(i);return Ot&&Ot.target===e.target&&Ot.kill(),Ai(e.target)&&(Ot=e),e};Y.core={_getVelocityProp:ro,_inputObserver:Gh,_scrollers:$,_proxies:nn,bridge:{ss:function(){$t||Ri("scrollStart"),$t=wt()},ref:function(){return st}}};Hh()&&D.registerPlugin(Y)});function jh(i,e,t){return Math.max(i,Math.min(e,t))}function Pg(i,e,t){return(1-t)*i+t*e}function Ag(i,e,t,n){return Pg(i,e,1-Math.exp(-t*n))}function Lg(i,e){return(i%e+e)%e}function Ng(i,e){let t;return function(...n){let r=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,i.apply(r,n)},e)}}var Mg,Rg,Dg,Xh,$h,si,Og,Kh,Qh=V(()=>{Mg="1.1.14";Rg=class{constructor(){H(this,"isRunning",!1);H(this,"value",0);H(this,"from",0);H(this,"to",0);H(this,"currentTime",0);H(this,"lerp");H(this,"duration");H(this,"easing");H(this,"onUpdate")}advance(i){var t;if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=i;let n=jh(0,this.currentTime/this.duration,1);e=n>=1;let r=e?1:this.easing(n);this.value=this.from+(this.to-this.from)*r}else this.lerp?(this.value=Ag(this.value,this.to,this.lerp*60,i),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),(t=this.onUpdate)==null||t.call(this,this.value,e)}stop(){this.isRunning=!1}fromTo(i,e,{lerp:t,duration:n,easing:r,onStart:s,onUpdate:o}){this.from=this.value=i,this.to=e,this.lerp=t,this.duration=n,this.easing=r,this.currentTime=0,this.isRunning=!0,s==null||s(),this.onUpdate=o}};Dg=class{constructor(i,e,{autoResize:t=!0,debounce:n=250}={}){H(this,"width",0);H(this,"height",0);H(this,"scrollHeight",0);H(this,"scrollWidth",0);H(this,"debouncedResize");H(this,"wrapperResizeObserver");H(this,"contentResizeObserver");H(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});H(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});H(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=i,this.content=e,t&&(this.debouncedResize=Ng(this.resize,n),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var i,e;(i=this.wrapperResizeObserver)==null||i.disconnect(),(e=this.contentResizeObserver)==null||e.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},Xh=class{constructor(){H(this,"events",{})}emit(i,...e){var n;let t=this.events[i]||[];for(let r=0,s=t.length;r<s;r++)(n=t[r])==null||n.call(t,...e)}on(i,e){var t;return(t=this.events[i])!=null&&t.push(e)||(this.events[i]=[e]),()=>{var n;this.events[i]=(n=this.events[i])==null?void 0:n.filter(r=>e!==r)}}off(i,e){var t;this.events[i]=(t=this.events[i])==null?void 0:t.filter(n=>e!==n)}destroy(){this.events={}}},$h=100/6,si={passive:!1},Og=class{constructor(i,e={wheelMultiplier:1,touchMultiplier:1}){H(this,"touchStart",{x:0,y:0});H(this,"lastDelta",{x:0,y:0});H(this,"window",{width:0,height:0});H(this,"emitter",new Xh);H(this,"onTouchStart",i=>{let{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:i})});H(this,"onTouchMove",i=>{let{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i,n=-(e-this.touchStart.x)*this.options.touchMultiplier,r=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:n,y:r},this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:i})});H(this,"onTouchEnd",i=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:i})});H(this,"onWheel",i=>{let{deltaX:e,deltaY:t,deltaMode:n}=i,r=n===1?$h:n===2?this.window.width:1,s=n===1?$h:n===2?this.window.height:1;e*=r,t*=s,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:i})});H(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=i,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,si),this.element.addEventListener("touchstart",this.onTouchStart,si),this.element.addEventListener("touchmove",this.onTouchMove,si),this.element.addEventListener("touchend",this.onTouchEnd,si)}on(i,e){return this.emitter.on(i,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,si),this.element.removeEventListener("touchstart",this.onTouchStart,si),this.element.removeEventListener("touchmove",this.onTouchMove,si),this.element.removeEventListener("touchend",this.onTouchEnd,si)}},Kh=class{constructor({wrapper:i=window,content:e=document.documentElement,eventsTarget:t=i,smoothWheel:n=!0,syncTouch:r=!1,syncTouchLerp:s=.075,touchInertiaMultiplier:o=35,duration:a,easing:l=E=>Math.min(1,1.001-Math.pow(2,-10*E)),lerp:c=.1,infinite:u=!1,orientation:h="vertical",gestureOrientation:f="vertical",touchMultiplier:d=1,wheelMultiplier:_=1,autoResize:p=!0,prevent:m,virtualScroll:g,overscroll:v=!0,__experimental__naiveDimensions:y=!1}={}){H(this,"_isScrolling",!1);H(this,"_isStopped",!1);H(this,"_isLocked",!1);H(this,"_preventNextNativeScrollEvent",!1);H(this,"_resetVelocityTimeout",null);H(this,"isTouching");H(this,"time",0);H(this,"userData",{});H(this,"lastVelocity",0);H(this,"velocity",0);H(this,"direction",0);H(this,"options");H(this,"targetScroll");H(this,"animatedScroll");H(this,"animate",new Rg);H(this,"emitter",new Xh);H(this,"dimensions");H(this,"virtualScroll");H(this,"onPointerDown",i=>{i.button===1&&this.reset()});H(this,"onVirtualScroll",i=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(i)===!1)return;let{deltaX:e,deltaY:t,event:n}=i;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:n}),n.ctrlKey||n.lenisStopPropagation)return;let r=n.type.includes("touch"),s=n.type.includes("wheel");if(this.isTouching=n.type==="touchstart"||n.type==="touchmove",this.options.syncTouch&&r&&n.type==="touchstart"&&!this.isStopped&&!this.isLocked){this.reset();return}let a=e===0&&t===0,l=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(a||l)return;let c=n.composedPath();c=c.slice(0,c.indexOf(this.rootElement));let u=this.options.prevent;if(c.find(m=>{var g,v,y;return m instanceof HTMLElement&&(typeof u=="function"&&(u==null?void 0:u(m))||((g=m.hasAttribute)==null?void 0:g.call(m,"data-lenis-prevent"))||r&&((v=m.hasAttribute)==null?void 0:v.call(m,"data-lenis-prevent-touch"))||s&&((y=m.hasAttribute)==null?void 0:y.call(m,"data-lenis-prevent-wheel")))}))return;if(this.isStopped||this.isLocked){n.preventDefault();return}if(!(this.options.syncTouch&&r||this.options.smoothWheel&&s)){this.isScrolling="native",this.animate.stop(),n.lenisStopPropagation=!0;return}let f=t;this.options.gestureOrientation==="both"?f=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(f=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(n.lenisStopPropagation=!0),n.preventDefault();let d=r&&this.options.syncTouch,p=r&&n.type==="touchend"&&Math.abs(f)>5;p&&(f=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+f,{programmatic:!1,...d?{lerp:p?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});H(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let i=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-i,this.direction=Math.sign(this.animatedScroll-i),this.isScrolling="native",this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});window.lenisVersion=Mg,(!i||i===document.documentElement||i===document.body)&&(i=window),this.options={wrapper:i,content:e,eventsTarget:t,smoothWheel:n,syncTouch:r,syncTouchLerp:s,touchInertiaMultiplier:o,duration:a,easing:l,lerp:c,infinite:u,gestureOrientation:f,orientation:h,touchMultiplier:d,wheelMultiplier:_,autoResize:p,prevent:m,virtualScroll:g,overscroll:v,__experimental__naiveDimensions:y},this.dimensions=new Dg(i,e,{autoResize:p}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new Og(t,{touchMultiplier:d,wheelMultiplier:_}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName()}on(i,e){return this.emitter.on(i,e)}off(i,e){return this.emitter.off(i,e)}setScroll(i){this.isHorizontal?this.rootElement.scrollLeft=i:this.rootElement.scrollTop=i}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(i){let e=i-(this.time||i);this.time=i,this.animate.advance(e*.001)}scrollTo(i,{offset:e=0,immediate:t=!1,lock:n=!1,duration:r=this.options.duration,easing:s=this.options.easing,lerp:o=this.options.lerp,onStart:a,onComplete:l,force:c=!1,programmatic:u=!0,userData:h}={}){if(!((this.isStopped||this.isLocked)&&!c)){if(typeof i=="string"&&["top","left","start"].includes(i))i=0;else if(typeof i=="string"&&["bottom","right","end"].includes(i))i=this.limit;else{let f;if(typeof i=="string"?f=document.querySelector(i):i instanceof HTMLElement&&(i!=null&&i.nodeType)&&(f=i),f){if(this.options.wrapper!==window){let _=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?_.left:_.top}let d=f.getBoundingClientRect();i=(this.isHorizontal?d.left:d.top)+this.animatedScroll}}if(typeof i=="number"){if(i+=e,i=Math.round(i),this.options.infinite?u&&(this.targetScroll=this.animatedScroll=this.scroll):i=jh(0,i,this.limit),i===this.targetScroll){a==null||a(this),l==null||l(this);return}if(this.userData=h!=null?h:{},t){this.animatedScroll=this.targetScroll=i,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l==null||l(this),this.userData={};return}u||(this.targetScroll=i),this.animate.fromTo(this.animatedScroll,i,{duration:r,easing:s,lerp:o,onStart:()=>{n&&(this.isLocked=!0),this.isScrolling="smooth",a==null||a(this)},onUpdate:(f,d)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=f-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=f,this.setScroll(this.scroll),u&&(this.targetScroll=f),d||this.emit(),d&&(this.reset(),this.emit(),l==null||l(this),this.userData={},this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?Lg(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(i){this._isScrolling!==i&&(this._isScrolling=i,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(i){this._isStopped!==i&&(this._isStopped=i,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(i){this._isLocked!==i&&(this._isLocked=i,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let i="lenis";return this.isStopped&&(i+=" lenis-stopped"),this.isLocked&&(i+=" lenis-locked"),this.isScrolling&&(i+=" lenis-scrolling"),this.isScrolling==="smooth"&&(i+=" lenis-smooth"),i}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}}});function Zh(i){Jh.raf(i),Y.update(),requestAnimationFrame(Zh)}var Jh,oi,ko=V(()=>{"use strict";mt();Io();Qh();A.registerPlugin(Y);Jh=new Kh({duration:1.2,easing:i=>Math.min(1,1.001-Math.pow(90,-2*i)),orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,wheelMultiplier:.8,touchMultiplier:2,infinite:!1});requestAnimationFrame(Zh);oi=Jh});var ml,Mo,gl=V(()=>{"use strict";ko();mt();ml=class{static heroReveal(){let e=document.querySelector(".section_verify"),t=document.querySelector("#heroPlace"),n=document.querySelector("#heroVideo"),r=document.querySelector(".nav_component"),s=[...document.querySelectorAll(".oa_path")],o=document.querySelector(".banner_component"),a=A.timeline({onComplete:()=>{a.set(t,{zIndex:1}),oi.start()}});a.set(t,{opacity:0,display:"none"}),a.to(e,{delay:.2,duration:1.5,display:"none",opacity:0,ease:"power3.inOut"}),o&&a.fromTo(o,{opacity:0,y:"-3rem",height:0},{duration:2,opacity:1,y:"0rem",height:"3rem",ease:"power3.out"},"<"),a.fromTo(s,{y:"4rem",opacity:0},{duration:1,y:"0rem",opacity:1,stagger:.2,ease:"power1.out"},"<"),a.fromTo(r,{opacity:0,y:"1rem"},{duration:1.2,y:"0rem",opacity:1,ease:"expo.inOut"},"<0.2"),n&&n.play()}},Mo=ml});var Hn,vl,Po,yl=V(()=>{"use strict";Hn=class Hn{static setVerificationStatus(e=Hn.defaultTTL){let n={verified:!0,expiry:new Date().getTime()+e};localStorage.setItem(Hn.storageKey,JSON.stringify(n))}static isVerified(){let e=localStorage.getItem(Hn.storageKey);if(!e)return!1;let t=JSON.parse(e);return new Date().getTime()>t.expiry?(localStorage.removeItem(Hn.storageKey),!1):(console.log("verifying....",t),t.verified)}static clearVerificationStatus(){console.log("removing cookie"),localStorage.removeItem(Hn.storageKey)}};Hn.storageKey="userVerification",Hn.defaultTTL=24*60*60*1e3;vl=Hn,Po=vl});function nf(i){return rf(void 0,i)}function rf(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!Hg(t)||(i[t]=rf(i[t],e[t]));return i}function Hg(i){return i!=="__proto__"}function Bg(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cl(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bg())}function sf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wn(){return wl.NODE_CLIENT===!0||wl.NODE_ADMIN===!0}function of(){try{return typeof indexedDB=="object"}catch{return!1}}function af(){return new Promise((i,e)=>{try{let t=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function zg(i,e){return i.replace(Vg,(t,n)=>{let r=e[n];return r!=null?String(r):`<${n}?>`})}function vr(i){return JSON.parse(i)}function Ge(i){return JSON.stringify(i)}function En(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Oi(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function xl(i){for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ds(i,e,t){let n={};for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=e.call(t,i[r],r,i));return n}function hf(i){let e=[];for(let[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ff(i,e){return`${i} failed: ${e} argument `}function pf(i){return i&&i._delegate?i._delegate:i}var wl,P,Di,tf,Fg,Lo,El,Tl,Sl,bl,gr,Wg,Ni,fs,Vg,lf,cf,uf,Ao,df,ps,oE,_s=V(()=>{wl={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};P=function(i,e){if(!i)throw Di(e)},Di=function(i){return new Error("Firebase Database ("+wl.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};tf=function(i){let e=[],t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Fg=function(i){let e=[],t=0,n=0;for(;t<i.length;){let r=i[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){let s=i[t++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=i[t++],o=i[t++],a=i[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{let s=i[t++],o=i[t++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Lo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let s=i[r],o=r+1<i.length,a=o?i[r+1]:0,l=r+2<i.length,c=l?i[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),n.push(t[u],t[h],t[f],t[d])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(tf(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Fg(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let s=t[i.charAt(r++)],a=r<i.length?t[i.charAt(r)]:0;++r;let c=r<i.length?t[i.charAt(r)]:64;++r;let h=r<i.length?t[i.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new El;let f=s<<2|a>>4;if(n.push(f),c!==64){let d=a<<4&240|c>>2;if(n.push(d),h!==64){let _=c<<6&192|h;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},El=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Tl=function(i){let e=tf(i);return Lo.encodeByteArray(e,!0)},Sl=function(i){return Tl(i).replace(/\./g,"")},bl=function(i){try{return Lo.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};gr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};Wg="FirebaseError",Ni=class i extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Wg,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fs.prototype.create)}},fs=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?zg(s,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ni(r,a,n)}};Vg=/\{\$([^}]+)}/g;lf=function(i){let e={},t={},n={},r="";try{let s=i.split(".");e=vr(bl(s[0])||""),t=vr(bl(s[1])||""),r=s[2],n=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:n,signature:r}},cf=function(i){let e=lf(i),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},uf=function(i){let e=lf(i).claims;return typeof e=="object"&&e.admin===!0};Ao=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let n=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)n[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)n[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){let f=n[h-3]^n[h-8]^n[h-14]^n[h-16];n[h]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let f=(r<<5|r>>>27)+c+l+u+n[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let n=t-this.blockSize,r=0,s=this.buf_,o=this.inbuf_;for(;r<t;){if(o===0)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<t;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[n]=this.chain_[r]>>s&255,++n;return e}};df=function(i){let e=[],t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);if(r>=55296&&r<=56319){let s=r-55296;n++,P(n<i.length,"Surrogate pair missing trail surrogate.");let o=i.charCodeAt(n)-56320;r=65536+(s<<10)+o}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},ps=function(i){let e=0;for(let t=0;t<i.length;t++){let n=i.charCodeAt(t);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,t++):e+=3}return e};oE=4*60*60*1e3;});var ai,Il=V(()=>{_s();ai=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};});var Ug,fe,qg,Yg,Gg,$g,yr,kl=V(()=>{Ug=[];(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(fe||(fe={}));qg={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Yg=fe.INFO,Gg={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},$g=(i,e,...t)=>{if(e<i.logLevel)return;let n=new Date().toISOString(),r=Gg[e];if(r)console[r](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yr=class{constructor(e){this.name=e,this._logLevel=Yg,this._logHandler=$g,this._userLogHandler=null,Ug.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qg[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}});function Xg(){return _f||(_f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kg(){return mf||(mf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function Qg(i){let e=new Promise((t,n)=>{let r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{t(bn(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&gf.set(t,i)}).catch(()=>{}),Ll.set(e,i),e}function Jg(i){if(Pl.has(i))return;let e=new Promise((t,n)=>{let r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});Pl.set(i,e)}function yf(i){Al=i(Al)}function Zg(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let n=i.call(Ro(this),e,...t);return vf.set(n,e.sort?e.sort():[e]),bn(n)}:Kg().includes(i)?function(...e){return i.apply(Ro(this),e),bn(gf.get(this))}:function(...e){return bn(i.apply(Ro(this),e))}}function ev(i){return typeof i=="function"?Zg(i):(i instanceof IDBTransaction&&Jg(i),jg(i,Xg())?new Proxy(i,Al):i)}function bn(i){if(i instanceof IDBRequest)return Qg(i);if(Ml.has(i))return Ml.get(i);let e=ev(i);return e!==i&&(Ml.set(i,e),Ll.set(e,i)),e}var jg,_f,mf,gf,Pl,vf,Ml,Ll,Al,Ro,Rl=V(()=>{jg=(i,e)=>e.some(t=>i instanceof t);gf=new WeakMap,Pl=new WeakMap,vf=new WeakMap,Ml=new WeakMap,Ll=new WeakMap;Al={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Pl.get(i);if(e==="objectStoreNames")return i.objectStoreNames||vf.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bn(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};Ro=i=>Ll.get(i)});function Ef(i,e,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){let o=indexedDB.open(i,e),a=bn(o);return n&&o.addEventListener("upgradeneeded",l=>{n(bn(o.result),l.oldVersion,l.newVersion,bn(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function wf(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Nl.get(e))return Nl.get(e);let t=e.replace(/FromIndex$/,""),n=e!==t,r=nv.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||tv.includes(t)))return;let s=async function(o,...a){let l=this.transaction(o,r?"readwrite":"readonly"),c=l.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),r&&l.done]))[0]};return Nl.set(e,s),s}var tv,nv,Nl,bf=V(()=>{Rl();Rl();tv=["get","getKey","getAll","getAllKeys","count"],nv=["put","add","delete","clear"],Nl=new Map;yf(i=>({...i,get:(e,t,n)=>wf(e,t)||i.get(e,t,n),has:(e,t)=>!!wf(e,t)||i.has(e,t)}))});function rv(i){let e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}function Cf(i,e){try{i.container.addComponent(e)}catch(t){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ms(i){let e=i.name;if(Sf.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,i);for(let t of Rv.values())Cf(t,i);for(let t of Nv.values())Cf(t,i);return!0}function Mf(i){return i==null?!1:i.settings!==void 0}function wr(i,e,t){var n;let r=(n=Lv[i])!==null&&n!==void 0?n:i;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(a.join(" "));return}ms(new ai(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function Af(){return Dl||(Dl=Ef(Ov,Fv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gs)}catch(t){console.warn(t)}}}}).catch(i=>{throw Wl.create("idb-open",{originalErrorMessage:i.message})})),Dl}async function Hv(i){try{let t=(await Af()).transaction(gs),n=await t.objectStore(gs).get(Lf(i));return await t.done,n}catch(e){if(e instanceof Ni)Bn.warn(e.message);else{let t=Wl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bn.warn(t.message)}}}async function xf(i,e){try{let n=(await Af()).transaction(gs,"readwrite");await n.objectStore(gs).put(e,Lf(i)),await n.done}catch(t){if(t instanceof Ni)Bn.warn(t.message);else{let n=Wl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bn.warn(n.message)}}}function Lf(i){return`${i.name}!${i.options.appId}`}function If(){return new Date().toISOString().substring(0,10)}function zv(i,e=Bv){let t=[],n=i.slice();for(let r of i){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),kf(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),kf(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}function kf(i){return Sl(JSON.stringify({version:2,heartbeats:i})).length}function Vv(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}function Uv(i){ms(new ai("platform-logger",e=>new Ol(e),"PRIVATE")),ms(new ai("heartbeat",e=>new Hl(e),"PRIVATE")),wr(Fl,Tf,i),wr(Fl,Tf,"esm2017"),wr("fire-js","")}var Ol,Fl,Tf,Bn,sv,ov,av,lv,cv,uv,hv,fv,dv,pv,_v,mv,gv,vv,yv,wv,Ev,bv,Tv,Sv,Cv,xv,Iv,kv,Mv,Pv,Av,Lv,Rv,Nv,Sf,Dv,Wl,Pf,Ov,Fv,gs,Dl,Bv,Wv,Hl,Bl,Rf=V(()=>{Il();kl();_s();_s();bf();Ol=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rv(t)){let n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}};Fl="@firebase/app",Tf="0.11.0";Bn=new yr("@firebase/app"),sv="@firebase/app-compat",ov="@firebase/analytics-compat",av="@firebase/analytics",lv="@firebase/app-check-compat",cv="@firebase/app-check",uv="@firebase/auth",hv="@firebase/auth-compat",fv="@firebase/database",dv="@firebase/data-connect",pv="@firebase/database-compat",_v="@firebase/functions",mv="@firebase/functions-compat",gv="@firebase/installations",vv="@firebase/installations-compat",yv="@firebase/messaging",wv="@firebase/messaging-compat",Ev="@firebase/performance",bv="@firebase/performance-compat",Tv="@firebase/remote-config",Sv="@firebase/remote-config-compat",Cv="@firebase/storage",xv="@firebase/storage-compat",Iv="@firebase/firestore",kv="@firebase/vertexai",Mv="@firebase/firestore-compat",Pv="firebase",Av="11.3.0";Lv={[Fl]:"fire-core",[sv]:"fire-core-compat",[av]:"fire-analytics",[ov]:"fire-analytics-compat",[cv]:"fire-app-check",[lv]:"fire-app-check-compat",[uv]:"fire-auth",[hv]:"fire-auth-compat",[fv]:"fire-rtdb",[dv]:"fire-data-connect",[pv]:"fire-rtdb-compat",[_v]:"fire-fn",[mv]:"fire-fn-compat",[gv]:"fire-iid",[vv]:"fire-iid-compat",[yv]:"fire-fcm",[wv]:"fire-fcm-compat",[Ev]:"fire-perf",[bv]:"fire-perf-compat",[Tv]:"fire-rc",[Sv]:"fire-rc-compat",[Cv]:"fire-gcs",[xv]:"fire-gcs-compat",[Iv]:"fire-fst",[Mv]:"fire-fst-compat",[kv]:"fire-vertex","fire-js":"fire-js",[Pv]:"fire-js-all"};Rv=new Map,Nv=new Map,Sf=new Map;Dv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wl=new fs("app","Firebase",Dv);Pf=Av;Ov="firebase-heartbeat-database",Fv=1,gs="firebase-heartbeat-store",Dl=null;Bv=1024,Wv=30,Hl=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Bl(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=If();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Wv){let o=Vv(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Bn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=If(),{heartbeatsToSend:n,unsentEntries:r}=zv(this._heartbeatsCache.heartbeats),s=Sl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Bn.warn(t),""}}};Bl=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return of()?af().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await Hv(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return xf(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return xf(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};Uv("")});function qv(i){Bc=i}function Kt(i,e){for(let t in i)i.hasOwnProperty(t)&&e(t,i[t])}function ny(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Id(i,e,t){P(typeof e=="string","typeof type must == string"),P(typeof t=="object","typeof params must == object");let n;if(e===Cd)n=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===xd)n=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ny(i)&&(t.ns=i.namespace);let r=[];return Kt(t,(s,o)=>{r.push(s+"="+o)}),n+r.join("&")}function zc(i){let e=i.toString();return zl[e]||(zl[e]=new nc),zl[e]}function iy(i,e){let t=i.toString();return Vl[t]||(Vl[t]=e()),Vl[t]}function ae(){return new de("")}function te(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function ci(i){return i.pieces_.length-i.pieceNum_}function me(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new de(i.pieces_,e)}function Rd(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Sy(i){let e="";for(let t=i.pieceNum_;t<i.pieces_.length;t++)i.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[t])));return e||"/"}function Nd(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function Dd(i){if(i.pieceNum_>=i.pieces_.length)return null;let e=[];for(let t=i.pieceNum_;t<i.pieces_.length-1;t++)e.push(i.pieces_[t]);return new de(e,0)}function $e(i,e){let t=[];for(let n=i.pieceNum_;n<i.pieces_.length;n++)t.push(i.pieces_[n]);if(e instanceof de)for(let n=e.pieceNum_;n<e.pieces_.length;n++)t.push(e.pieces_[n]);else{let n=e.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&t.push(n[r])}return new de(t,0)}function Z(i){return i.pieceNum_>=i.pieces_.length}function jt(i,e){let t=te(i),n=te(e);if(t===null)return e;if(t===n)return jt(me(i),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function Od(i,e){if(ci(i)!==ci(e))return!1;for(let t=i.pieceNum_,n=e.pieceNum_;t<=i.pieces_.length;t++,n++)if(i.pieces_[t]!==e.pieces_[n])return!1;return!0}function ln(i,e){let t=i.pieceNum_,n=e.pieceNum_;if(ci(i)>ci(e))return!1;for(;t<i.pieces_.length;){if(i.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0}function Cy(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=ps(e),Fd(i)}function xy(i){let e=i.parts_.pop();i.byteLength_-=ps(e),i.parts_.length>0&&(i.byteLength_-=1)}function Fd(i){if(i.byteLength_>Gf)throw new Error(i.errorPrefix_+"has a key path longer than "+Gf+" bytes ("+i.byteLength_+").");if(i.parts_.length>Yf)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yf+") or object contains a cycle "+Fi(i))}function Fi(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}function Ay(i,e){return Lr(i.name,e.name)}function Vc(i,e){return Lr(i,e)}function Ly(i){uc=i}function Ry(i){Wd=i}function Ny(i){zd=i}function at(i,e=null){if(i===null)return _e.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),P(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){let t=i;return new zn(t,at(e))}if(!(i instanceof Array)&&Oy){let t=[],n=!1;if(Kt(i,(o,a)=>{if(o.substring(0,1)!=="."){let l=at(a);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),t.push(new ne(o,l)))}}),t.length===0)return _e.EMPTY_NODE;let s=Vo(t,Ay,o=>o.name,Vc);if(n){let o=Vo(t,lt.getCompare());return new _e(s,at(e),new kr({".priority":o},{".priority":lt}))}else return new _e(s,at(e),kr.Default)}else{let t=_e.EMPTY_NODE;return Kt(i,(n,r)=>{if(En(i,n)&&n.substring(0,1)!=="."){let s=at(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(n,s))}}),t.updatePriority(at(e))}}function Hy(i){return{type:"value",snapshotNode:i}}function By(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function Wy(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function Kf(i,e,t){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:t}}function zy(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}function Qf(i){let e={};if(i.isDefault())return e;let t;if(i.index_===lt?t="$priority":i.index_===Fy?t="$value":i.index_===Cr?t="$key":(P(i.index_ instanceof pc,"Unrecognized index type!"),t=i.index_.toString()),e.orderBy=Ge(t),i.startSet_){let n=i.startAfterSet_?"startAfter":"startAt";e[n]=Ge(i.indexStartValue_),i.startNameSet_&&(e[n]+=","+Ge(i.indexStartName_))}if(i.endSet_){let n=i.endBeforeSet_?"endBefore":"endAt";e[n]=Ge(i.indexEndValue_),i.endNameSet_&&(e[n]+=","+Ge(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Jf(i){let e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let t=i.viewFrom_;t===""&&(i.isViewFromLeft()?t="l":t="r"),e.vf=t}return i.index_!==lt&&(e.i=i.index_.toString()),e}function Uo(){return{value:null,children:new Map}}function Vd(i,e,t){if(Z(e))i.value=t,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,t);else{let n=te(e);i.children.has(n)||i.children.set(n,Uo());let r=i.children.get(n);e=me(e),Vd(r,e,t)}}function yc(i,e,t){i.value!==null?t(e,i.value):Vy(i,(n,r)=>{let s=new de(e.toString()+"/"+n);yc(r,s,t)})}function Vy(i,e){i.children.forEach((t,n)=>{e(n,t)})}function Ud(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yd(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}function Yy(i,e,t,n){let r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&i.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(zy(o.childName,o.snapshotNode))}),Es(i,r,"child_removed",e,n,t),Es(i,r,"child_added",e,n,t),Es(i,r,"child_moved",s,n,t),Es(i,r,"child_changed",e,n,t),Es(i,r,"value",e,n,t),r}function Es(i,e,t,n,r,s){let o=n.filter(a=>a.type===t);o.sort((a,l)=>$y(i,a,l)),o.forEach(a=>{let l=Gy(i,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,i.query_))})})}function Gy(i,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function $y(i,e,t){if(e.childName==null||t.childName==null)throw Di("Should only compare child_ events.");let n=new ne(e.childName,e.snapshotNode),r=new ne(t.childName,t.snapshotNode);return i.index_.compare(n,r)}function Gd(i,e){return{eventCache:i,serverCache:e}}function Ts(i,e,t,n){return Gd(new xs(e,t,n),i.serverCache)}function $d(i,e,t,n){return Gd(i.eventCache,new xs(e,t,n))}function Tc(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Ui(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}function Ss(i,e,t){if(Z(e))return new cn(new Mt(t));{let n=i.writeTree_.findRootMostValueAndPath(e);if(n!=null){let r=n.path,s=n.value,o=jt(r,e);return s=s.updateChild(o,t),new cn(i.writeTree_.set(r,s))}else{let r=new Mt(t),s=i.writeTree_.setTree(e,r);return new cn(s)}}}function ed(i,e,t){let n=i;return Kt(t,(r,s)=>{n=Ss(n,$e(e,r),s)}),n}function td(i,e){if(Z(e))return cn.empty();{let t=i.writeTree_.setTree(e,new Mt(null));return new cn(t)}}function Sc(i,e){return qi(i,e)!=null}function qi(i,e){let t=i.writeTree_.findRootMostValueAndPath(e);return t!=null?i.writeTree_.get(t.path).getChild(jt(t.path,e)):null}function nd(i){let e=[],t=i.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(lt,(n,r)=>{e.push(new ne(n,r))}):i.writeTree_.children.inorderTraversal((n,r)=>{r.value!=null&&e.push(new ne(n,r.value))}),e}function li(i,e){if(Z(e))return i;{let t=qi(i,e);return t!=null?new cn(new Mt(t)):new cn(i.writeTree_.subtree(e))}}function Cc(i){return i.writeTree_.isEmpty()}function Pr(i,e){return jd(ae(),i.writeTree_,e)}function jd(i,e,t){if(e.value!=null)return t.updateChild(i,e.value);{let n=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(P(s.value!==null,"Priority writes must always be leaf nodes"),n=s.value):t=jd($e(i,r),s,t)}),!t.getChild(i).isEmpty()&&n!==null&&(t=t.updateChild($e(i,".priority"),n)),t}}function Xd(i,e){return ep(e,i)}function Xy(i,e,t,n,r){P(n>i.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),i.allWrites.push({path:e,snap:t,writeId:n,visible:r}),r&&(i.visibleWrites=Ss(i.visibleWrites,e,t)),i.lastWriteId=n}function Ky(i,e){for(let t=0;t<i.allWrites.length;t++){let n=i.allWrites[t];if(n.writeId===e)return n}return null}function Qy(i,e){let t=i.allWrites.findIndex(a=>a.writeId===e);P(t>=0,"removeWrite called with nonexistent writeId.");let n=i.allWrites[t];i.allWrites.splice(t,1);let r=n.visible,s=!1,o=i.allWrites.length-1;for(;r&&o>=0;){let a=i.allWrites[o];a.visible&&(o>=t&&Jy(a,n.path)?r=!1:ln(n.path,a.path)&&(s=!0)),o--}if(r){if(s)return Zy(i),!0;if(n.snap)i.visibleWrites=td(i.visibleWrites,n.path);else{let a=n.children;Kt(a,l=>{i.visibleWrites=td(i.visibleWrites,$e(n.path,l))})}return!0}else return!1}function Jy(i,e){if(i.snap)return ln(i.path,e);for(let t in i.children)if(i.children.hasOwnProperty(t)&&ln($e(i.path,t),e))return!0;return!1}function Zy(i){i.visibleWrites=Kd(i.allWrites,e0,ae()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function e0(i){return i.visible}function Kd(i,e,t){let n=cn.empty();for(let r=0;r<i.length;++r){let s=i[r];if(e(s)){let o=s.path,a;if(s.snap)ln(t,o)?(a=jt(t,o),n=Ss(n,a,s.snap)):ln(o,t)&&(a=jt(o,t),n=Ss(n,ae(),s.snap.getChild(a)));else if(s.children){if(ln(t,o))a=jt(t,o),n=ed(n,a,s.children);else if(ln(o,t))if(a=jt(o,t),Z(a))n=ed(n,ae(),s.children);else{let l=Oi(s.children,te(a));if(l){let c=l.getChild(me(a));n=Ss(n,ae(),c)}}}else throw Di("WriteRecord should have .snap or .children")}}return n}function Qd(i,e,t,n,r){if(!n&&!r){let s=qi(i.visibleWrites,e);if(s!=null)return s;{let o=li(i.visibleWrites,e);if(Cc(o))return t;if(t==null&&!Sc(o,ae()))return null;{let a=t||_e.EMPTY_NODE;return Pr(o,a)}}}else{let s=li(i.visibleWrites,e);if(!r&&Cc(s))return t;if(!r&&t==null&&!Sc(s,ae()))return null;{let o=function(c){return(c.visible||r)&&(!n||!~n.indexOf(c.writeId))&&(ln(c.path,e)||ln(e,c.path))},a=Kd(i.allWrites,o,e),l=t||_e.EMPTY_NODE;return Pr(a,l)}}}function t0(i,e,t){let n=_e.EMPTY_NODE,r=qi(i.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(lt,(s,o)=>{n=n.updateImmediateChild(s,o)}),n;if(t){let s=li(i.visibleWrites,e);return t.forEachChild(lt,(o,a)=>{let l=Pr(li(s,new de(o)),a);n=n.updateImmediateChild(o,l)}),nd(s).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}else{let s=li(i.visibleWrites,e);return nd(s).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}}function n0(i,e,t,n,r){P(n||r,"Either existingEventSnap or existingServerSnap must exist");let s=$e(e,t);if(Sc(i.visibleWrites,s))return null;{let o=li(i.visibleWrites,s);return Cc(o)?r.getChild(t):Pr(o,r.getChild(t))}}function i0(i,e,t,n){let r=$e(e,t),s=qi(i.visibleWrites,r);if(s!=null)return s;if(n.isCompleteForChild(t)){let o=li(i.visibleWrites,r);return Pr(o,n.getNode().getImmediateChild(t))}else return null}function r0(i,e){return qi(i.visibleWrites,e)}function s0(i,e,t,n,r,s,o){let a,l=li(i.visibleWrites,e),c=qi(l,ae());if(c!=null)a=c;else if(t!=null)a=Pr(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),d=f.getNext();for(;d&&u.length<r;)h(d,n)!==0&&u.push(d),d=f.getNext();return u}else return[]}function o0(){return{visibleWrites:cn.empty(),allWrites:[],lastWriteId:-1}}function xc(i,e,t,n){return Qd(i.writeTree,i.treePath,e,t,n)}function Jd(i,e){return t0(i.writeTree,i.treePath,e)}function id(i,e,t,n){return n0(i.writeTree,i.treePath,e,t,n)}function Yo(i,e){return r0(i.writeTree,$e(i.treePath,e))}function a0(i,e,t,n,r,s){return s0(i.writeTree,i.treePath,e,t,n,r,s)}function Uc(i,e,t){return i0(i.writeTree,i.treePath,e,t)}function Zd(i,e){return ep($e(i.treePath,e),i.writeTree)}function ep(i,e){return{treePath:i,writeTree:e}}function l0(i,e){P(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function c0(i,e,t,n,r){let s=new Ic,o,a;if(t.type===Tn.OVERWRITE){let c=t;c.source.fromUser?o=Mc(i,e,c.path,c.snap,n,r,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Z(c.path),o=Go(i,e,c.path,c.snap,n,r,a,s))}else if(t.type===Tn.MERGE){let c=t;c.source.fromUser?o=h0(i,e,c.path,c.children,n,r,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Pc(i,e,c.path,c.children,n,r,a,s))}else if(t.type===Tn.ACK_USER_WRITE){let c=t;c.revert?o=p0(i,e,c.path,n,r,s):o=f0(i,e,c.path,c.affectedTree,n,r,s)}else if(t.type===Tn.LISTEN_COMPLETE)o=d0(i,e,t.path,n,s);else throw Di("Unknown operation type: "+t.type);let l=s.getChanges();return u0(e,o,l),{viewCache:o,changes:l}}function u0(i,e,t){let n=e.eventCache;if(n.isFullyInitialized()){let r=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=Tc(i);(t.length>0||!i.eventCache.isFullyInitialized()||r&&!n.getNode().equals(s)||!n.getNode().getPriority().equals(s.getPriority()))&&t.push(Hy(Tc(e)))}}function np(i,e,t,n,r,s){let o=e.eventCache;if(Yo(n,t)!=null)return e;{let a,l;if(Z(t))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Ui(e),u=c instanceof _e?c:_e.EMPTY_NODE,h=Jd(n,u);a=i.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{let c=xc(n,Ui(e));a=i.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=te(t);if(c===".priority"){P(ci(t)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let h=id(n,t,u,l);h!=null?a=i.filter.updatePriority(u,h):a=o.getNode()}else{let u=me(t),h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let f=id(n,t,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=Uc(n,c,e.serverCache);h!=null?a=i.filter.updateChild(o.getNode(),c,h,u,r,s):a=o.getNode()}}return Ts(e,a,o.isFullyInitialized()||Z(t),i.filter.filtersNodes())}}function Go(i,e,t,n,r,s,o,a){let l=e.serverCache,c,u=o?i.filter:i.filter.getIndexedFilter();if(Z(t))c=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){let d=l.getNode().updateChild(t,n);c=u.updateFullNode(l.getNode(),d,null)}else{let d=te(t);if(!l.isCompleteForPath(t)&&ci(t)>1)return e;let _=me(t),m=l.getNode().getImmediateChild(d).updateChild(_,n);d===".priority"?c=u.updatePriority(l.getNode(),m):c=u.updateChild(l.getNode(),d,m,_,tp,null)}let h=$d(e,c,l.isFullyInitialized()||Z(t),u.filtersNodes()),f=new Is(r,h,s);return np(i,h,t,r,f,a)}function Mc(i,e,t,n,r,s,o){let a=e.eventCache,l,c,u=new Is(r,e,s);if(Z(t))c=i.filter.updateFullNode(e.eventCache.getNode(),n,o),l=Ts(e,c,!0,i.filter.filtersNodes());else{let h=te(t);if(h===".priority")c=i.filter.updatePriority(e.eventCache.getNode(),n),l=Ts(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=me(t),d=a.getNode().getImmediateChild(h),_;if(Z(f))_=n;else{let p=u.getCompleteChild(h);p!=null?Rd(f)===".priority"&&p.getChild(Dd(f)).isEmpty()?_=p:_=p.updateChild(f,n):_=_e.EMPTY_NODE}if(d.equals(_))l=e;else{let p=i.filter.updateChild(a.getNode(),h,_,f,u,o);l=Ts(e,p,a.isFullyInitialized(),i.filter.filtersNodes())}}}return l}function rd(i,e){return i.eventCache.isCompleteForChild(e)}function h0(i,e,t,n,r,s,o){let a=e;return n.foreach((l,c)=>{let u=$e(t,l);rd(e,te(u))&&(a=Mc(i,a,u,c,r,s,o))}),n.foreach((l,c)=>{let u=$e(t,l);rd(e,te(u))||(a=Mc(i,a,u,c,r,s,o))}),a}function sd(i,e,t){return t.foreach((n,r)=>{e=e.updateChild(n,r)}),e}function Pc(i,e,t,n,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Z(t)?c=n:c=new Mt(null).setTree(t,n);let u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){let d=e.serverCache.getNode().getImmediateChild(h),_=sd(i,d,f);l=Go(i,l,new de(h),_,r,s,o,a)}}),c.children.inorderTraversal((h,f)=>{let d=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!d){let _=e.serverCache.getNode().getImmediateChild(h),p=sd(i,_,f);l=Go(i,l,new de(h),p,r,s,o,a)}}),l}function f0(i,e,t,n,r,s,o){if(Yo(r,t)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(n.value!=null){if(Z(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Go(i,e,t,l.getNode().getChild(t),r,s,a,o);if(Z(t)){let c=new Mt(null);return l.getNode().forEachChild(Cr,(u,h)=>{c=c.set(new de(u),h)}),Pc(i,e,t,c,r,s,a,o)}else return e}else{let c=new Mt(null);return n.foreach((u,h)=>{let f=$e(t,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Pc(i,e,t,c,r,s,a,o)}}function d0(i,e,t,n,r){let s=e.serverCache,o=$d(e,s.getNode(),s.isFullyInitialized()||Z(t),s.isFiltered());return np(i,o,t,n,tp,r)}function p0(i,e,t,n,r,s){let o;if(Yo(n,t)!=null)return e;{let a=new Is(n,e,r),l=e.eventCache.getNode(),c;if(Z(t)||te(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=xc(n,Ui(e));else{let h=e.serverCache.getNode();P(h instanceof _e,"serverChildren would be complete if leaf node"),u=Jd(n,h)}u=u,c=i.filter.updateFullNode(l,u,s)}else{let u=te(t),h=Uc(n,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=i.filter.updateChild(l,u,h,me(t),a,s):e.eventCache.getNode().hasChild(u)?c=i.filter.updateChild(l,u,_e.EMPTY_NODE,me(t),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=xc(n,Ui(e)),o.isLeafNode()&&(c=i.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Yo(n,ae())!=null,Ts(e,c,o,i.filter.filtersNodes())}}function _0(i,e){let t=Ui(i.viewCache_);return t&&(i.query._queryParams.loadsAllData()||!Z(e)&&!t.getImmediateChild(te(e)).isEmpty())?t.getChild(e):null}function od(i,e,t,n){e.type===Tn.MERGE&&e.source.queryId!==null&&(P(Ui(i.viewCache_),"We should always have a full cache before handling merges"),P(Tc(i.viewCache_),"Missing event cache, even though we have a server cache"));let r=i.viewCache_,s=c0(i.processor_,r,e,t,n);return l0(i.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=s.viewCache,m0(i,s.changes,s.viewCache.eventCache.getNode(),null)}function m0(i,e,t,n){let r=n?[n]:i.eventRegistrations_;return Yy(i.eventGenerator_,e,t,r)}function g0(i){P(!ad,"__referenceConstructor has already been defined"),ad=i}function qc(i,e,t,n){let r=e.source.queryId;if(r!==null){let s=i.views.get(r);return P(s!=null,"SyncTree gave us an op for an invalid query."),od(s,e,t,n)}else{let s=[];for(let o of i.views.values())s=s.concat(od(o,e,t,n));return s}}function Yc(i,e){let t=null;for(let n of i.views.values())t=t||_0(n,e);return t}function v0(i){P(!ld,"__referenceConstructor has already been defined"),ld=i}function y0(i,e,t,n,r){return Xy(i.pendingWriteTree_,e,t,n,r),r?Xo(i,new Mr(Ud(),e,t)):[]}function Tr(i,e,t=!1){let n=Ky(i.pendingWriteTree_,e);if(Qy(i.pendingWriteTree_,e)){let s=new Mt(null);return n.snap!=null?s=s.set(ae(),!0):Kt(n.children,o=>{s=s.set(new de(o),!0)}),Xo(i,new bc(n.path,s,t))}else return[]}function jo(i,e,t){return Xo(i,new Mr(qd(),e,t))}function w0(i,e,t){let n=Mt.fromObject(t);return Xo(i,new qo(qd(),e,n))}function E0(i,e,t,n){let r=op(i,n);if(r!=null){let s=ap(r),o=s.path,a=s.queryId,l=jt(o,e),c=new Mr(Yd(a),l,t);return lp(i,o,c)}else return[]}function b0(i,e,t,n){let r=op(i,n);if(r){let s=ap(r),o=s.path,a=s.queryId,l=jt(o,e),c=Mt.fromObject(t),u=new qo(Yd(a),l,c);return lp(i,o,u)}else return[]}function ip(i,e,t){let r=i.pendingWriteTree_,s=i.syncPointTree_.findOnPath(e,(o,a)=>{let l=jt(o,e),c=Yc(a,l);if(c)return c});return Qd(r,e,s,t,!0)}function Xo(i,e){return rp(e,i.syncPointTree_,null,Xd(i.pendingWriteTree_,ae()))}function rp(i,e,t,n){if(Z(i.path))return sp(i,e,t,n);{let r=e.get(ae());t==null&&r!=null&&(t=Yc(r,ae()));let s=[],o=te(i.path),a=i.operationForChild(o),l=e.children.get(o);if(l&&a){let c=t?t.getImmediateChild(o):null,u=Zd(n,o);s=s.concat(rp(a,l,c,u))}return r&&(s=s.concat(qc(r,i,n,t))),s}}function sp(i,e,t,n){let r=e.get(ae());t==null&&r!=null&&(t=Yc(r,ae()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=t?t.getImmediateChild(o):null,c=Zd(n,o),u=i.operationForChild(o);u&&(s=s.concat(sp(u,a,l,c)))}),r&&(s=s.concat(qc(r,i,n,t))),s}function op(i,e){return i.tagToQueryMap.get(e)}function ap(i){let e=i.indexOf("$");return P(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new de(i.substr(0,e))}}function lp(i,e,t){let n=i.syncPointTree_.get(e);P(n,"Missing sync point for query tag that we're tracking");let r=Xd(i.pendingWriteTree_,e);return qc(n,t,r,null)}function Gc(i,e,t){let n=i.getPriority().val(),r=cd(n,e.getImmediateChild(".priority"),t),s;if(i.isLeafNode()){let o=i,a=cd(o.getValue(),e,t);return a!==o.getValue()||r!==o.getPriority().val()?new zn(a,at(r)):i}else{let o=i;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new zn(r))),o.forEachChild(lt,(a,l)=>{let c=Gc(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}function $c(i,e){let t=e instanceof de?e:new de(e),n=i,r=te(t);for(;r!==null;){let s=Oi(n.node.children,r)||{children:{},childCount:0};n=new ks(r,n,s),t=me(t),r=te(t)}return n}function Rr(i){return i.node.value}function cp(i,e){i.node.value=e,Rc(i)}function up(i){return i.node.childCount>0}function k0(i){return Rr(i)===void 0&&!up(i)}function Ko(i,e){Kt(i.node.children,(t,n)=>{e(new ks(t,i,n))})}function hp(i,e,t,n){t&&!n&&e(i),Ko(i,r=>{hp(r,e,!0,n)}),t&&n&&e(i)}function M0(i,e,t){let n=t?i:i.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function Rs(i){return new de(i.parent===null?i.name:Rs(i.parent)+"/"+i.name)}function Rc(i){i.parent!==null&&P0(i.parent,i.name,i)}function P0(i,e,t){let n=k0(t),r=En(i.node.children,e);n&&r?(delete i.node.children[e],i.node.childCount--,Rc(i)):!n&&!r&&(i.node.children[e]=t.node,i.node.childCount++,Rc(i))}function O0(i,e){let t=null;for(let n=0;n<e.length;n++){let r=e[n],s=r.getPath();t!==null&&!Od(s,t.path)&&(i.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(r)}t&&i.eventLists_.push(t)}function Yi(i,e,t){O0(i,t),F0(i,n=>ln(n,e)||ln(e,n))}function F0(i,e){i.recursionDepth_++;let t=!0;for(let n=0;n<i.eventLists_.length;n++){let r=i.eventLists_[n];if(r){let s=r.path;e(s)?(H0(i.eventLists_[n]),i.eventLists_[n]=null):t=!1}}t&&(i.eventLists_=[]),i.recursionDepth_--}function H0(i){for(let e=0;e<i.events.length;e++){let t=i.events[e];if(t!==null){i.events[e]=null;let n=t.getEventRunner();Bi&&ot("event: "+t.toString()),As(n)}}}function z0(i,e,t){if(i.stats_=zc(i.repoInfo_),i.forceRestClient_||ty())i.server_=new gc(i.repoInfo_,(n,r,s,o)=>{ud(i,n,r,s,o)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>hd(i,!0),0);else{if(typeof t!="undefined"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ge(t)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}i.persistentConnection_=new Vi(i.repoInfo_,e,(n,r,s,o)=>{ud(i,n,r,s,o)},n=>{hd(i,n)},n=>{U0(i,n)},i.authTokenProvider_,i.appCheckProvider_,t),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(n=>{i.server_.refreshAuthToken(n)}),i.appCheckProvider_.addTokenChangeListener(n=>{i.server_.refreshAppCheckToken(n.token)}),i.statsReporter_=iy(i.repoInfo_,()=>new Ec(i.stats_,i.server_)),i.infoData_=new vc,i.infoSyncTree_=new $o({startListening:(n,r,s,o)=>{let a=[],l=i.infoData_.getNode(n._path);return l.isEmpty()||(a=jo(i.infoSyncTree_,n._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),jc(i,"connected",!1),i.serverSyncTree_=new $o({startListening:(n,r,s,o)=>(i.server_.listen(n,s,r,(a,l)=>{let c=o(a,l);Yi(i.eventQueue_,n._path,c)}),[]),stopListening:(n,r)=>{i.server_.unlisten(n,r)}})}function V0(i){let t=i.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function pp(i){return T0({timestamp:V0(i)})}function ud(i,e,t,n,r){i.dataUpdateCount++;let s=new de(e);t=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,t):t;let o=[];if(r)if(n){let l=ds(t,c=>at(c));o=b0(i.serverSyncTree_,s,l,r)}else{let l=at(t);o=E0(i.serverSyncTree_,s,l,r)}else if(n){let l=ds(t,c=>at(c));o=w0(i.serverSyncTree_,s,l)}else{let l=at(t);o=jo(i.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Kc(i,s)),Yi(i.eventQueue_,a,o)}function hd(i,e){jc(i,"connected",e),e===!1&&Y0(i)}function U0(i,e){Kt(e,(t,n)=>{jc(i,t,n)})}function jc(i,e,t){let n=new de("/.info/"+e),r=at(t);i.infoData_.updateSnapshot(n,r);let s=jo(i.infoSyncTree_,n,r);Yi(i.eventQueue_,n,s)}function q0(i){return i.nextWriteId_++}function Y0(i){_p(i,"onDisconnectEvents");let e=pp(i),t=Uo();yc(i.onDisconnect_,ae(),(r,s)=>{let o=x0(r,s,i.serverSyncTree_,e);Vd(t,r,o)});let n=[];yc(t,ae(),(r,s)=>{n=n.concat(jo(i.serverSyncTree_,r,s));let o=X0(i,r);Kc(i,o)}),i.onDisconnect_=Uo(),Yi(i.eventQueue_,ae(),n)}function G0(i){i.persistentConnection_&&i.persistentConnection_.interrupt(B0)}function _p(i,...e){let t="";i.persistentConnection_&&(t=i.persistentConnection_.id+":"),ot(t,...e)}function mp(i,e,t){return ip(i.serverSyncTree_,e,t)||_e.EMPTY_NODE}function Xc(i,e=i.transactionQueueTree_){if(e||Qo(i,e),Rr(e)){let t=vp(i,e);P(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&$0(i,Rs(e),t)}else up(e)&&Ko(e,t=>{Xc(i,t)})}function $0(i,e,t){let n=t.map(c=>c.currentWriteId),r=mp(i,e,n),s=r,o=r.hash();for(let c=0;c<t.length;c++){let u=t[c];P(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let h=jt(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;i.server_.put(l.toString(),a,c=>{_p(i,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let h=[];for(let f=0;f<t.length;f++)t[f].status=2,u=u.concat(Tr(i.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&h.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();Qo(i,$c(i.transactionQueueTree_,e)),Xc(i,i.transactionQueueTree_),Yi(i.eventQueue_,e,u);for(let f=0;f<h.length;f++)As(h[f])}else{if(c==="datastale")for(let h=0;h<t.length;h++)t[h].status===3?t[h].status=4:t[h].status=0;else{Ht("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=c}Kc(i,e)}},o)}function Kc(i,e){let t=gp(i,e),n=Rs(t),r=vp(i,t);return j0(i,r,n),n}function j0(i,e,t){if(e.length===0)return;let n=[],r=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=jt(t,l.path),u=!1,h;if(P(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,r=r.concat(Tr(i.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=W0)u=!0,h="maxretry",r=r.concat(Tr(i.serverSyncTree_,l.currentWriteId,!0));else{let f=mp(i,l.path,o);l.currentInputSnapshot=f;let d=e[a].update(f.val());if(d!==void 0){dp("transaction failed: Data returned ",d,l.path);let _=at(d);typeof d=="object"&&d!=null&&En(d,".priority")||(_=_.updatePriority(f.getPriority()));let m=l.currentWriteId,g=pp(i),v=I0(_,f,g);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=v,l.currentWriteId=q0(i),o.splice(o.indexOf(m),1),r=r.concat(y0(i.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),r=r.concat(Tr(i.serverSyncTree_,m,!0))}else u=!0,h="nodata",r=r.concat(Tr(i.serverSyncTree_,l.currentWriteId,!0))}Yi(i.eventQueue_,t,r),r=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?n.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):n.push(()=>e[a].onComplete(new Error(h),!1,null))))}Qo(i,i.transactionQueueTree_);for(let a=0;a<n.length;a++)As(n[a]);Xc(i,i.transactionQueueTree_)}function gp(i,e){let t,n=i.transactionQueueTree_;for(t=te(e);t!==null&&Rr(n)===void 0;)n=$c(n,t),e=me(e),t=te(e);return n}function vp(i,e){let t=[];return yp(i,e,t),t.sort((n,r)=>n.order-r.order),t}function yp(i,e,t){let n=Rr(e);if(n)for(let r=0;r<n.length;r++)t.push(n[r]);Ko(e,r=>{yp(i,r,t)})}function Qo(i,e){let t=Rr(e);if(t){let n=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[n]=t[r],n++);t.length=n,cp(e,t.length>0?t:void 0)}Ko(e,n=>{Qo(i,n)})}function X0(i,e){let t=Rs(gp(i,e)),n=$c(i.transactionQueueTree_,e);return M0(n,r=>{$l(i,r)}),$l(i,n),hp(n,r=>{$l(i,r)}),t}function $l(i,e){let t=Rr(e);if(t){let n=[],r=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(P(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(Tr(i.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?cp(e,void 0):t.length=s+1,Yi(i.eventQueue_,Rs(e),r);for(let o=0;o<n.length;o++)As(n[o])}}function K0(i){let e="",t=i.split("/");for(let n=0;n<t.length;n++)if(t[n].length>0){let r=t[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function Q0(i){let e={};i.charAt(0)==="?"&&(i=i.substring(1));for(let t of i.split("&")){if(t.length===0)continue;let n=t.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Ht(`Invalid query segment '${t}' in query '${i}'`)}return e}function tw(i,e,t,n,r){let s=n||i.options.databaseURL;s===void 0&&(i.options.projectId||Wi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",i.options.projectId),s=`${i.options.projectId}-default-rtdb.firebaseio.com`);let o=fd(s,r),a=o.repoInfo,l,c;typeof process!="undefined"&&process.env&&(c=process.env[Z0]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=fd(s,r),a=o.repoInfo):l=!o.repoInfo.secure;let u=r&&l?new Cs(Cs.OWNER):new Zl(i.name,i.options,e);D0("Invalid Firebase Database URL",o),Z(o.path)||Wi("Database URL must point to the root of a Firebase Database (not including a child path).");let h=iw(a,i,u,new Jl(i,t));return new Hc(h,i)}function nw(i,e){let t=Fc[e];(!t||t[i.key]!==i)&&Wi(`Database ${e}(${i.repoInfo_}) has already been deleted.`),G0(i),delete t[i.key]}function iw(i,e,t,n){let r=Fc[e.name];r||(r={},Fc[e.name]=r);let s=r[i.toURLString()];return s&&Wi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Dc(i,ew,t,n),r[i.toURLString()]=s,s}function rw(i){qv(Pf),ms(new ai("database",(e,{instanceIdentifier:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return tw(n,r,s,t)},"PUBLIC").setMultipleInstances(!0)),wr(Nf,Df,i),wr(Nf,Df,"esm2017")}var Nf,Df,Bc,jl,Xl,dd,Hi,Kl,Sr,Yv,pd,Ms,Bi,Of,Gv,ot,Ps,Ql,Wi,Ht,$v,_d,jv,xr,zi,Lr,Xv,vs,Wc,md,gd,Kv,Qv,Jv,Zv,ey,Ff,As,ty,bs,Jl,Zl,Cs,Do,vd,yd,wd,Ed,bd,Td,Sd,ec,Cd,xd,tc,nc,zl,Vl,ic,Hf,ry,sy,oy,kd,Md,Pd,ay,ly,cy,uy,hy,Ad,Ld,fy,dy,py,rc,sc,_y,my,Oo,Wn,Fo,gy,vy,yy,wy,Ul,Bf,Ey,Wf,by,zf,Vf,Uf,qf,Ty,oc,Ho,Bo,Wo,Yf,Gf,de,ac,lc,ys,Iy,$f,ky,My,Py,jf,Vi,ne,Ir,No,zo,Cr,br,bt,cc,Xt,uc,Hd,Bd,Xf,zn,Wd,zd,hc,lt,Dy,fc,Vo,ql,Er,kr,ws,_e,dc,Ls,Oy,pc,_c,Fy,mc,gc,vc,wc,Zf,Uy,qy,Ec,Tn,bc,Mr,qo,xs,Yl,jy,Mt,cn,Ic,kc,tp,Is,ad,ld,$o,Ac,Lc,T0,cd,S0,C0,x0,I0,ks,A0,L0,Gl,fp,R0,N0,dp,D0,Nc,B0,W0,Dc,fd,J0,Oc,Ar,Z0,Fc,ew,Hc,wp=V(()=>{Rf();Il();_s();kl();Nf="@firebase/database",Df="1.0.12";Bc="";jl=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ge(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:vr(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};Xl=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};dd=function(i){try{if(typeof window!="undefined"&&typeof window[i]!="undefined"){let e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jl(e)}}catch{}return new Xl},Hi=dd("localStorage"),Kl=dd("sessionStorage");Sr=new yr("@firebase/database"),Yv=function(){let i=1;return function(){return i++}}(),pd=function(i){let e=df(i),t=new Ao;t.update(e);let n=t.digest();return Lo.encodeByteArray(n)},Ms=function(...i){let e="";for(let t=0;t<i.length;t++){let n=i[t];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=Ms.apply(null,n):typeof n=="object"?e+=Ge(n):e+=n,e+=" "}return e},Bi=null,Of=!0,Gv=function(i,e){P(!e||i===!0||i===!1,"Can't turn on custom loggers persistently."),i===!0?(Sr.logLevel=fe.VERBOSE,Bi=Sr.log.bind(Sr),e&&Kl.set("logging_enabled",!0)):typeof i=="function"?Bi=i:(Bi=null,Kl.remove("logging_enabled"))},ot=function(...i){if(Of===!0&&(Of=!1,Bi===null&&Kl.get("logging_enabled")===!0&&Gv(!0)),Bi){let e=Ms.apply(null,i);Bi(e)}},Ps=function(i){return function(...e){ot(i,...e)}},Ql=function(...i){let e="FIREBASE INTERNAL ERROR: "+Ms(...i);Sr.error(e)},Wi=function(...i){let e=`FIREBASE FATAL ERROR: ${Ms(...i)}`;throw Sr.error(e),new Error(e)},Ht=function(...i){let e="FIREBASE WARNING: "+Ms(...i);Sr.warn(e)},$v=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_d=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},jv=function(i){if(wn()||document.readyState==="complete")i();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},xr="[MIN_NAME]",zi="[MAX_NAME]",Lr=function(i,e){if(i===e)return 0;if(i===xr||e===zi)return-1;if(e===xr||i===zi)return 1;{let t=Ff(i),n=Ff(e);return t!==null?n!==null?t-n===0?i.length-e.length:t-n:-1:n!==null?1:i<e?-1:1}},Xv=function(i,e){return i===e?0:i<e?-1:1},vs=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+Ge(e))},Wc=function(i){if(typeof i!="object"||i===null)return Ge(i);let e=[];for(let n in i)e.push(n);e.sort();let t="{";for(let n=0;n<e.length;n++)n!==0&&(t+=","),t+=Ge(e[n]),t+=":",t+=Wc(i[e[n]]);return t+="}",t},md=function(i,e){let t=i.length;if(t<=e)return[i];let n=[];for(let r=0;r<t;r+=e)r+e>t?n.push(i.substring(r,t)):n.push(i.substring(r,r+e));return n};gd=function(i){P(!_d(i),"Invalid JSON number");let e=11,t=52,n=(1<<e-1)-1,r,s,o,a,l;i===0?(s=0,o=0,r=1/i===-1/0?1:0):(r=i<0,i=Math.abs(i),i>=Math.pow(2,1-n)?(a=Math.min(Math.floor(Math.log(i)/Math.LN2),n),s=a+n,o=Math.round(i*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(i/Math.pow(2,1-n-t))));let c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();let u=c.join(""),h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},Kv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Qv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Jv=new RegExp("^-?(0*)\\d{1,10}$"),Zv=-2147483648,ey=2147483647,Ff=function(i){if(Jv.test(i)){let e=Number(i);if(e>=Zv&&e<=ey)return e}return null},As=function(i){try{i()}catch(e){setTimeout(()=>{let t=e.stack||"";throw Ht("Exception was thrown by user callback.",t),e},Math.floor(0))}},ty=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bs=function(i,e){let t=setTimeout(i,e);return typeof t=="number"&&typeof Deno!="undefined"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};Jl=class{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Mf(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(n=>this.appCheck=n)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};Zl=class{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(e)}},Cs=class{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}};Cs.OWNER="owner";Do="5",vd="v",yd="s",wd="r",Ed="f",bd=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Td="ls",Sd="p",ec="ac",Cd="websocket",xd="long_polling";tc=class{constructor(e,t,n,r,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};nc=class{constructor(){this.counters_={}}incrementCounter(e,t=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return nf(this.counters_)}};zl={},Vl={};ic=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&As(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};Hf="start",ry="close",sy="pLPCommand",oy="pRTLPCB",kd="id",Md="pw",Pd="ser",ay="cb",ly="seg",cy="ts",uy="d",hy="dframe",Ad=1870,Ld=30,fy=Ad-Ld,dy=25e3,py=3e4,rc=class i{constructor(e,t,n,r,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ps(e),this.stats_=zc(t),this.urlFn=l=>(this.appCheckToken&&(l[ec]=this.appCheckToken),Id(t,xd,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ic(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(py)),jv(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sc((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Hf)this.id=a,this.password=l;else if(o===ry)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let n={};n[Hf]="t",n[Pd]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[ay]=this.scriptTagHolder.uniqueCallbackIdentifier),n[vd]=Do,this.transportSessionId&&(n[yd]=this.transportSessionId),this.lastSessionId&&(n[Td]=this.lastSessionId),this.applicationId&&(n[Sd]=this.applicationId),this.appCheckToken&&(n[ec]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&bd.test(location.hostname)&&(n[wd]=Ed);let r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){i.forceAllow_=!0}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){return wn()?!1:i.forceAllow_?!0:!i.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!Kv()&&!Qv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=Ge(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=Tl(t),r=md(n,fy);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(wn())return;this.myDisconnFrame=document.createElement("iframe");let n={};n[hy]="t",n[kd]=e,n[Md]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=Ge(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},sc=class i{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,wn())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Yv(),window[sy+this.uniqueCallbackIdentifier]=e,window[oy+this.uniqueCallbackIdentifier]=t,this.myIFrame=i.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ot("frame writing exception"),a.stack&&ot(a.stack),ot(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{let n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[kd]=this.myID,e[Md]=this.myPW,e[Pd]=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ld+n.length<=Ad;){let o=this.pendingSegs.shift();n=n+"&"+ly+r+"="+o.seg+"&"+cy+r+"="+o.ts+"&"+uy+r+"="+o.d,r++}return t=t+n,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(dy)),s=()=>{clearTimeout(r),n()};this.addTag(e,s)}addTag(e,t){wn()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let r=n.readyState;(!r||r==="loaded"||r==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}};_y=16384,my=45e3,Oo=null;typeof MozWebSocket!="undefined"?Oo=MozWebSocket:typeof WebSocket!="undefined"&&(Oo=WebSocket);Wn=class i{constructor(e,t,n,r,s,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ps(this.connId),this.stats_=zc(t),this.connURL=i.connectionURL_(t,o,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,s){let o={};return o[vd]=Do,!wn()&&typeof location!="undefined"&&location.hostname&&bd.test(location.hostname)&&(o[wd]=Ed),t&&(o[yd]=t),n&&(o[Td]=n),r&&(o[ec]=r),s&&(o[Sd]=s),Id(e,Cd,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hi.set("previous_websocket_failure",!0);try{let n;if(wn()){let r=this.nodeAdmin?"AdminNode":"Node";n={headers:{"User-Agent":`Firebase/${Do}/${Bc}/${process.platform}/${r}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(n.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(n.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,o=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;o&&(n.proxy={origin:o})}this.mySock=new Oo(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");let r=n.message||n.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");let r=n.message||n.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){let t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&Oo!==null&&!i.forceDisallow_}static previouslyFailed(){return Hi.isInMemoryStorage||Hi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let t=this.frames.join("");this.frames=null;let n=vr(t);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(P(this.frames===null,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{let n=this.extractFrameCount_(t);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();let t=Ge(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=md(t,_y);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(my))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}};Wn.responsesRequiredToBeHealthy=2;Wn.healthyTimeout=3e4;Fo=class i{static get ALL_TRANSPORTS(){return[rc,Wn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){let t=Wn&&Wn.isAvailable(),n=t&&!Wn.previouslyFailed();if(e.webSocketOnly&&(t||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Wn];else{let r=this.transports_=[];for(let s of i.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}};Fo.globalTransportInitialized_=!1;gy=6e4,vy=5e3,yy=10*1024,wy=100*1024,Ul="t",Bf="d",Ey="s",Wf="r",by="e",zf="o",Vf="a",Uf="n",qf="p",Ty="h",oc=class{constructor(e,t,n,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ps("c:"+this.id+":"),this.transportManager_=new Fo(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=bs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wy?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yy?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ul in e){let t=e[Ul];t===Vf?this.upgradeIfSecondaryHealthy_():t===Wf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===zf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=vs("t",e),n=vs("d",e);if(t==="c")this.onSecondaryControl_(n);else if(t==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Uf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=vs("t",e),n=vs("d",e);t==="c"?this.onControl_(n):t==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=vs(Ul,e);if(Bf in e){let n=e[Bf];if(t===Ty){let r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===Uf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Ey?this.onConnectionShutdown_(n):t===Wf?this.onReset_(n):t===by?Ql("Server Error: "+n):t===zf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ql("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Do!==n&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),bs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(gy))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vy))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qf,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};Ho=class{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}};Bo=class{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});let r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!n||n===r[s].context)){r.splice(s,1);return}}validateEventType_(e){P(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};Wo=class i extends Bo{static getInstance(){return new i}constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!Cl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return P(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};Yf=32,Gf=768,de=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};ac=class{constructor(e,t){this.errorPrefix_=t,this.parts_=Nd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=ps(this.parts_[n]);Fd(this)}};lc=class i extends Bo{static getInstance(){return new i}constructor(){super(["visible"]);let e,t;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(t="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return P(e==="visible","Unknown event type: "+e),[this.visible_]}};ys=1e3,Iy=60*5*1e3,$f=30*1e3,ky=1.3,My=3e4,Py="server_kill",jf=3,Vi=class i extends Ho{constructor(e,t,n,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=i.nextPersistentConnectionId_++,this.log_=Ps("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ys,this.maxReconnectDelay_=Iy,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!wn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){let r=++this.requestNumber_,s={r,a:e,b:t};this.log_(Ge(s)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();let t=new gr,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{let a=o.d;o.s==="ok"?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,n,r){this.initConnection_();let s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");let a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){let t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);let s={p:n},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{let l=a.d,c=a.s;i.warnOnListenWarnings_(l,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(n,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&En(e,"w")){let n=Oi(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){let r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uf(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$f)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=cf(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(t,n,r=>{let s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,n=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){let n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);let s={p:e},o="n";r&&(s.q=n,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){let s={p:t,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,s){this.initConnection_();let o={p:t,d:n};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;let a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,n=>{if(n.s!=="ok"){let s=n.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ge(e));let t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Ql("Unrecognized action received from server: "+Ge(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ys,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ys,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>My&&(this.reconnectDelay_=ys),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ky)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+i.nextConnectionId_++,s=this.lastSessionId,o=!1,a=null,l=function(){a?a.close():(o=!0,n())},c=function(h){P(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};let u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new oc(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,d=>{Ht(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(Py)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ht(h),l())}}}interrupt(e){ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],xl(this.interruptReasons_)&&(this.reconnectDelay_=ys,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;t?n=t.map(s=>Wc(s)).join("$"):n="default";let r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){let n=new de(e).toString(),r;if(this.listens.has(n)){let s=this.listens.get(n);r=s.get(t),s.delete(t),s.size===0&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){ot("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jf&&(this.reconnectDelay_=$f,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ot("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let e of this.listens.values())for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";wn()&&(this.repoInfo_.nodeAdmin?t="admin_node":t="node"),e["sdk."+t+"."+Bc.replace(/\./g,"-")]=1,Cl()?e["framework.cordova"]=1:sf()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=Wo.getInstance().currentlyOnline();return xl(this.interruptReasons_)&&e}};Vi.nextPersistentConnectionId_=0;Vi.nextConnectionId_=0;ne=class i{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new i(e,t)}};Ir=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let n=new ne(xr,e),r=new ne(xr,t);return this.compare(n,r)!==0}minPost(){return ne.MIN}};zo=class extends Ir{static get __EMPTY_NODE(){return No}static set __EMPTY_NODE(e){No=e}compare(e,t){return Lr(e.name,t.name)}isDefinedOn(e){throw Di("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ne.MIN}maxPost(){return new ne(zi,No)}makePost(e,t){return P(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,No)}toString(){return".key"}},Cr=new zo;br=class{constructor(e,t,n,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},bt=class i{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=n!=null?n:i.RED,this.left=r!=null?r:Xt.EMPTY_NODE,this.right=s!=null?s:Xt.EMPTY_NODE}copy(e,t,n,r,s){return new i(e!=null?e:this.key,t!=null?t:this.value,n!=null?n:this.color,r!=null?r:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,s=n(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,t,n),null):s===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),t(e,n.key)===0){if(n.right.isEmpty())return Xt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){let e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};bt.RED=!0;bt.BLACK=!1;cc=class{copy(e,t,n,r,s){return this}insert(e,t,n){return new bt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Xt=class i{constructor(e,t=i.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new i(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,bt.BLACK,null,null))}remove(e){return new i(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bt.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),t===0)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();)if(t=this.comparator_(e,n.key),t===0){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else t<0?n=n.left:t>0&&(r=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new br(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new br(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new br(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new br(this.root_,null,this.comparator_,!0,e)}};Xt.EMPTY_NODE=new cc;Hd=function(i){return typeof i=="number"?"number:"+gd(i):"string:"+i},Bd=function(i){if(i.isLeafNode()){let e=i.val();P(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else P(i===uc||i.isEmpty(),"priority of unexpected type.");P(i===uc||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};zn=class i{static set __childrenNodeConstructor(e){Xf=e}static get __childrenNodeConstructor(){return Xf}constructor(e,t=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Bd(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Z(e)?this:te(e)===".priority"?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let n=te(e);return n===null?t:t.isEmpty()&&n!==".priority"?this:(P(n!==".priority"||ci(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Hd(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":",t==="number"?e+=gd(this.value_):e+=this.value_,this.lazyHash_=pd(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:(P(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,n=typeof this.value_,r=i.VALUE_TYPE_ORDER.indexOf(t),s=i.VALUE_TYPE_ORDER.indexOf(n);return P(r>=0,"Unknown leaf type: "+t),P(s>=0,"Unknown leaf type: "+n),r===s?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){let t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}};zn.VALUE_TYPE_ORDER=["object","boolean","number","string"];hc=class extends Ir{compare(e,t){let n=e.node.getPriority(),r=t.node.getPriority(),s=n.compareTo(r);return s===0?Lr(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(zi,new zn("[PRIORITY-POST]",zd))}makePost(e,t){let n=Wd(e);return new ne(t,new zn("[PRIORITY-POST]",n))}toString(){return".priority"}},lt=new hc;Dy=Math.log(2),fc=class{constructor(e){let t=s=>parseInt(Math.log(s)/Dy,10),n=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let r=n(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Vo=function(i,e,t,n){i.sort(e);let r=function(l,c){let u=c-l,h,f;if(u===0)return null;if(u===1)return h=i[l],f=t?t(h):h,new bt(f,h.node,bt.BLACK,null,null);{let d=parseInt(u/2,10)+l,_=r(l,d),p=r(d+1,c);return h=i[d],f=t?t(h):h,new bt(f,h.node,bt.BLACK,_,p)}},s=function(l){let c=null,u=null,h=i.length,f=function(_,p){let m=h-_,g=h;h-=_;let v=r(m+1,g),y=i[m],E=t?t(y):y;d(new bt(E,y.node,p,null,v))},d=function(_){c?(c.left=_,c=_):(u=_,c=_)};for(let _=0;_<l.count;++_){let p=l.nextBitIsOne(),m=Math.pow(2,l.count-(_+1));p?f(m,bt.BLACK):(f(m,bt.BLACK),f(m,bt.RED))}return u},o=new fc(i.length),a=s(o);return new Xt(n||e,a)};Er={},kr=class i{static get Default(){return P(Er&&lt,"ChildrenNode.ts has not been loaded"),ql=ql||new i({".priority":Er},{".priority":lt}),ql}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=Oi(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Xt?t:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,t){P(e!==Cr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let n=[],r=!1,s=t.getIterator(ne.Wrap),o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=s.getNext();let a;r?a=Vo(n,e.getCompare()):a=Er;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new i(u,c)}addToIndexes(e,t){let n=ds(this.indexes_,(r,s)=>{let o=Oi(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),r===Er)if(o.isDefinedOn(e.node)){let a=[],l=t.getIterator(ne.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Vo(a,o.getCompare())}else return Er;else{let a=t.get(e.name),l=r;return a&&(l=l.remove(new ne(e.name,a))),l.insert(e,e.node)}});return new i(n,this.indexSet_)}removeFromIndexes(e,t){let n=ds(this.indexes_,r=>{if(r===Er)return r;{let s=t.get(e.name);return s?r.remove(new ne(e.name,s)):r}});return new i(n,this.indexSet_)}};_e=class i{static get EMPTY_NODE(){return ws||(ws=new i(new Xt(Vc),null,kr.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Bd(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ws}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{let t=this.children_.get(e);return t===null?ws:t}}getChild(e){let t=te(e);return t===null?this:this.getImmediateChild(t).getChild(me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(P(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{let n=new ne(e,t),r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(n,this.children_));let o=r.isEmpty()?ws:this.priorityNode_;return new i(r,o,s)}}updateChild(e,t){let n=te(e);if(n===null)return t;{P(te(e)!==".priority"||ci(e)===1,".priority must be the last token in a path");let r=this.getImmediateChild(n).updateChild(me(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},n=0,r=0,s=!0;if(this.forEachChild(lt,(o,a)=>{t[o]=a.val(e),n++,s&&i.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*n){let o=[];for(let a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Hd(this.getPriority().val())+":"),this.forEachChild(lt,(t,n)=>{let r=n.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":pd(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){let r=this.resolveIndex_(n);if(r){let s=r.getPredecessorKey(new ne(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){let t=this.resolveIndex_(e);if(t){let n=t.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){let t=this.getFirstChildName(e);return t?new ne(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(t){let n=t.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){let t=this.getLastChildName(e);return t?new ne(t,this.children_.get(t)):null}forEachChild(e,t){let n=this.resolveIndex_(e);return n?n.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,r=>r);{let r=this.children_.getIteratorFrom(e.name,ne.Wrap),s=r.peek();for(;s!=null&&t.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,r=>r);{let r=this.children_.getReverseIteratorFrom(e.name,ne.Wrap),s=r.peek();for(;s!=null&&t.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ls?-1:0}withIndex(e){if(e===Cr||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Cr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{let t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){let n=this.getIterator(lt),r=t.getIterator(lt),s=n.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=n.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Cr?null:this.indexMap_.get(e.toString())}};_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;dc=class extends _e{constructor(){super(new Xt(Vc),_e.EMPTY_NODE,kr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}},Ls=new dc;Object.defineProperties(ne,{MIN:{value:new ne(xr,_e.EMPTY_NODE)},MAX:{value:new ne(zi,Ls)}});zo.__EMPTY_NODE=_e.EMPTY_NODE;zn.__childrenNodeConstructor=_e;Ly(Ls);Ny(Ls);Oy=!0;Ry(at);pc=class extends Ir{constructor(e){super(),this.indexPath_=e,P(!Z(e)&&te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let n=this.extractChild(e.node),r=this.extractChild(t.node),s=n.compareTo(r);return s===0?Lr(e.name,t.name):s}makePost(e,t){let n=at(e),r=_e.EMPTY_NODE.updateChild(this.indexPath_,n);return new ne(t,r)}maxPost(){let e=_e.EMPTY_NODE.updateChild(this.indexPath_,Ls);return new ne(zi,e)}toString(){return Nd(this.indexPath_,0).join("/")}};_c=class extends Ir{compare(e,t){let n=e.node.compareTo(t.node);return n===0?Lr(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,t){let n=at(e);return new ne(t,n)}toString(){return".value"}},Fy=new _c;mc=class i{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xr}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lt}copy(){let e=new i;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};gc=class i extends Ho{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Ps("p:rest:"),this.listens_={}}listen(e,t,n,r){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=i.getListenId_(e,n),a={};this.listens_[o]=a;let l=Qf(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,n),Oi(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",r(f,null)}})}unlisten(e,t){let n=i.getListenId_(e,t);delete this.listens_[n]}get(e){let t=Qf(e._queryParams),n=e._path.toString(),r=new gr;return this.restRequest_(n+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(n,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hf(t);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=vr(a.responseText)}catch{Ht("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,l)}else a.status!==401&&a.status!==404&&Ht("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()})}};vc=class{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};wc=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Kt(this.last_,(n,r)=>{t[n]=t[n]-r}),this.last_=e,t}};Zf=10*1e3,Uy=30*1e3,qy=5*60*1e3,Ec=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new wc(e);let n=Zf+(Uy-Zf)*Math.random();bs(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let e=this.statsListener_.get(),t={},n=!1;Kt(e,(r,s)=>{s>0&&En(this.statsToReport_,r)&&(t[r]=s,n=!0)}),n&&this.server_.reportStats(t),bs(this.reportStats_.bind(this),Math.floor(Math.random()*2*qy))}};(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Tn||(Tn={}));bc=class i{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Tn.ACK_USER_WRITE,this.source=Ud()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new de(e));return new i(ae(),t,this.revert)}}else return P(te(this.path)===e,"operationForChild called for unrelated child."),new i(me(this.path),this.affectedTree,this.revert)}};Mr=class i{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Tn.OVERWRITE}operationForChild(e){return Z(this.path)?new i(this.source,ae(),this.snap.getImmediateChild(e)):new i(this.source,me(this.path),this.snap)}};qo=class i{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Tn.MERGE}operationForChild(e){if(Z(this.path)){let t=this.children.subtree(new de(e));return t.isEmpty()?null:t.value?new Mr(this.source,ae(),t.value):new i(this.source,ae(),t)}else return P(te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new i(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};xs=class{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;let t=te(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};jy=()=>(Yl||(Yl=new Xt(Xv)),Yl),Mt=class i{static fromObject(e){let t=new i(null);return Kt(e,(n,r)=>{t=t.set(new de(n),r)}),t}constructor(e,t=jy()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ae(),value:this.value};if(Z(e))return null;{let n=te(e),r=this.children.get(n);if(r!==null){let s=r.findRootMostMatchingPathAndValue(me(e),t);return s!=null?{path:$e(new de(n),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{let t=te(e),n=this.children.get(t);return n!==null?n.subtree(me(e)):new i(null)}}set(e,t){if(Z(e))return new i(t,this.children);{let n=te(e),s=(this.children.get(n)||new i(null)).set(me(e),t),o=this.children.insert(n,s);return new i(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new i(null):new i(null,this.children);{let t=te(e),n=this.children.get(t);if(n){let r=n.remove(me(e)),s;return r.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,r),this.value===null&&s.isEmpty()?new i(null):new i(this.value,s)}else return this}}get(e){if(Z(e))return this.value;{let t=te(e),n=this.children.get(t);return n?n.get(me(e)):null}}setTree(e,t){if(Z(e))return t;{let n=te(e),s=(this.children.get(n)||new i(null)).setTree(me(e),t),o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),new i(this.value,o)}}fold(e){return this.fold_(ae(),e)}fold_(e,t){let n={};return this.children.inorderTraversal((r,s)=>{n[r]=s.fold_($e(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ae(),t)}findOnPath_(e,t,n){let r=this.value?n(t,this.value):!1;if(r)return r;if(Z(e))return null;{let s=te(e),o=this.children.get(s);return o?o.findOnPath_(me(e),$e(t,s),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ae(),t)}foreachOnPath_(e,t,n){if(Z(e))return this;{this.value&&n(t,this.value);let r=te(e),s=this.children.get(r);return s?s.foreachOnPath_(me(e),$e(t,r),n):new i(null)}}foreach(e){this.foreach_(ae(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_($e(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}};cn=class i{constructor(e){this.writeTree_=e}static empty(){return new i(new Mt(null))}};Ic=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,n=e.childName;P(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),P(n!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(n);if(r){let s=r.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(n,Kf(n,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(n);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(n,Wy(n,r.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(n,By(n,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(n,Kf(n,e.snapshotNode,r.oldSnap));else throw Di("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}};kc=class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}},tp=new kc,Is=class{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let n=this.optCompleteServerCache_!=null?new xs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uc(this.writes_,e,n)}}getChildAfterChild(e,t,n){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ui(this.viewCache_),s=a0(this.writes_,r,t,1,n,e);return s.length===0?null:s[0]}};$o=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=o0(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};Ac=class i{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new i(t)}node(){return this.node_}},Lc=class i{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=$e(this.path_,e);return new i(this.syncTree_,t)}node(){return ip(this.syncTree_,this.path_)}},T0=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},cd=function(i,e,t){if(!i||typeof i!="object")return i;if(P(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return S0(i[".sv"],e,t);if(typeof i[".sv"]=="object")return C0(i[".sv"],e);P(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},S0=function(i,e,t){switch(i){case"timestamp":return t.timestamp;default:P(!1,"Unexpected server value: "+i)}},C0=function(i,e,t){i.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(i,null,2));let n=i.increment;typeof n!="number"&&P(!1,"Unexpected increment value: "+n);let r=e.node();if(P(r!==null&&typeof r!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;let o=r.getValue();return typeof o!="number"?n:o+n},x0=function(i,e,t,n){return Gc(e,new Lc(t,i),n)},I0=function(i,e,t){return Gc(i,new Ac(e),t)};ks=class{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}};A0=/[\[\].#$\/\u0000-\u001F\u007F]/,L0=/[\[\].#$\u0000-\u001F\u007F]/,Gl=10*1024*1024,fp=function(i){return typeof i=="string"&&i.length!==0&&!A0.test(i)},R0=function(i){return typeof i=="string"&&i.length!==0&&!L0.test(i)},N0=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),R0(i)},dp=function(i,e,t){let n=t instanceof de?new ac(t,i):t;if(e===void 0)throw new Error(i+"contains undefined "+Fi(n));if(typeof e=="function")throw new Error(i+"contains a function "+Fi(n)+" with contents = "+e.toString());if(_d(e))throw new Error(i+"contains "+e.toString()+" "+Fi(n));if(typeof e=="string"&&e.length>Gl/3&&ps(e)>Gl)throw new Error(i+"contains a string greater than "+Gl+" utf8 bytes "+Fi(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Kt(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!fp(o)))throw new Error(i+" contains an invalid key ("+o+") "+Fi(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Cy(n,o),dp(i,a,n),xy(n)}),r&&s)throw new Error(i+' contains ".value" child '+Fi(n)+" in addition to actual children.")}},D0=function(i,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!N0(t))throw new Error(ff(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};Nc=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};B0="repo_interrupt",W0=25,Dc=class{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uo(),this.transactionQueueTree_=new ks,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};fd=function(i,e){let t=J0(i),n=t.namespace;t.domain==="firebase.com"&&Wi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&t.domain!=="localhost"&&Wi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||$v();let r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new tc(t.host,t.secure,n,r,e,"",n!==t.subdomain),path:new de(t.pathString)}},J0=function(i){let e="",t="",n="",r="",s="",o=!0,a="https",l=443;if(typeof i=="string"){let c=i.indexOf("//");c>=0&&(a=i.substring(0,c-1),i=i.substring(c+2));let u=i.indexOf("/");u===-1&&(u=i.length);let h=i.indexOf("?");h===-1&&(h=i.length),e=i.substring(0,Math.min(u,h)),u<h&&(r=K0(i.substring(u,h)));let f=Q0(i.substring(Math.min(i.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let d=e.slice(0,c);if(d.toLowerCase()==="localhost")t="localhost";else if(d.split(".").length<=2)t=d;else{let _=e.indexOf(".");n=e.substring(0,_).toLowerCase(),t=e.substring(_+1),s=n}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:t,subdomain:n,secure:o,scheme:a,pathString:r,namespace:s}};Oc=class i{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Z(this._path)?null:Rd(this._path)}get ref(){return new Ar(this._repo,this._path)}get _queryIdentifier(){let e=Jf(this._queryParams),t=Wc(e);return t==="{}"?"default":t}get _queryObject(){return Jf(this._queryParams)}isEqual(e){if(e=pf(e),!(e instanceof i))return!1;let t=this._repo===e._repo,n=Od(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sy(this._path)}},Ar=class i extends Oc{constructor(e,t){super(e,t,new mc,!1)}get parent(){let e=Dd(this._path);return e===null?null:new i(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};g0(Ar);v0(Ar);Z0="FIREBASE_DATABASE_EMULATOR_HOST",Fc={},ew=!1;Hc=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(z0(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ar(this._repo,ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wi("Cannot call "+e+" on a deleted database.")}};Vi.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Vi.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};rw()});var Ep=V(()=>{wp()});var Tp={};Rt(Tp,{default:()=>sw,verify:()=>bp});var bp,sw,Sp=V(()=>{"use strict";gl();ko();yl();Ep();mt();bp=()=>{class i{constructor(){console.log("VEROFY"),this.section=document.querySelector(".section_verify"),this.form=document.querySelector(".verify_form"),this.inputs=[...document.querySelectorAll(".verify_input-mask")].map(t=>t),this.statusContainer=document.querySelector(".verify_status"),this.verifyVideo=document.querySelector("#verifyBG"),this.verifyPlace=document.querySelector("#verifyPlace"),this.verifyLogo=document.querySelector(".brand_img.is-verify"),this.transitionVideo=document.querySelector("#verifyTransition"),this.init()}init(){oi.stop(),document.body.classList.add("lock-scroll"),this.section.style.display="flex",this.verifyVideo.addEventListener("canplay",()=>{console.log("[Debug] Video is ready to play"),this.handleVideoReady()}),this.verifyVideo.readyState>=3&&(console.log("[Debug] Video was already loaded"),this.handleVideoReady()),this.setListeners(),this.verifyReveal()}setListeners(){this.inputs.forEach((t,n)=>{let r=t.querySelector("input");r&&(r.style.caretColor="var(--palette--white)",r.addEventListener("focus",()=>{document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"}),r.addEventListener("blur",()=>{document.documentElement.style.overflow="",document.body.style.overflow=""}),r.addEventListener("input",s=>this.handleInput(s,n)),r.addEventListener("keydown",s=>this.handleBackspace(s,n)))}),this.form.addEventListener("submit",t=>this.verifyAge(t))}handleVideoReady(){this.verifyPlace.style.display="none",this.verifyVideo.play().then(()=>{console.log("[Debug] Video started playing")}).catch(t=>{console.warn("[Debug] Autoplay blocked:",t.name,t.message)})}verifyReveal(){let t=A.timeline();t.fromTo(this.inputs,{y:"4rem",opacity:0},{duration:1.2,y:"0rem",opacity:1,stagger:.2,ease:"power3.out"}),t.fromTo(document.querySelector(".verify_wrap"),{y:"1rem",opacity:0},{duration:1.2,y:"0rem",opacity:1,ease:"expo.inOut"},"<0.2"),t.to(this.verifyLogo,{duration:1,opacity:1,ease:"power3.out"},"<0.5")}handleInput(t,n){var a;let r=t.target,{value:s}=r;if(!/^\d$/.test(s)){r.value="";return}s?(r.style.borderColor="var(--palette--white)",r.style.color="var(--palette--white)",r.style.opacity="1"):(r.style.borderColor="var(--palette--white)",r.style.color="var(--palette--white)",r.style.opacity="0.5");let o=(a=this.inputs[n+1])==null?void 0:a.closest(".verify_input-mask");if(o){let l=o.querySelector("input");l==null||l.focus()}}handleBackspace(t,n){var s;let r=t.target;if((t.key==="Backspace"||t.key==="Delete")&&!r.value){let o=(s=this.inputs[n-1])==null?void 0:s.closest(".verify_input-mask");if(o){let a=o.querySelector("input");a==null||a.focus(),a.value=""}}}verifyAge(t){t.preventDefault(),t.stopPropagation();let n=Array.from(this.inputs).map(o=>{let a=o.querySelector("input");return a?a.value.trim():""}).join("");if(n.length!==4||!/^\d{4}$/.test(n)){this.displayError("Please enter a valid 4-digit birth year.");return}new Date().getFullYear()-parseInt(n)>=21?(this.successAnimation(),Po.setVerificationStatus(),console.log("Access granted")):(this.displayError("Sorry, you must be at least 21 years old to access this site."),console.log("Access denied"))}displayError(t){let n=this.statusContainer.children[0];n.innerHTML=t,this.statusContainer.style.display="block"}successAnimation(){document.body.classList.remove("lock-scroll");let t=A.timeline({onComplete:()=>{Mo.heroReveal(),window.scrollTo({top:0,behavior:"smooth"})}});t.to(this.inputs,{duration:1.2,y:"-4rem",opacity:0,stagger:.2,ease:"power3.out"}),t.to(document.querySelector(".verify_wrap"),{duration:1.2,y:"-1rem",opacity:0,ease:"expo.inOut"},"<0.2")}}new i},sw=bp});function xp(i,e,t,n,r,s,o){for(var a=i.length,l,c,u,h,f;--a>-1;)for(l=i[a],c=l.length,u=0;u<c;u+=2)h=l[u],f=l[u+1],l[u]=h*e+f*n+s,l[u+1]=h*t+f*r+o;return i._dirty=1,i}function uw(i,e,t,n,r,s,o,a,l){if(!(i===a&&e===l)){t=Ds(t),n=Ds(n);var c=r%360*lw,u=Zo(c),h=Jo(c),f=Math.PI,d=f*2,_=(i-a)/2,p=(e-l)/2,m=u*_+h*p,g=-h*_+u*p,v=m*m,y=g*g,E=v/(t*t)+y/(n*n);E>1&&(t=Ns(E)*t,n=Ns(E)*n);var b=t*t,C=n*n,S=(b*C-b*y-C*v)/(b*y+C*v);S<0&&(S=0);var I=(s===o?-1:1)*Ns(S),x=I*(t*g/n),k=I*-(n*m/t),L=(i+a)/2,R=(e+l)/2,X=L+(u*x-h*k),G=R+(h*x+u*k),F=(m-x)/t,N=(g-k)/n,q=(-m-x)/t,z=(-g-k)/n,se=F*F+N*N,w=(N<0?-1:1)*Math.acos(F/Ns(se)),oe=(F*z-N*q<0?-1:1)*Math.acos((F*q+N*z)/Ns(se*(q*q+z*z)));isNaN(oe)&&(oe=f),!o&&oe>0?oe-=d:o&&oe<0&&(oe+=d),w%=d,oe%=d;var Be=Math.ceil(Ds(oe)/(d/4)),Me=[],ve=oe/Be,Pe=4/3*Jo(ve/2)/(1+Zo(ve/2)),le=u*t,Ve=h*t,je=h*-n,hi=u*n,ce;for(ce=0;ce<Be;ce++)r=w+ce*ve,m=Zo(r),g=Jo(r),F=Zo(r+=ve),N=Jo(r),Me.push(m-Pe*g,g+Pe*m,F+Pe*N,N-Pe*F,F,N);for(ce=0;ce<Me.length;ce+=2)m=Me[ce],g=Me[ce+1],Me[ce]=m*le+g*je+X,Me[ce+1]=m*Ve+g*hi+G;return Me[ce-2]=a,Me[ce-1]=l,Me}}function Ip(i){var e=(i+"").replace(aw,function(x){var k=+x;return k<1e-4&&k>-1e-4?0:k}).match(ow)||[],t=[],n=0,r=0,s=2/3,o=e.length,a=0,l="ERROR: malformed path: "+i,c,u,h,f,d,_,p,m,g,v,y,E,b,C,S,I=function(k,L,R,X){v=(R-k)/3,y=(X-L)/3,p.push(k+v,L+y,R-v,X-y,R,X)};if(!i||!isNaN(e[0])||isNaN(e[1]))return console.log(l),t;for(c=0;c<o;c++)if(b=d,isNaN(e[c])?(d=e[c].toUpperCase(),_=d!==e[c]):c--,h=+e[c+1],f=+e[c+2],_&&(h+=n,f+=r),c||(m=h,g=f),d==="M")p&&(p.length<8?t.length-=1:a+=p.length),n=m=h,r=g=f,p=[h,f],t.push(p),c+=2,d="L";else if(d==="C")p||(p=[0,0]),_||(n=r=0),p.push(h,f,n+e[c+3]*1,r+e[c+4]*1,n+=e[c+5]*1,r+=e[c+6]*1),c+=6;else if(d==="S")v=n,y=r,(b==="C"||b==="S")&&(v+=n-p[p.length-4],y+=r-p[p.length-3]),_||(n=r=0),p.push(v,y,h,f,n+=e[c+3]*1,r+=e[c+4]*1),c+=4;else if(d==="Q")v=n+(h-n)*s,y=r+(f-r)*s,_||(n=r=0),n+=e[c+3]*1,r+=e[c+4]*1,p.push(v,y,n+(h-n)*s,r+(f-r)*s,n,r),c+=4;else if(d==="T")v=n-p[p.length-4],y=r-p[p.length-3],p.push(n+v,r+y,h+(n+v*1.5-h)*s,f+(r+y*1.5-f)*s,n=h,r=f),c+=2;else if(d==="H")I(n,r,n=h,r),c+=1;else if(d==="V")I(n,r,n,r=h+(_?r-n:0)),c+=1;else if(d==="L"||d==="Z")d==="Z"&&(h=m,f=g,p.closed=!0),(d==="L"||Ds(n-h)>.5||Ds(r-f)>.5)&&(I(n,r,h,f),d==="L"&&(c+=2)),n=h,r=f;else if(d==="A"){if(C=e[c+4],S=e[c+5],v=e[c+6],y=e[c+7],u=7,C.length>1&&(C.length<3?(y=v,v=S,u--):(y=S,v=C.substr(2),u-=2),S=C.charAt(1),C=C.charAt(0)),E=uw(n,r,+e[c+1],+e[c+2],+e[c+3],+C,+S,(_?n:0)+v*1,(_?r:0)+y*1),c+=u,E)for(u=0;u<E.length;u++)p.push(E[u]);n=p[p.length-2],r=p[p.length-1]}else console.log(l);return c=p.length,c<6?(t.pop(),c=0):p[0]===p[c-2]&&p[1]===p[c-1]&&(p.closed=!0),t.totalPoints=a+c,t}function kp(i){cw(i[0])&&(i=[i]);var e="",t=i.length,n,r,s,o;for(r=0;r<t;r++){for(o=i[r],e+="M"+ui(o[0])+","+ui(o[1])+" C",n=o.length,s=2;s<n;s++)e+=ui(o[s++])+","+ui(o[s++])+" "+ui(o[s++])+","+ui(o[s++])+" "+ui(o[s++])+","+ui(o[s])+" ";o.closed&&(e+="z")}return e}var ow,aw,lw,YE,Jo,Zo,Ds,Ns,cw,Cp,ui,Mp=V(()=>{ow=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,aw=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,lw=Math.PI/180,YE=180/Math.PI,Jo=Math.sin,Zo=Math.cos,Ds=Math.abs,Ns=Math.sqrt,cw=function(e){return typeof e=="number"},Cp=1e5,ui=function(e){return Math.round(e*Cp)/Cp||0}});var Pt,Ap,Lp,Pp,hw,ea,fw,dw,pw,_w,mw,gw,Os,Rp=V(()=>{Mp();Lp=function(){return Pt||typeof window!="undefined"&&(Pt=window.gsap)&&Pt.registerPlugin&&Pt},Pp=function(){Pt=Lp(),Pt?(Pt.registerEase("_CE",Os.create),Ap=1):console.warn("Please gsap.registerPlugin(CustomEase)")},hw=1e20,ea=function(e){return~~(e*1e3+(e<0?-.5:.5))/1e3},fw=1,dw=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,pw=/[cLlsSaAhHvVtTqQ]/g,_w=function(e){var t=e.length,n=hw,r;for(r=1;r<t;r+=6)+e[r]<n&&(n=+e[r]);return n},mw=function(e,t,n){!n&&n!==0&&(n=Math.max(+e[e.length-1],+e[1]));var r=+e[0]*-1,s=-n,o=e.length,a=1/(+e[o-2]+r),l=-t||(Math.abs(+e[o-1]-+e[1])<.01*(+e[o-2]-+e[0])?_w(e)+s:+e[o-1]+s),c;for(l?l=1/l:l=-a,c=0;c<o;c+=2)e[c]=(+e[c]+r)*a,e[c+1]=(+e[c+1]+s)*l},gw=function i(e,t,n,r,s,o,a,l,c,u,h){var f=(e+n)/2,d=(t+r)/2,_=(n+s)/2,p=(r+o)/2,m=(s+a)/2,g=(o+l)/2,v=(f+_)/2,y=(d+p)/2,E=(_+m)/2,b=(p+g)/2,C=(v+E)/2,S=(y+b)/2,I=a-e,x=l-t,k=Math.abs((n-a)*x-(r-l)*I),L=Math.abs((s-a)*x-(o-l)*I),R;return u||(u=[{x:e,y:t},{x:a,y:l}],h=1),u.splice(h||u.length-1,0,{x:C,y:S}),(k+L)*(k+L)>c*(I*I+x*x)&&(R=u.length,i(e,t,f,d,v,y,C,S,c,u,h),i(C,S,E,b,m,g,a,l,c,u,h+1+(u.length-R))),u},Os=function(){function i(t,n,r){Ap||Pp(),this.id=t,fw&&this.setData(n,r)}var e=i.prototype;return e.setData=function(n,r){r=r||{},n=n||"0,0,1,1";var s=n.match(dw),o=1,a=[],l=[],c=r.precision||1,u=c<=1,h,f,d,_,p,m,g,v,y;if(this.data=n,(pw.test(n)||~n.indexOf("M")&&n.indexOf("C")<0)&&(s=Ip(n)[0]),h=s.length,h===4)s.unshift(0,0),s.push(1,1),h=8;else if((h-2)%6)throw"Invalid CustomEase";for((+s[0]!=0||+s[h-2]!=1)&&mw(s,r.height,r.originY),this.segment=s,_=2;_<h;_+=6)f={x:+s[_-2],y:+s[_-1]},d={x:+s[_+4],y:+s[_+5]},a.push(f,d),gw(f.x,f.y,+s[_],+s[_+1],+s[_+2],+s[_+3],d.x,d.y,1/(c*2e5),a,a.length-1);for(h=a.length,_=0;_<h;_++)g=a[_],v=a[_-1]||g,(g.x>v.x||v.y!==g.y&&v.x===g.x||g===v)&&g.x<=1?(v.cx=g.x-v.x,v.cy=g.y-v.y,v.n=g,v.nx=g.x,u&&_>1&&Math.abs(v.cy/v.cx-a[_-2].cy/a[_-2].cx)>2&&(u=0),v.cx<o&&(v.cx?o=v.cx:(v.cx=.001,_===h-1&&(v.x-=.001,o=Math.min(o,.001),u=0)))):(a.splice(_--,1),h--);if(h=1/o+1|0,p=1/h,m=0,g=a[0],u){for(_=0;_<h;_++)y=_*p,g.nx<y&&(g=a[++m]),f=g.y+(y-g.x)/g.cx*g.cy,l[_]={x:y,cx:p,y:f,cy:0,nx:9},_&&(l[_-1].cy=f-l[_-1].y);l[h-1].cy=a[a.length-1].y-f}else{for(_=0;_<h;_++)g.nx<_*p&&(g=a[++m]),l[_]=g;m<a.length-1&&(l[_-1]=a[a.length-2])}return this.ease=function(E){var b=l[E*h|0]||l[h-1];return b.nx<E&&(b=b.n),b.y+(E-b.x)/b.cx*b.cy},this.ease.custom=this,this.id&&Pt&&Pt.registerEase(this.id,this.ease),this},e.getSVGData=function(n){return i.getSVGData(this,n)},i.create=function(n,r,s){return new i(n,r,s).ease},i.register=function(n){Pt=n,Pp()},i.get=function(n){return Pt.parseEase(n)},i.getSVGData=function(n,r){r=r||{};var s=r.width||100,o=r.height||100,a=r.x||0,l=(r.y||0)+o,c=Pt.utils.toArray(r.path)[0],u,h,f,d,_,p,m,g,v,y;if(r.invert&&(o=-o,l=0),typeof n=="string"&&(n=Pt.parseEase(n)),n.custom&&(n=n.custom),n instanceof i)u=kp(xp([n.segment],s,0,0,-o,a,l));else{for(u=[a,l],m=Math.max(5,(r.precision||1)*200),d=1/m,m+=2,g=5/m,v=ea(a+d*s),y=ea(l+n(d)*-o),h=(y-l)/(v-a),f=2;f<m;f++)_=ea(a+f*d*s),p=ea(l+n(f*d)*-o),(Math.abs((p-y)/(_-v)-h)>g||f===m-1)&&(u.push(v,y),h=(p-y)/(_-v)),v=_,y=p;u="M"+u.join(",")}return c&&c.setAttribute("d",u),u},i}();Lp()&&Pt.registerPlugin(Os);Os.version="3.11.4"});var Dp={};Rt(Dp,{default:()=>vw,nav:()=>Np});var Np,vw,Op=V(()=>{"use strict";ko();mt();Rp();Io();A.registerPlugin(Y);A.registerPlugin(Os);Np=()=>{class i{constructor(){this.nav=document.querySelector(".nav_component"),this.navMain=document.querySelector(".w-nav-overlay"),this.hero=document.querySelector(".section_hero"),this.navSpacer=document.querySelector(".nav_sticky-spacer"),this.navLinks=[...document.querySelectorAll(".nav_link")].map(n=>n),this.navBrand=document.querySelector(".brand_link"),this.navCart=document.querySelector(".cart_button"),this.menuButtonWrap=document.querySelector(".menu_button-wrap"),this.menuButton=document.querySelector(".menu_button"),this.cartWrapper=document.querySelector(".cart_wrapper"),this.cartButton=document.querySelector(".cart_button"),this.storeHeight=0,this.navSpacer&&(this.storeHeight=parseInt(getComputedStyle(this.navSpacer).height)),this.overlayActive=!1,this.menuActive=!1,this.menuLabel=this.menuButtonWrap.querySelector(".menu_button.is-open"),this.closeLabel=this.menuButtonWrap.querySelector(".menu_button.is-close");let t=window.location.pathname;A.set(this.closeLabel,{display:"none"}),this.setListeners(),t==="/"&&this.scroller()}setListeners(){this.menuButtonWrap.addEventListener("click",()=>{if(this.menuActive=!this.menuActive,this.overlayActive=!0,this.menuActive===!0){if(this.navSpacer){let t=parseFloat(getComputedStyle(this.navSpacer).height);this.storeHeight=t,this.navCollpase(t)}this.menuOpen()}else this.overlayActive=!1,this.navExpand(),this.menuClose()}),this.cartButton.addEventListener("click",()=>{this.overlayActive=!0;let t=parseFloat(getComputedStyle(this.navSpacer).height);this.storeHeight=t,this.navCollpase(t)}),this.cartWrapper.addEventListener("click",()=>{this.overlayActive=!1,this.navExpand()})}scroller(){let t=A.timeline({scrollTrigger:{trigger:this.hero,start:"bottom bottom",end:"bottom top",scrub:!0,onLeave:()=>{A.to(this.nav,{backgroundColor:"rgba(251, 252, 255, 1)"}),A.to([this.navLinks,this.navBrand,this.navCart,this.menuButton,this.menuLabel,this.closeLabel],{color:"rgb(1, 4, 14)"})},onEnterBack:()=>{A.to(this.nav,{backgroundColor:"transparent"}),A.to([this.navLinks,this.navBrand,this.navCart,this.menuButton,this.menuLabel,this.closeLabel],{color:"rgba(233, 236, 243, 1)"})}}});t.to(this.navSpacer,{height:"0",ease:"power1.out"}),parseInt(getComputedStyle(this.navSpacer).height)>0&&this.overlayActive===!0&&t.to(this.nav,{top:"0",bottom:"auto",ease:"power2.out"})}navCollpase(t){oi.stop(),t>0&&A.to(this.navSpacer,{height:0,ease:"expo.out"})}navExpand(){this.storeHeight>0?A.to(this.navSpacer,{height:this.storeHeight,ease:"expo.out",onComplete:()=>{oi.start()}}):(oi.start(),console.log("scrolled out of hero"))}menuOpen(){let t=document.querySelector(".section_mobile-menu"),n=[...document.querySelectorAll(".mobile-menu_link")],r=document.querySelector(".nav_socials"),s=document.querySelector(".menu_brand");this.toggleMenuLabel("close");let o=A.timeline();o.fromTo(t,{display:"none",y:"100vh",scale:.7},{duration:1.2,display:"block",y:0,scale:1,ease:"expo.out"}),o.fromTo(s,{opacity:0},{duration:1,opacity:.1,ease:"power2.out"},"<.75"),o.fromTo(n,{opacity:0,y:"2rem"},{opacity:1,y:"0rem",stagger:.2,ease:"power2.inIOut"},"<"),o.fromTo(r,{opacity:0},{duration:1,opacity:1,ease:"power2.inOut"},"<.5")}menuClose(){let t=document.querySelector(".section_mobile-menu");this.toggleMenuLabel("menu"),A.timeline().to(t,{display:"none",y:"100vh",scale:.75,ease:"expo.out"})}toggleMenuLabel(t){if(t==="close"){let n=A.timeline();n.fromTo(this.closeLabel,{y:"2rem",opacity:0,display:"none"},{delay:.4,y:0,opacity:1,display:"block",ease:"power2.out"}),n.to(this.menuLabel,{y:"-2rem",opacity:0},"<")}else{let n=A.timeline();n.to(this.closeLabel,{y:"2rem",opacity:0,display:"none",ease:"power2.out"}),n.to(this.menuLabel,{y:"0rem",opacity:1,display:"block",ease:"power2.out"},"<")}}}new i},vw=Np});var Hp={};Rt(Hp,{default:()=>yw,pageTransition:()=>Fp});var Fp,yw,Bp=V(()=>{"use strict";mt();Fp=()=>{class i{constructor(){this.transitionElement=document.querySelector(".transition_component"),this.transitionWrap=document.querySelector(".transition_fill"),this.links=[...document.querySelectorAll("a")].map(t=>t),this.filteredLinks=this.links.filter(t=>{let n=new URL(t.href,window.location.origin),r=t.className,s=n.hostname===window.location.host,o=!n.href.includes("#"),a=t.target!=="_blank",l=/(w-commerce|cart_)/.test(r);return s&&o&&a&&!l}),this.transitionLogos=[...document.querySelectorAll(".preload_path")].map(t=>t),this.setListeners(),this.checkPage()}checkPage(){window.location.pathname==="/"?A.timeline({onComplete:()=>{A.set(this.transitionElement,{opacity:1})}}).to(this.transitionElement,{duration:.5,opacity:0,display:"none"}):this.animateOut()}setListeners(){this.filteredLinks.forEach(t=>{t.addEventListener("click",n=>{n.preventDefault();let r=t.href;this.animateIn(r)})}),window.onpageshow=function(t){t.persisted&&window.location.reload()}}animateOut(){let t=A.timeline({onComplete:()=>{A.set("html",{height:"auto"}),A.set("body",{overflow:"auto"})}});t.to(this.transitionLogos,{duration:.3,opacity:0,y:"-100%",ease:"circ.out",stagger:.08}),t.to(this.transitionWrap,{duration:1,scale:.6,opacity:1,y:"-100%",ease:"power2.inOut"},"<"),t.to(this.transitionElement,{display:"none"})}animateIn(t){let n=A.timeline({onComplete:()=>{window.location.href=t}});n.set(this.transitionElement,{display:"block"}),n.fromTo(this.transitionWrap,{scale:.6,opacity:0,y:"100%"},{duration:1,scale:1,opacity:1,y:"0%",ease:"power2.inOut"}),n.fromTo(this.transitionLogos,{y:"100%",opacity:0},{duration:.3,opacity:1,y:"0%",ease:"circ.out",stagger:.08},"<.5")}}new i},yw=Fp});var Wp=V(()=>{});var zp=V(()=>{});var Vp=V(()=>{});var Up=V(()=>{zp();Vp()});var qp=V(()=>{});var Yp=V(()=>{});var Gp=V(()=>{});var $p=V(()=>{});var jp,Xp=V(()=>{jp=new Map([["tiny","(max-width: 479px)"],["small","(max-width: 767px)"],["medium","(max-width: 991px)"],["main","(min-width: 992px)"]])});var Kp=V(()=>{});var Qp=V(()=>{});var Jp=V(()=>{Xp();qp();Kp();Qp()});var Zp=V(()=>{Wp();Gp();Yp();Up();$p();Jp()});var e_,t_,Qc=V(()=>{"use strict";Zp();e_=()=>{let i="",e=[...jp],t={tiny:0,small:0,medium:0,main:0};window.addEventListener("resize",()=>{n()}),n();function n(){for(let s in e){let o=e[s][0],a=parseInt(e[s][1].split(":")[1].split("p")[0]);t[o]=a}let r=window.innerWidth;r>t.main?i="desktop":r<t.main&&r>t.small?i="tablet":r<t.medium&&r>t.tiny?i="mobile-landscape":r<t.small&&(i="mobile-portrait")}return[i,window.innerWidth,window.innerHeight]},t_=()=>"ontouchstart"in window||navigator.maxTouchPoints>0});var i_={};Rt(i_,{cursor:()=>n_,default:()=>ww});var n_,ww,r_=V(()=>{"use strict";Qc();mt();n_=()=>{if(t_()){let e=document.querySelector(".trail-segment-template");e.style.display="none";return}class i{constructor(){this.trailElements=[];this.positions=[];this.shrinkTimeout=null;this.pageWrapper=document.querySelector(".page-wrapper"),this.cursorWrapper=document.querySelector(".cursor_component"),this.templateElement=document.querySelector(".trail-segment-template"),this.trailLength=10,this.defaultColor="#751e03",this.hoverColor="#f18a00",this.init()}init(){for(let t=0;t<this.trailLength;t++)this.positions.push({x:0,y:0});for(let t=0;t<this.trailLength;t++){let n=this.templateElement.cloneNode(!0);n.style.display="block",A.set(n,{opacity:1-t/this.trailLength}),this.trailElements.push(n),this.cursorWrapper.appendChild(n)}this.templateElement.style.display="none",window.addEventListener("mousemove",this.handleMouseMove.bind(this)),window.addEventListener("mouseover",this.handleMouseOver.bind(this)),window.addEventListener("mouseout",this.handleMouseOut.bind(this))}handleMouseMove(t){this.shrinkTimeout&&clearTimeout(this.shrinkTimeout);let n=this.positions[0],r=t.clientX-n.x,s=t.clientY-n.y,o=Math.sqrt(r*r+s*s),a=3;if(o>a){let l=Math.ceil(o/a);for(let c=1;c<=l;c++)this.positions.unshift({x:n.x+r/l*c,y:n.y+s/l*c}),this.positions.pop()}else this.positions.unshift({x:t.clientX,y:t.clientY}),this.positions.pop();this.trailElements.forEach((l,c)=>{let{x:u,y:h}=this.positions[c];A.to(l,{x:u,y:h,opacity:1-c/this.trailLength,duration:.2,overwrite:"auto",ease:"power1.out"})}),this.shrinkTimeout=window.setTimeout(()=>this.shrinkTrail(),500)}handleMouseOver(t){t.target.closest("[data-hover-element]")&&this.trailElements.forEach(r=>{A.to(r,{backgroundColor:this.hoverColor,duration:.2})})}handleMouseOut(t){t.target.closest("[data-hover-element]")&&this.trailElements.forEach(r=>{A.to(r,{backgroundColor:this.defaultColor,duration:.2})})}shrinkTrail(){this.trailElements.forEach(t=>{A.to(t,{opacity:0,duration:.3,stagger:.2,ease:"power2.out"})})}}new i},ww=n_});var o_={};Rt(o_,{default:()=>Ew,hoverVideos:()=>s_});var s_,Ew,a_=V(()=>{"use strict";mt();s_=()=>{class i{constructor(){this.hoverElements=[...document.querySelectorAll("[data-hover-video]")].map(t=>t),this.initVideos(),this.setListeners()}initVideos(){this.hoverElements.forEach(t=>{t.querySelector("video").pause()})}setListeners(){this.hoverElements.forEach(t=>{t.addEventListener("mouseenter",n=>{let r=n.target;this.hoverRevealIn(r)})}),this.hoverElements.forEach(t=>{t.addEventListener("mouseout",n=>{let r=n.target;this.hoverRevealOut(r)})})}hoverRevealIn(t){let n=t.children[0],r=t.querySelector("video"),s=[...t.querySelectorAll(".hover_frame-element")].map(a=>a);r.paused?r.play():r.pause();let o=A.timeline();o.to(n,{opacity:0}),o.fromTo(s,{opacity:0},{duration:.5,opacity:1,stagger:.2,ease:"power2.inOut"},"<")}hoverRevealOut(t){let n=t.children[0],r=t.querySelector("video"),s=[...t.querySelectorAll(".hover_frame-element")].map(a=>a);r.paused?r.play():r.pause();let o=A.timeline();o.to(n,{opacity:1}),o.to(s,{duration:.5,opacity:0,ease:"power4.inOut"},"<")}}new i},Ew=s_});var c_={};Rt(c_,{default:()=>bw,scrollScale:()=>l_});var l_,bw,u_=V(()=>{"use strict";Qc();mt();Io();A.registerPlugin(Y);l_=()=>{class i{constructor(){this.scaleParent=document.querySelector(".section_overview"),this.scaleElement=document.querySelector("[data-scroll-scale]"),this.scaleFactor=parseFloat(this.scaleElement.dataset.scrollScale),this.endValues="120% bottom",e_()[0]!=="desktop"&&(this.scaleFactor+=.25,this.endValues="100% bottom"),this.setupScroller()}setupScroller(){this.scaleElement&&A.timeline({scrollTrigger:{trigger:this.scaleParent,start:"top bottom",end:this.endValues,scrub:!0}}).fromTo(this.scaleElement,{scale:this.scaleFactor},{scale:1,ease:"linear"})}}new i},bw=l_});var f_={};Rt(f_,{default:()=>Tw,mediaSlider:()=>h_});var h_,Tw,d_=V(()=>{"use strict";mt();h_=()=>{class i{constructor(){this.sliderTrack=document.querySelector(".slider_track"),this.sliderImages=[...document.querySelectorAll(".slider_image")].map(t=>t),this.nextButton=document.querySelector(".button.is-icon.slider-next"),this.prevButton=document.querySelector(".button.is-icon.slider-prev"),this.labelCurrent=document.querySelector(".slider_i-text.is-current"),this.labelTotal=document.querySelector(".slider_i-text.is-total"),this.curIndex=0,this.currentOffset=0,this.pagePadding=16,this.imageSpacing=16,this.setInitialOffset(),this.setListeners()}setInitialOffset(){this.currentOffset=1,this.updateTextElements(),this.labelTotal.textContent=this.formatNumber(this.sliderImages.length)}setListeners(){this.nextButton.addEventListener("click",()=>this.advance()),this.prevButton.addEventListener("click",()=>this.regress()),window.addEventListener("resize",this.debounce(()=>this.resizeHandler(),200))}advance(){this.curIndex<this.sliderImages.length-1&&(this.currentOffset+=this.sliderImages[this.curIndex].offsetWidth+this.imageSpacing,this.curIndex+=1,this.updateTextElements(),this.updateSliderPosition())}regress(){this.curIndex>0&&(this.curIndex-=1,this.currentOffset-=this.sliderImages[this.curIndex].offsetWidth+this.imageSpacing,this.updateTextElements(),this.updateSliderPosition())}updateSliderPosition(){A.to(this.sliderTrack,{x:-this.currentOffset,duration:.5,ease:"power2.out"})}updateTextElements(){this.labelCurrent.textContent=this.formatNumber(this.curIndex+1)}formatNumber(t){return t<10?`0${t}`:`${t}`}resizeHandler(){this.currentOffset=0;for(let t=0;t<this.curIndex;t++)this.currentOffset+=this.sliderImages[t].offsetWidth+this.imageSpacing;this.updateSliderPosition()}debounce(t,n){let r;return(...s)=>{clearTimeout(r),r=window.setTimeout(()=>t(...s),n)}}}new i},Tw=h_});var __={};Rt(__,{default:()=>Sw,mosaicScroll:()=>p_});var p_,Sw,m_=V(()=>{"use strict";mt();p_=()=>{class i{constructor(){this.component=document.querySelector(".mosaic_component"),this.svgBG=[...document.querySelectorAll(".mosaic_svg")].map(t=>t),this.images=[...document.querySelectorAll(".mosaic_img")].map(t=>t),this.svgLayers=[...document.querySelectorAll(".mosaic_svg-group")].map(t=>t),this.tracks=[...document.querySelectorAll(".mosaic_spacer")].map(t=>t),this.bgColors=["rgba(251, 252, 255, 1)","rgba(233, 236, 243, 1)","rgba(5, 27, 107, 1)","rgba(117, 30, 3, 1)"],this.textColors=["rgba(241, 138, 0, 1)","rgba(241, 138, 0, 1)","rgba(117, 30, 3, 1)","rgba(5, 27, 107, 1)"],this.revealSection(),this.setScroller()}setScroller(){for(let t=0;t<this.tracks.length-1;t++){let n=this.tracks[t];A.timeline({scrollTrigger:{trigger:n,start:"top center",end:"90% bottom",scrub:!0,onUpdate:s=>this.updateBackgroundTransition(s.progress,t)}}).fromTo(this.images[t],{opacity:0,y:"4rem",rotateX:"-8deg"},{opacity:1,y:"0rem",rotateX:"0deg",ease:"linear"})}}updateBackgroundTransition(t,n){if(n>=0&&n<this.bgColors.length-1){let r=this.bgColors[n+1],s=this.bgColors[n],o=this.textColors[n+1],a=this.textColors[n];A.to(this.component,{backgroundColor:A.utils.interpolate(s,r,t),overwrite:!0,duration:0}),A.to(this.svgBG,{color:A.utils.interpolate(a,o,t),overwrite:!0,duration:0,ease:"linear"})}}revealSection(){A.timeline({scrollTrigger:{trigger:this.component,start:"top 85%",end:"top 85%",toggleActions:"play none reverse none"}}).fromTo(this.svgLayers,{opacity:0,y:"2rem"},{duration:1.2,opacity:1,y:"0rem",stagger:.2,ease:"power3.out"})}}new i},Sw=p_});var v_={};Rt(v_,{default:()=>Cw,shopSlider:()=>g_});var g_,Cw,y_=V(()=>{"use strict";mt();g_=()=>{class i{constructor(){this.imageFeed=[...document.querySelectorAll(".slider_data-img")].map(t=>t),this.bgImages=[...document.querySelectorAll(".shop_slider-img")].map(t=>t),this.previewWraps=[...document.querySelectorAll(".slider_preview-wrap")].map(t=>t),this.previewImages=[...document.querySelectorAll(".slider_preview-img")].map(t=>t),this.pIndicators=[...document.querySelectorAll(".slider_preview-indicator")].map(t=>t),this.labelCurrent=document.querySelector(".slider_i-text.is-shop.is-current"),this.labelTotal=document.querySelector(".slider_i-text.is-shop.is-total"),this.currentIndex=0,this.rotationInterval=5e3,this.setupImages(),this.startRotation()}setupImages(){for(let t=0;t<3;t++){let n=this.imageFeed[t];this.bgImages[t].src=n.src,this.previewImages[t].src=n.src,t!==0&&A.set(this.bgImages[t],{opacity:0}),this.labelTotal.textContent=this.formatNumber(this.bgImages.length)}}startRotation(){this.updateIndicator(this.currentIndex),this.updateImages(this.bgImages.length-1,this.currentIndex),this.setActivePreview(this.currentIndex),this.updateTextElements(),setInterval(()=>{let t=this.currentIndex;this.currentIndex=(this.currentIndex+1)%this.bgImages.length,this.updateIndicator(this.currentIndex),this.updateImages(t,this.currentIndex),this.setActivePreview(this.currentIndex),this.updateTextElements()},this.rotationInterval)}updateImages(t,n){A.to(this.bgImages[t],{opacity:0,duration:1}),A.to(this.bgImages[n],{opacity:1,duration:1})}updateIndicator(t){A.timeline({onComplete:()=>{A.to(this.pIndicators[t],{duration:0,x:"0%",ease:"linear"})}}).fromTo(this.pIndicators[t],{x:"0%"},{duration:this.rotationInterval/1e3,x:"100%",ease:"linear"})}setActivePreview(t){this.previewWraps.forEach((n,r)=>{r!==t&&(n.classList.remove("is-active"),A.to(n,{borderColor:"transparent",duration:.5}))}),this.previewWraps[t].classList.add("is-active"),A.to(this.previewWraps[t],{borderColor:"currentColor",duration:.5})}updateTextElements(){this.labelCurrent.textContent=this.formatNumber(this.currentIndex+1)}formatNumber(t){return t<10?`0${t}`:`${t}`}}new i},Cw=g_});var E_={};Rt(E_,{default:()=>xw,shop:()=>w_});var w_,xw,b_=V(()=>{"use strict";w_=()=>{class i{constructor(){this.shopItems=[...document.querySelectorAll(".shop_item")].map(t=>t),this.setListeners()}setListeners(){this.shopItems.forEach(t=>{t.addEventListener("mouseover",()=>{console.log("over")})})}}},xw=w_});var S_={};Rt(S_,{default:()=>Iw,productSlider:()=>T_});var T_,Iw,C_=V(()=>{"use strict";mt();T_=()=>{class i{constructor(){this.previews=document.querySelectorAll(".p-slider_preview-item"),this.sliderImages=document.querySelectorAll(".p-slider_img"),this.activeIndex=0,this.init()}init(){if(this.previews.length!==this.sliderImages.length){console.error("Mismatch in number of preview and slider images.");return}this.sliderImages.forEach((t,n)=>{A.set(t,{opacity:n===this.activeIndex?1:0})}),this.previews.forEach((t,n)=>{n===this.activeIndex?t.classList.add("is-active"):t.classList.remove("is-active"),t.addEventListener("click",()=>this.handlePreviewClick(n))})}handlePreviewClick(t){if(t===this.activeIndex)return;let n=this.sliderImages[this.activeIndex],r=this.sliderImages[t],s=this.previews[this.activeIndex],o=this.previews[t],a=A.timeline();a.to(n,{opacity:0,duration:.5,ease:"power1.out"}),a.to(r,{opacity:1,duration:.5,ease:"power1.in"},"<"),s.classList.remove("is-active"),o.classList.add("is-active"),this.activeIndex=t}}new i},Iw=T_});var I_={};Rt(I_,{banner:()=>x_,default:()=>kw});var x_,kw,k_=V(()=>{"use strict";mt();x_=()=>{class i{constructor(){this.bannerTrack=document.querySelector(".banner_track"),this.bannerTrack&&this.setLiisteners()}setLiisteners(){this.bannerMove(),window.addEventListener("resize",()=>{this.bannerMove()})}bannerMove(){let t=this.bannerTrack.clientWidth-window.innerWidth,r=Math.abs(t/50);A.timeline({repeat:-1,yoyo:!0}).to(this.bannerTrack,{duration:r,x:-t,ease:"linear"})}}new i},kw=x_});var P_={};Rt(P_,{default:()=>Mw,formHandler:()=>M_});var M_,Mw,A_=V(()=>{"use strict";mt();M_=()=>{class i{constructor(){this.formWrap=document.querySelector(".newsletter_form-wrap"),this.form=document.querySelector("[data-mail-form]"),this.successElement=this.formWrap.querySelector(".newsletter_success"),this.errorElement=this.formWrap.querySelector(".form_message-error"),this.formButton=this.form.querySelector("input[type=submit]"),this.endpoint=this.form.action,this.setListener(),this.resetFormStatus()}setListener(){this.form.addEventListener("submit",async t=>{t.preventDefault(),t.stopPropagation();let r=document.querySelector("input[name=Email]").value.trim();if(this.formButton.value="Submitting...",!r||!this.isValidEmail(r)){this.showError("Please enter a valid email");return}let s={email:r};try{let o=await fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await o.json();if(o.ok)this.showSuccess();else{let l=a.error.detail;a.error.title==="Member Exists"?(l="You are already a member!",this.errorElement.style.backgroundColor="#F18A00"):this.errorElement.style.backgroundColor="#751E03",this.showError(l)}}catch(o){console.log("Network Error!!!",o),this.showError("Network error. Please try again later.")}})}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}showSuccess(){this.resetFormStatus();let t=A.timeline();t.to(this.form,{display:"none"}),t.to(this.successElement,{display:"block"}),this.formButton.value="Submit"}showError(t){let n=this.errorElement.children[0];n.innerHTML=t,A.to(this.errorElement,{display:"block"}),this.formButton.value="Submit"}resetFormStatus(){A.to(this.successElement,{display:"none"}),A.to(this.errorElement,{display:"none"})}}new i},Mw=M_});gl();function ef(){var n,r,s;let i=window.Webflow,e=document.documentElement.hasAttribute("w-editor")||typeof window.WebflowEditor!="undefined"||((n=i==null?void 0:i.env)==null?void 0:n.call(i,"editor"))===!0,t=((r=i==null?void 0:i.env)==null?void 0:r.call(i,"preview"))===!0;return console.log(">>>",e,t),console.log("E>>",document.documentElement),console.log("P>>",(s=i==null?void 0:i.env)==null?void 0:s.call(i,"preview")),e?"editor":t?"preview":"published"}var kt=(i,e)=>{document.querySelector(i)&&e().then(n=>{n.default()})};yl();window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{console.log("/// Oakley ///"),window.addEventListener("click",e=>{console.log(e.target)});let i=ef();console.log("env!!",i),console.log(i==="preview"?"\u{1F440} Designer Preview mode!":i==="editor"?"\u{1F6E0} Editor Mode":"\u{1F30D} Production site"),i==="published"&&(Po.isVerified()?window.location.pathname==="/"&&Mo.heroReveal():kt(".verify_component",()=>Promise.resolve().then(()=>(Sp(),Tp)))),kt(".nav_component",()=>Promise.resolve().then(()=>(Op(),Dp))),kt(".transition_component",()=>Promise.resolve().then(()=>(Bp(),Hp))),kt(".cursor_component",()=>Promise.resolve().then(()=>(r_(),i_))),kt("[data-hover-video]",()=>Promise.resolve().then(()=>(a_(),o_))),kt(".overview_component",()=>Promise.resolve().then(()=>(u_(),c_))),kt(".slider_component",()=>Promise.resolve().then(()=>(d_(),f_))),kt(".mosaic_component",()=>Promise.resolve().then(()=>(m_(),__))),kt(".shop-slider_component",()=>Promise.resolve().then(()=>(y_(),v_))),kt(".shop_component",()=>Promise.resolve().then(()=>(b_(),E_))),kt(".product_component",()=>Promise.resolve().then(()=>(C_(),S_))),kt(".banner_component",()=>Promise.resolve().then(()=>(k_(),I_))),kt("[data-mail-form]",()=>Promise.resolve().then(()=>(A_(),P_)))});})();
/*! Bundled license information:

gsap/gsap-core.js:
  (*!
   * GSAP 3.11.4
   * https://greensock.com
   *
   * @license Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/CSSPlugin.js:
  (*!
   * CSSPlugin 3.11.4
   * https://greensock.com
   *
   * Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/Observer.js:
  (*!
   * Observer 3.11.4
   * https://greensock.com
   *
   * @license Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/ScrollTrigger.js:
  (*!
   * ScrollTrigger 3.11.4
   * https://greensock.com
   *
   * @license Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/database/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

gsap/utils/paths.js:
  (*!
   * paths 3.11.4
   * https://greensock.com
   *
   * Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/CustomEase.js:
  (*!
   * CustomEase 3.11.4
   * https://greensock.com
   *
   * @license Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)
*/
